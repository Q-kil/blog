<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"b2t":false,"scrollpercent":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="基础知识基本数据类型primitive7种string，number，bigint，boolean，null，undefined，symbol 应用类型Object 类型、Array 类型、Date 类型、RegExp 类型、Function 类型 等 冻结对象Object.freeze(obj); 运算符&amp;&amp; 逻辑与&amp; 按位与 获取元素上的属性值返回元素上一个指定的属性值">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript">
<meta property="og:url" content="http://example.com/2020/03/22/JavaScript/index.html">
<meta property="og:site_name" content="Kil Notes">
<meta property="og:description" content="基础知识基本数据类型primitive7种string，number，bigint，boolean，null，undefined，symbol 应用类型Object 类型、Array 类型、Date 类型、RegExp 类型、Function 类型 等 冻结对象Object.freeze(obj); 运算符&amp;&amp; 逻辑与&amp; 按位与 获取元素上的属性值返回元素上一个指定的属性值">
<meta property="og:locale">
<meta property="og:image" content="http://example.com/2020/03/22/JavaScript/closure.png">
<meta property="og:image" content="http://example.com/2020/03/22/JavaScript/proto.png">
<meta property="article:published_time" content="2020-03-22T07:19:52.000Z">
<meta property="article:modified_time" content="2023-04-06T10:27:21.390Z">
<meta property="article:author" content="kil">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2020/03/22/JavaScript/closure.png">

<link rel="canonical" href="http://example.com/2020/03/22/JavaScript/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>JavaScript | Kil Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Kil Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Quick notes</p>
      <a>
        <img class="custom-logo-image" src="[object Object]" alt="Kil Notes">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/22/JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-22 15:19:52" itemprop="dateCreated datePublished" datetime="2020-03-22T15:19:52+08:00">2020-03-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p>primitive<br>7种<br>string，number，bigint，boolean，null，undefined，symbol</p>
<h2 id="应用类型"><a href="#应用类型" class="headerlink" title="应用类型"></a>应用类型</h2><p>Object 类型、Array 类型、Date 类型、RegExp 类型、Function 类型 等</p>
<h2 id="冻结对象"><a href="#冻结对象" class="headerlink" title="冻结对象"></a>冻结对象</h2><p>Object.freeze(obj);</p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>&amp;&amp; 逻辑与<br>&amp; 按位与</p>
<h2 id="获取元素上的属性值"><a href="#获取元素上的属性值" class="headerlink" title="获取元素上的属性值"></a>获取元素上的属性值</h2><p>返回元素上一个指定的属性值。如果指定的属性不存在，则返回  null 或 “” （空字符串）<br>let attribute = element.getAttribute(attributeName);</p>
<h2 id="函数自执行"><a href="#函数自执行" class="headerlink" title="函数自执行"></a>函数自执行</h2><p>IIFE（立即调用函数表达式）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<h2 id="处理-URL-查询字符串"><a href="#处理-URL-查询字符串" class="headerlink" title="处理 URL 查询字符串"></a>处理 URL 查询字符串</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prms = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(&#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Jonas&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Gauffin&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(prms.<span class="title function_">toString</span>());</span><br><span class="line"><span class="comment">// firstName=Jonas&amp;lastName=Gauffin</span></span><br></pre></td></tr></table></figure>

<h2 id="格式化数字"><a href="#格式化数字" class="headerlink" title="格式化数字"></a>格式化数字</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">number.<span class="title function_">toFixed</span>(<span class="number">2</span>) <span class="comment">// 2: 可以自定义小数位</span></span><br></pre></td></tr></table></figure>

<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><p>setInterval<br>interval: 间隔<br>setTimeout<br>timeout：超时</p>
<h2 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>.<span class="property">length</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;arg&#x27;</span>, <span class="variable language_">arguments</span>[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数回调"><a href="#函数回调" class="headerlink" title="函数回调"></a>函数回调</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.facebook&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">facebookHandle</span>(fbLogin);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fbLogin</span>(<span class="params">token</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fb token&#x27;</span>, token);</span><br><span class="line">  <span class="keyword">var</span> fbLoginApi = <span class="string">&#x27;account/third_signin&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> parame = <span class="string">&#x27;&#123;&quot;third_token&quot;: &quot;&#x27;</span> + token + <span class="string">&#x27;&quot;,&quot;third_type&quot;:&quot;facebook&quot;&#125;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">xhrCommon</span>(<span class="string">&#x27;post&#x27;</span>, fbLoginApi, <span class="literal">false</span>, parame, <span class="keyword">function</span> <span class="title function_">success</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    store.<span class="title function_">set</span>(<span class="string">&#x27;user&#x27;</span>, data);</span><br><span class="line">    <span class="title function_">alertHandle</span>(<span class="string">&#x27;success&#x27;</span>, <span class="string">&#x27;Login Success&#x27;</span>);</span><br><span class="line">    <span class="title function_">authtokenCallback</span>();</span><br><span class="line">  &#125;, <span class="keyword">function</span> <span class="title function_">error</span>(<span class="params">err</span>)&#123;</span><br><span class="line">    <span class="title function_">alertHandle</span>(<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;Login Error:&#x27;</span>+ err.<span class="property">msg</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence</a></p>
<h2 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h2><h3 id="调用父级dom方法"><a href="#调用父级dom方法" class="headerlink" title="调用父级dom方法"></a>调用父级dom方法</h3><p>window.parent.parentFn();</p>
<h3 id="向子级发数据"><a href="#向子级发数据" class="headerlink" title="向子级发数据"></a>向子级发数据</h3><p>frameEle.contentWindow.postMessage(message, ‘*’);</p>
<h3 id="向父级发数据"><a href="#向父级发数据" class="headerlink" title="向父级发数据"></a>向父级发数据</h3><p>window.parent.postMessage(message, ‘*’);</p>
<h3 id="监听发来的事件"><a href="#监听发来的事件" class="headerlink" title="监听发来的事件"></a>监听发来的事件</h3><p>window.addEventListener(‘message’, function(e) {<br>  const data = JSON.parse(e.data);<br>  // Where does the message come from<br>  const channel = data.channel;<br>});</p>
<h2 id="阻止事件"><a href="#阻止事件" class="headerlink" title="阻止事件"></a>阻止事件</h2><h3 id="form-表单内回车-刷新页面"><a href="#form-表单内回车-刷新页面" class="headerlink" title="form 表单内回车 刷新页面"></a>form 表单内回车 刷新页面</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onsubmit</span>=<span class="string">&quot;event.preventDefault();&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;test()&quot;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="a-标签跳转"><a href="#a-标签跳转" class="headerlink" title="a 标签跳转"></a>a 标签跳转</h3><p>1、e.preventDefault();<br>2、href=”javascript:void(0);”</p>
<h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><p>location.reload()  //刷新页面</p>
<p>location.protocol<br>http / https:</p>
<p>location.hostname<br>a.com</p>
<h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><p>取整 四舍五入<br>Math.round(67.55);   //68</p>
<p>向下取整<br>console.log(Math.floor(45.84334));//45</p>
<p>向上取整<br>console.log(Math.ceil(5.4443));//6</p>
<p>随机数0-1<br>console.log(Math.random());//0—–1之间</p>
<h2 id="userAgent"><a href="#userAgent" class="headerlink" title="userAgent"></a>userAgent</h2><p> navigator.userAgent;</p>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>作用域（Scope）    -<br>window/global Scope    全局作用域<br>function Scope    函数作用域<br>Block Scope    块作用域（ES6）<br>eval Scope    eval作用域 【eval() 函数会将传入的字符串当做 JavaScript 代码进行执行】</p>
<h3 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h3><p>变量作用域的查找是一个扩散过程，就像各个环节相扣的链条（”变量提升”一直向上找），逐次递进，这就是“作用域链”的由来。</p>
<h2 id="生成固定长度数组"><a href="#生成固定长度数组" class="headerlink" title="生成固定长度数组"></a>生成固定长度数组</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">lastReport</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123;<span class="attr">length</span>: <span class="number">5</span>&#125;,<span class="function">(<span class="params">item,index</span>)=&gt;</span>item = &#123;</span><br><span class="line">    <span class="attr">skuName</span>: <span class="string">&quot;消息推送tst&quot;</span>,</span><br><span class="line">    <span class="attr">taskId</span>: <span class="number">98</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1-12</span></span><br><span class="line"><span class="title class_">Array</span>(<span class="number">12</span>).<span class="title function_">fill</span>(<span class="number">1</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">v,k</span>)=&gt;</span>k+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="点击事件"><a href="#点击事件" class="headerlink" title="点击事件"></a>点击事件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 onclick=<span class="string">&quot;test()&quot;</span>&gt;click&lt;/h1&gt;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Clicked!&#x27;</span>));</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ele&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Clicked!&#x27;</span>));</span><br></pre></td></tr></table></figure>
<p>第三参数<br>可选。布尔值，指定事件是否在捕获或冒泡阶段执行。</p>
<p>可能值:<br>true - 事件句柄在捕获阶段执行<br>false - 默认。事件句柄在冒泡阶段执行</p>
<p>options 可选<br>一个指定有关 listener 属性的可选参数对象。可用的选项如下：<br>capture:  Boolean，表示 listener 会在该类型的事件捕获阶段传播到该 EventTarget 时触发。<br>once:  Boolean，表示 listener 在添加之后最多只调用一次。如果是 true， listener 会在其被调用之后自动移除。</p>
<h3 id="执行两次问题"><a href="#执行两次问题" class="headerlink" title="执行两次问题"></a>执行两次问题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;click&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, test, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  e.<span class="title function_">stopPropagation</span>(); <span class="comment">// 防止冒泡</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="遮罩弹框"><a href="#遮罩弹框" class="headerlink" title="遮罩弹框"></a>遮罩弹框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.mask</span>&#123;<span class="attribute">position</span>: fixed;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: <span class="number">100%</span>;<span class="attribute">top</span>: <span class="number">0</span>;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>);&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span>&#123;<span class="attribute">width</span>: <span class="number">80%</span>;<span class="attribute">overflow</span>: hidden;<span class="attribute">position</span>: absolute;<span class="attribute">top</span>: <span class="number">50%</span>;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">right</span>: <span class="number">0</span>;<span class="attribute">margin</span>:auto;<span class="attribute">border-radius</span>: <span class="number">8px</span>;<span class="attribute">background-color</span>: <span class="number">#fff</span>;<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);-webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span> <span class="selector-class">.title</span>&#123;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: <span class="number">50px</span>;<span class="attribute">line-height</span>: <span class="number">57px</span>;<span class="attribute">text-align</span>: center;<span class="attribute">font-size</span>: <span class="number">18px</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span> <span class="selector-class">.content</span>&#123;<span class="attribute">margin</span>: <span class="number">0</span> auto;<span class="attribute">font-size</span>: <span class="number">14px</span>;<span class="attribute">line-height</span>: <span class="number">20px</span>;<span class="attribute">text-align</span>: center;<span class="attribute">padding-left</span>: <span class="number">21px</span>;<span class="attribute">padding-right</span>: <span class="number">21px</span>;<span class="attribute">padding-bottom</span>: <span class="number">24px</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span> <span class="selector-class">.i_know</span>&#123;<span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>:<span class="number">46px</span>;<span class="attribute">color</span>: <span class="number">#4691ee</span>;<span class="attribute">text-align</span>: center;<span class="attribute">font-size</span>: <span class="number">16px</span>;<span class="attribute">line-height</span>: <span class="number">46px</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">4000px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>sdfjslfslfjslf<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mask&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;warn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>提示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>即将推出，敬请期待<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;i_know&quot;</span>&gt;</span>我知道了<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> mask = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;mask&#x27;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">    mask.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mask&#x27;</span>, e);</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;e.target&#x27;</span>, e.<span class="property">target</span>, mask);</span></span><br><span class="line"><span class="language-javascript">      </span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (e.<span class="property">target</span> === mask) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ele&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> warn = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;warn&#x27;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">    warn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      event.<span class="title function_">stopPropagation</span>()</span></span><br><span class="line"><span class="language-javascript">      event.<span class="property">cancelBubble</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;warn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="操作css"><a href="#操作css" class="headerlink" title="操作css"></a>操作css</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在单个语句中设置多个样式</span></span><br><span class="line">elt.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">&quot;color: blue; border: 1px solid black&quot;</span>;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">elt.<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;color:red; border: 1px solid blue;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置特定样式，同时保持其他内联样式值不变</span></span><br><span class="line">elt.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IE 不支持 ele.style = ``; 只能使用</span></span><br><span class="line">elt.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&quot;blue&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取元素的样式"><a href="#获取元素的样式" class="headerlink" title="获取元素的样式"></a>获取元素的样式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">style</span>.<span class="property">width</span>);  <span class="comment">//什么也没有</span></span><br><span class="line"><span class="keyword">var</span> sty = div.<span class="property">currentStyle</span> || <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(div,<span class="literal">null</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sty.<span class="property">width</span>);   <span class="comment">//100px;</span></span><br></pre></td></tr></table></figure>

<h3 id="remove-class"><a href="#remove-class" class="headerlink" title="remove class"></a>remove class</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divs = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; divs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  divs[i].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;green&#x27;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;light&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="操作html"><a href="#操作html" class="headerlink" title="操作html"></a>操作html</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vertionEle = <span class="string">`&lt;div style=&quot;position:fixed; left: 2px; bottom: 2px; color: #fff;&quot;&gt;&lt;span&gt;游戏版本：<span class="subst">$&#123;appVersion.appVersion&#125;</span>&lt;/span&gt;&lt;br&gt;&lt;span&gt;内核版本：<span class="subst">$&#123;gamecoreVersion&#125;</span>&lt;/span&gt;&lt;/div&gt;`</span></span><br><span class="line">ele.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, vertionEle);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">位置名称的可视化</span><br><span class="line">&lt;!-- beforebegin --&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">  &lt;!-- afterbegin --&gt;</span><br><span class="line">  foo</span><br><span class="line">  &lt;!-- beforeend --&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;!-- afterend --&gt;</span><br></pre></td></tr></table></figure>

<h2 id="setTimeout-amp-setInterval"><a href="#setTimeout-amp-setInterval" class="headerlink" title="setTimeout &amp; setInterval"></a>setTimeout &amp; setInterval</h2><p>setTimeout()方法设置一个定时器，该定时器在定时器到期后执行一个函数或指定的一段代码。<br>setInterval() 方法重复调用一个函数或执行一个代码段，在每次调用之间具有固定的时间延迟。</p>
<h2 id="对象添加健值对"><a href="#对象添加健值对" class="headerlink" title="对象添加健值对"></a>对象添加健值对</h2><p>object[key] = value</p>
<h3 id="对象长度"><a href="#对象长度" class="headerlink" title="对象长度"></a>对象长度</h3><p>Object.getOwnPropertyNames(op_def.AvatarSlot).length</p>
<h2 id="url-解码"><a href="#url-解码" class="headerlink" title="url 解码"></a>url 解码</h2><p>decodeURIComponent(‘https%3A%2F%2Fosd-alpha.tooqing.com’);</p>
<h2 id="当前-url"><a href="#当前-url" class="headerlink" title="当前 url"></a>当前 url</h2><p>window.location.href</p>
<h2 id="document"><a href="#document" class="headerlink" title="document"></a>document</h2><p>滚动条位置：<br>document.documentElement.scrollTop</p>
<p>距离父级高度：<br>document.getElementById(‘onlinePlayerCount’).offsetTop</p>
<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><p>set<br>document.cookie = ‘key=value’</p>
<h2 id="window"><a href="#window" class="headerlink" title="window"></a>window</h2><p>窗口高度：<br>window.innerHeight</p>
<p>alert( window.innerWidth ); // 整个窗口的宽度<br>alert( document.documentElement.clientWidth ); // 减去滚动条宽度后的窗口宽度</p>
<h3 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">setLaunch</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> e = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;launch&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;e&#x27;</span>, e, e.<span class="property">clientWidth</span>, e.<span class="property">clientHeight</span>);</span><br><span class="line">    </span><br><span class="line">      <span class="keyword">var</span> n = <span class="variable language_">document</span>.<span class="property">documentElement</span></span><br><span class="line">        , o = e.<span class="property">clientWidth</span></span><br><span class="line">        , r = e.<span class="property">clientHeight</span></span><br><span class="line">        , t = n.<span class="title function_">getBoundingClientRect</span>()</span><br><span class="line">        , i = t.<span class="property">width</span></span><br><span class="line">        , a = t.<span class="property">height</span>;</span><br><span class="line">      o &gt; i &amp;&amp; (e.<span class="property">style</span>.<span class="property">width</span> = i + <span class="string">&quot;px&quot;</span>),</span><br><span class="line">      r != a &amp;&amp; (e.<span class="property">style</span>.<span class="property">height</span> = a + <span class="string">&quot;px&quot;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;t&#x27;</span>, t);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&amp;&amp;&#x27;</span>, o &gt; i &amp;&amp; (e.<span class="property">style</span>.<span class="property">width</span> = i + <span class="string">&quot;px&quot;</span>));</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">setLaunch</span> = setLaunch,</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">setLaunch</span>(),</span><br><span class="line">  <span class="comment">// window.addEventListener(&quot;resize&quot;, window.setLaunch)</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,<span class="title function_">debounce</span>(<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;end of resizing&quot;</span>);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">setLaunch</span>();</span><br><span class="line">  &#125;));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> timer;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">event</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(timer) <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(func,<span class="number">1000</span>,event);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="slice-、substring-区别"><a href="#slice-、substring-区别" class="headerlink" title="slice()、substring() 区别"></a>slice()、substring() 区别</h3><p>操作长度：<br>substring(start, end?)<br>indexStart: 必需。一个非负的整数<br>indexEnd: 选填。不含尾</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;abc&quot;</span>.<span class="title function_">substring</span>(<span class="number">1</span>,<span class="number">2</span>)); <span class="comment">// returns &quot;b&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="indexOf-、match-、search-区别"><a href="#indexOf-、match-、search-区别" class="headerlink" title="indexOf()、match()、search()区别"></a>indexOf()、match()、search()区别</h3><p>操作索引，返回下标<br>indexOf<br>search: 检索字符串中子字符串，或检索与正则表达式匹配的子字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.<span class="title function_">search</span>(<span class="regexp">/DEF/</span>) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>正则表达式操作，返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&#x27;1 abc 2 def 3&#x27;</span>;</span><br><span class="line">str.<span class="title function_">match</span>(<span class="regexp">/\d+/g</span>) <span class="comment">// [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="宽高"><a href="#宽高" class="headerlink" title="宽高"></a>宽高</h2><h3 id="网页全文的高度和宽度"><a href="#网页全文的高度和宽度" class="headerlink" title="网页全文的高度和宽度"></a>网页全文的高度和宽度</h3><p>获取的是body中的 内容 的高度，不会受到body本身的高度影响<br>如果body给定了固定高度/宽度 ，获取的依然是body里面内容的高度</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>    <span class="comment">//文档高度 body中内容的高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollWidth</span>     <span class="comment">//文档宽度 **body中内容的宽度**</span></span><br></pre></td></tr></table></figure>

<p>受body高度影响</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span></span><br></pre></td></tr></table></figure>

<h3 id="屏幕的高度和宽度（屏幕像素）"><a href="#屏幕的高度和宽度（屏幕像素）" class="headerlink" title="屏幕的高度和宽度（屏幕像素）"></a>屏幕的高度和宽度（屏幕像素）</h3><p>获取整个屏幕的高\宽度<br>这是一个固定值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">height</span>    <span class="comment">//屏幕高度</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">width</span>     <span class="comment">//屏幕宽度</span></span><br></pre></td></tr></table></figure>

<h3 id="获取屏幕可工作区域的高度和宽度（去掉状态栏）"><a href="#获取屏幕可工作区域的高度和宽度（去掉状态栏）" class="headerlink" title="获取屏幕可工作区域的高度和宽度（去掉状态栏）"></a>获取屏幕可工作区域的高度和宽度（去掉状态栏）</h3><p>只去除了上面的状态栏，打开控制台不受影响<br>这是一个固定值，不受浏览器窗口大小而改变</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">availHeight</span>    <span class="comment">//可视区域去除状态栏高度</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">availWidth</span>    <span class="comment">//可视区域去除状态栏宽度（和上面的值一样）</span></span><br></pre></td></tr></table></figure>

<h3 id="网页可见区域的高度和宽度"><a href="#网页可见区域的高度和宽度" class="headerlink" title="网页可见区域的高度和宽度"></a>网页可见区域的高度和宽度</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">innerHeight</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">innerWidth</span>     <span class="comment">//没有去除滚动条的宽度</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span>    <span class="comment">//去除滚动条的宽度</span></span><br></pre></td></tr></table></figure>

<h2 id="document-1"><a href="#document-1" class="headerlink" title="document"></a>document</h2><p>document.documentElement与document.body<br>document代表的是整个文档(对于一个网页来说包括整个网页结构)，document.documentElement是整个文档节点树的根节点，在网页中即html标签；<br>document.body是整个文档DOM节点树里的body节点，网页中即为body标签元素。</p>
<h3 id="Element-clientHeight"><a href="#Element-clientHeight" class="headerlink" title="Element.clientHeight"></a>Element.clientHeight</h3><h3 id="execCommand"><a href="#execCommand" class="headerlink" title="execCommand"></a>execCommand</h3><p>当一个HTML文档切换到设计模式时，document暴露 execCommand 方法，该方法允许运行命令来操纵可编辑内容区域的元素。<br>bool = document.execCommand(aCommandName, aShowDefaultUI, aValueArgument)<br>返回值<br>一个 Boolean ，如果是 false 则表示操作不被支持或未被启用。<br>copy<br>拷贝当前选中内容到剪贴板。启用这个功能的条件因浏览器不同而不同，而且不同时期，其启用条件也不尽相同。使用之前请检查浏览器兼容表，以确定是否可用。</p>
<h2 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h2><p>格式化数字，使整数部分每三位加一个逗号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">23333</span>,</span><br><span class="line">num.<span class="title function_">toLocaleString</span>(); <span class="comment">// 23,333</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">2333333</span>;</span><br><span class="line">num.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;zh&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;currency&#x27;</span>, <span class="attr">currency</span>: <span class="string">&#x27;CNY&#x27;</span> &#125;);  </span><br><span class="line"><span class="string">&#x27;¥2,333,333.00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">2333333</span>;</span><br><span class="line">num.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;zh&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;currency&#x27;</span>, <span class="attr">currency</span>: <span class="string">&#x27;USD&#x27;</span> &#125;);  </span><br><span class="line"><span class="string">&#x27;US$2,333,333.00&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="element"><a href="#element" class="headerlink" title="element"></a>element</h2><h3 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h3><p>Element.setAttribute()</p>
<h2 id="操作类"><a href="#操作类" class="headerlink" title="操作类"></a>操作类</h2><p>Element.classList 是一个只读属性，返回一个元素的类属性的实时 DOMTokenList 集合。<br>但是你可以使用 add() 和 remove() 方法修改它。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">div.<span class="property">className</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始状态：&lt;div class=&quot;foo&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">outerHTML</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 classList API 移除、添加类值</span></span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;anotherclass&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;div class=&quot;anotherclass&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">outerHTML</span>);</span><br></pre></td></tr></table></figure>

<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  this_.<span class="property">networkStatus</span> = navigator.<span class="property">onLine</span> ? <span class="string">&quot;online&quot;</span> : <span class="string">&quot;offline&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;online&quot;</span>,  networkStatus);</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;offline&quot;</span>, networkStatus);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">networkStatus</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    this_.<span class="property">networkStatus</span> = navigator.<span class="property">onLine</span> ? <span class="string">&quot;online&quot;</span> : <span class="string">&quot;offline&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="时间日期"><a href="#时间日期" class="headerlink" title="时间日期"></a>时间日期</h2><p>yyyy-MM-dd HH:mm:ss<br>年-月-日 时:分:秒<br>大写是为了区分“ 月”与“ 分”</p>
<p>顺便说下HH为什么大写，是为了区分 12小时制与 24小时制。<br>小写的h是12小时制，大写的H是24小时制。</p>
<p>时间戳<br>new Date().getTime()<br>Date.now()</p>
<p>某一天<br>new Date(‘2021-04-01T03:24:00’);</p>
<h3 id="moment"><a href="#moment" class="headerlink" title="moment"></a>moment</h3><p>毫秒<br>moment().valueOf() </p>
<h4 id="UTC"><a href="#UTC" class="headerlink" title="UTC"></a>UTC</h4><p>moment.utc().format();<br>“2021-04-09T12:29:31Z”</p>
<p>moment.utc(1617971728931).format();<br>“2021-04-09T12:35:28Z”</p>
<h3 id="一天的开始和结束"><a href="#一天的开始和结束" class="headerlink" title="一天的开始和结束"></a>一天的开始和结束</h3><p>方法一</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> zero = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(result[<span class="number">0</span>]).<span class="title function_">toLocaleDateString</span>()).<span class="title function_">getTime</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;00:00&#x27;</span>, zero);</span><br><span class="line"><span class="keyword">let</span> end = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(result[<span class="number">1</span>]).<span class="title function_">toLocaleDateString</span>()).<span class="title function_">getTime</span>() + <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span> - <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;59:59&#x27;</span>, end);</span><br></pre></td></tr></table></figure>

<p>方法二</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">now.<span class="title function_">setHours</span>(<span class="number">00</span>, <span class="number">00</span>, <span class="number">00</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getTime</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> e = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2021-04-01T03:24:00&#x27;</span>);</span><br><span class="line">e.<span class="title function_">setHours</span>(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>, <span class="number">999</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;e&#x27;</span>, e.<span class="title function_">getTime</span>());</span><br></pre></td></tr></table></figure>

<p>方法三</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">DayStart</span>(<span class="params">date</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> weeHours = <span class="title function_">moment</span>(date).<span class="title function_">startOf</span>(<span class="string">&#x27;day&#x27;</span>).<span class="title function_">valueOf</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;weeHours&#x27;</span>, weeHours);</span><br><span class="line">  <span class="keyword">return</span> weeHours;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">DayEnd</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> end = <span class="title function_">moment</span>(data).<span class="title function_">endOf</span>(<span class="string">&#x27;day&#x27;</span>).<span class="title function_">valueOf</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>, end);</span><br><span class="line">  <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><h3 id="二进制或运算符"><a href="#二进制或运算符" class="headerlink" title="二进制或运算符"></a>二进制或运算符</h3><p>二进制或运算符（|）逐位比较两个运算子，两个二进制位之中只要有一个为1，就返回1，否则返回0。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> | <span class="number">3</span> <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>上面代码中，0和3的二进制形式分别是00和11，所以进行二进制或运算会得到11（即3）。<br>位运算只对整数有效，遇到小数时，会将小数部分舍去，只保留整数部分。所以，将一个小数与0进行二进制或运算，等同于对该数去除小数部分，即取整数位。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.9</span> | <span class="number">0</span> <span class="comment">// 2</span></span><br><span class="line">-<span class="number">2.9</span> | <span class="number">0</span> <span class="comment">// -2</span></span><br></pre></td></tr></table></figure>

<p>需要注意的是，这种取整方法不适用超过32位整数最大值2147483647的数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2147483649.4</span> | <span class="number">0</span>;</span><br><span class="line"><span class="comment">// -2147483647</span></span><br></pre></td></tr></table></figure>

<h3 id="左移运算符"><a href="#左移运算符" class="headerlink" title="左移运算符"></a>左移运算符</h3><p>左移运算符（&lt;&lt;）表示将一个数的二进制值向左移动指定的位数，尾部补0，即乘以2的指定次方。向左移动的时候，最高位的符号位是一起移动的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4 的二进制形式为100，</span></span><br><span class="line"><span class="comment">// 左移一位为1000（即十进制的8）</span></span><br><span class="line"><span class="comment">// 相当于乘以2的1次方</span></span><br><span class="line"><span class="number">4</span> &lt;&lt; <span class="number">1</span></span><br><span class="line"><span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line">-<span class="number">4</span> &lt;&lt; <span class="number">1</span></span><br><span class="line"><span class="comment">// -8</span></span><br></pre></td></tr></table></figure>

<p>如果左移0位，就相当于将该数值转为32位整数，等同于取整，对于正数和负数都有效。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">13.5</span> &lt;&lt; <span class="number">0</span></span><br><span class="line"><span class="comment">// 13</span></span><br><span class="line"></span><br><span class="line">-<span class="number">13.5</span> &lt;&lt; <span class="number">0</span></span><br><span class="line"><span class="comment">// -13</span></span><br></pre></td></tr></table></figure>

<h3 id="或运算符"><a href="#或运算符" class="headerlink" title="或运算符"></a>或运算符</h3><p>&amp;</p>
<h2 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> encodedData = <span class="variable language_">window</span>.<span class="title function_">btoa</span>(<span class="string">&quot;Hello, world&quot;</span>); <span class="comment">// 编码</span></span><br><span class="line"><span class="keyword">let</span> decodedData = <span class="variable language_">window</span>.<span class="title function_">atob</span>(encodedData);    <span class="comment">// 解码</span></span><br></pre></td></tr></table></figure>

<h2 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a>while语句</h2><p>一个 while 语句只要指定的条件求值为真（true）就会一直执行它的语句块。一个 while 语句看起来像这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">go</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="title function_">green</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">1000</span>);</span><br><span class="line">    <span class="title function_">yellow</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">300</span>);</span><br><span class="line">    <span class="title function_">red</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="do-while"><a href="#do-while" class="headerlink" title="do while"></a>do while</h3><p>do…while 语句创建一个执行指定语句的循环，直到condition值为 false。在执行statement 后检测condition，所以指定的statement至少执行一次。<br>do<br>   statement<br>while (condition);</p>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><p>Array.prototype.fill()<br>fill() 方法用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。不包括终止索引。<br>arr.fill(value[, start[, end]])<br>value<br>用来填充数组元素的值。<br>start 可选<br>起始索引，默认值为0。<br>end 可选<br>终止索引，默认值为 this.length。</p>
<h3 id="from"><a href="#from" class="headerlink" title="from"></a>from</h3><p>对一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从String生成数组</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="comment">// [&#x27;f&#x27;, &#x27;o&#x27;, &#x27;o&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从Set生成数组</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>]))</span><br><span class="line"><span class="comment">// [&#x27;foo&#x27;, &#x27;bar&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从Map生成数组</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>,<span class="number">4</span>]])</span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(map);</span><br><span class="line"><span class="comment">// [[1,2], [2,4]]</span></span><br></pre></td></tr></table></figure>

<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>Array map()</p>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>头部<br>shift()</p>
<p>尾部<br>pop()</p>
<p>中间<br>splice(索引，长度)<br>第三个参数 可以添加元素<br>改变原数组</p>
<h3 id="数组返回字符串"><a href="#数组返回字符串" class="headerlink" title="数组返回字符串"></a>数组返回字符串</h3><p>toString()    将数组转换成一个字符串<br>toLocalString()    把数组转换成本地约定的字符串<br>join()    将数组元素连接起来以构建一个字符串</p>
<h4 id="join"><a href="#join" class="headerlink" title="join"></a>join</h4><p>join() 方法将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elements = [<span class="string">&#x27;Fire&#x27;</span>, <span class="string">&#x27;Air&#x27;</span>, <span class="string">&#x27;Water&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(elements.<span class="title function_">join</span>());</span><br><span class="line"><span class="comment">// expected output: &quot;Fire,Air,Water&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]; </span><br><span class="line"><span class="keyword">var</span> s = a.<span class="title function_">join</span>(<span class="string">&quot;==&quot;</span>);  <span class="comment">//指定分隔符</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);  <span class="comment">//返回字符串“1==2==3==4==5”</span></span><br></pre></td></tr></table></figure>


<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>本地离线存储 localStorage 长期存储数据，浏览器关闭后数据不丢失;<br>会话存储 sessionStorage 的数据在浏览器关闭后自动删除;</p>
<h1 id="待掌握"><a href="#待掌握" class="headerlink" title="待掌握"></a>待掌握</h1><h2 id="对象拷贝"><a href="#对象拷贝" class="headerlink" title="对象拷贝"></a>对象拷贝</h2><h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><p>Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> newObj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 1, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">a</span> = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 10, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 1, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"></span><br><span class="line">newObj.<span class="property">a</span> = <span class="number">20</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 10, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 20, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"></span><br><span class="line">newObj.<span class="property">b</span>.<span class="property">c</span> = <span class="number">30</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 10, b: &#123; c: 30&#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 20, b: &#123; c: 30&#125; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意: newObj.b.c = 30; 为什么呢..</span></span><br></pre></td></tr></table></figure>
<p>这就是 <code>Object.assign()</code> 的陷阱。<code>Object.assign</code> 只是浅拷贝。 <code>newObj.b</code> 和 <code>obj.b</code> 都引用同一个对象，没有单独拷贝，而是复制了对该对象的引用。任何对对象属性的更改都适用于使用该对象的所有引用。</p>
<h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><h2 id="汉字排序"><a href="#汉字排序" class="headerlink" title="汉字排序"></a>汉字排序</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zhSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">n, m</span>) =&gt;</span> n.<span class="title function_">localeCompare</span>(m));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>按照字母排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">segSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> letters = <span class="string">&quot;*abcdefghjklmnopqrstwxyz&quot;</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>),</span><br><span class="line">      zh = <span class="string">&quot;阿八嚓哒妸发旮哈讥咔垃痳拏噢妑七呥扨它穵夕丫帀&quot;</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> segs = [],</span><br><span class="line">      curr;</span><br><span class="line"></span><br><span class="line">  letters.<span class="title function_">forEach</span>(<span class="function">(<span class="params">v, i</span>) =&gt;</span> &#123;</span><br><span class="line">    curr = &#123;<span class="attr">letter</span>: v, <span class="attr">data</span>:[]&#125;;</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">j</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>((!zh[i-<span class="number">1</span>] || zh[i-<span class="number">1</span>].<span class="title function_">localeCompare</span>(j) &lt;= <span class="number">0</span>) &amp;&amp; j.<span class="title function_">localeCompare</span>(zh[i]) == -<span class="number">1</span>) &#123;</span><br><span class="line">        curr.<span class="property">data</span>.<span class="title function_">push</span>(j);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span>(curr.<span class="property">data</span>.<span class="property">length</span>) &#123;</span><br><span class="line">      segs.<span class="title function_">push</span>(curr);</span><br><span class="line">      curr.<span class="property">data</span>.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="title function_">localeCompare</span>(b);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> segs;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> segs = <span class="title function_">segSort</span>([<span class="string">&#x27;白鸽&#x27;</span>, <span class="string">&#x27;麻雀&#x27;</span>,<span class="string">&#x27;黑&#x27;</span>,<span class="string">&#x27;大象&#x27;</span>, <span class="string">&#x27;狗&#x27;</span>, <span class="string">&#x27;猫&#x27;</span>,<span class="string">&#x27;妈妈&#x27;</span>,<span class="string">&#x27;马&#x27;</span>, <span class="string">&quot;鸡&quot;</span>,<span class="string">&#x27;瘦&#x27;</span>,<span class="string">&#x27;胖&#x27;</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;segs&#x27;</span>, segs);</span><br></pre></td></tr></table></figure>

<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><p>forEach 不能中断循环（使用break或者return）。</p>
<p>return 必须用在方法里面</p>
<h3 id="for-or"><a href="#for-or" class="headerlink" title="for or"></a>for or</h3><h4 id="跳过本次循环"><a href="#跳过本次循环" class="headerlink" title="跳过本次循环"></a>跳过本次循环</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> array) &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">continue</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">item</span>:  <span class="number">1</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">2</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">4</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h4 id="终止循环"><a href="#终止循环" class="headerlink" title="终止循环"></a>终止循环</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> array) &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">return</span>; <span class="comment">// break</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">break</span>;<span class="comment">//continue //SyntaxError: Illegal break statement</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">array.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="attr">item</span>:  <span class="number">1</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">2</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">4</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><p>reduce() 方法对数组中的每个元素执行reducer函数(升序执行)，将其结果汇总为单个返回值。<br>场景：计算数组里的总值。<br>参数：</p>
<ul>
<li>callback(返回的值，当前值)</li>
<li>initialValue 第一次调用callback函数时的第一个参数值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">products</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, product</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;product&#x27;</span>, product);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [&#123;<span class="attr">label</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="number">1</span>&#125;, &#123;<span class="attr">label</span>: <span class="number">2</span>, <span class="attr">value</span>: <span class="number">2</span>&#125;, &#123;<span class="attr">label</span>: <span class="number">3</span>, <span class="attr">value</span>: <span class="number">3</span>&#125;, &#123;<span class="attr">label</span>: <span class="number">4</span>, <span class="attr">value</span>: <span class="number">4</span>&#125;];</span><br><span class="line"><span class="keyword">const</span> acc = array.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pre&#x27;</span>, pre, cur, index);</span><br><span class="line">  <span class="keyword">if</span> (index === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> pre.<span class="property">value</span> + cur.<span class="property">value</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> pre + cur.<span class="property">value</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;acc&#x27;</span>, acc); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h2 id="模块规范"><a href="#模块规范" class="headerlink" title="模块规范"></a>模块规范</h2><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903744518389768">https://juejin.cn/post/6844903744518389768</a><br>背景：开发 UI 层通用组件，这样项目组就不需要重复造轮子。其中有一个高频使用的组件就是 dialog.js<br><code>&lt;script src=&quot;dialog.js&quot;&gt;&lt;/script&gt;</code><br>会产生两个问题：命名冲突和文件依赖</p>
<h3 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h3><p>第二行math.add(2, 3)，在第一行require(‘math’)之后运行，因此必须等math.js加载完成。也就是说，如果加载时间很长，整个应用就会停在那里等。<br>这对服务器端不是一个问题，因为所有的模块都存放在本地硬盘，可以同步加载完成，等待时间就是硬盘的读取时间。但是，对于浏览器，这却是一个大问题，因为模块都放在服务器端，等待时间取决于网速的快慢，可能要等很长时间，浏览器处于”假死”状态。<br>因此，浏览器端的模块，不能采用”同步加载”（synchronous），只能采用”异步加载”（asynchronous）。这就是AMD规范诞生的背景。</p>
<p>Asynchronous Module Definition<br>异步模块定义</p>
<p>AMD模块定义的方法非常清晰，不会污染全局环境，能够清楚地显示依赖关系</p>
<p>require([module], callback);</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;./a.js&#x27;</span>], <span class="keyword">function</span> (<span class="params">moduleA</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(moduleA.<span class="property">a</span>); <span class="comment">// 打印出：hello world</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="commonJS"><a href="#commonJS" class="headerlink" title="commonJS"></a>commonJS</h3><p>2009年，美国程序员Ryan Dahl创造了node.js项目，将javascript语言用于服务器端编程。<br>这标志”Javascript模块化编程”正式诞生</p>
<p>服务器环境</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="comment">// 相当于这里还有一行：var exports = module.exports;代码</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">a</span> = <span class="string">&#x27;Hello world&#x27;</span>;  <span class="comment">// 相当于：module.exports.a = &#x27;Hello world&#x27;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">var</span> moduleA = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(moduleA.<span class="property">a</span>);     <span class="comment">// 打印出hello world</span></span><br></pre></td></tr></table></figure>

<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><p>ES6 在语言标准的层面上，实现了模块功能，而且实现得相当简单，完全可以取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 定义模块 math.js **/</span></span><br><span class="line"><span class="keyword">var</span> basicNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> &#123; basicNum, add &#125;;</span><br><span class="line"><span class="comment">/** 引用模块 **/</span></span><br><span class="line"><span class="keyword">import</span> &#123; basicNum, add &#125; <span class="keyword">from</span> <span class="string">&#x27;./math&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">ele</span>) &#123;</span><br><span class="line">    ele.<span class="property">textContent</span> = <span class="title function_">add</span>(<span class="number">99</span> + basicNum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="UMD"><a href="#UMD" class="headerlink" title="UMD"></a>UMD</h3><p>umd是AMD和CommonJS的糅合<br>AMD 浏览器第一的原则发展 异步加载模块。<br>CommonJS 模块以服务器第一原则发展，选择同步加载，它的模块无需包装(unwrapped modules)。<br>这迫使人们又想出另一个更通用的模式UMD （Universal Module Definition）。希望解决跨平台的解决方案。<br>UMD先判断是否支持Node.js的模块（exports）是否存在，存在则使用Node.js模块模式。<br>在判断是否支持AMD（define是否存在），存在则使用AMD方式加载模块。</p>
<h2 id="防抖-amp-节流"><a href="#防抖-amp-节流" class="headerlink" title="防抖&amp;节流"></a>防抖&amp;节流</h2><p>[字节跳动] 鼠标滚动的时候，会触发很多次事件，如何解决的？<br>这里选择的方法应该是节流，可以拓展讲到防抖和节流，防抖是指连续触发的时候只会执行一次，停止触发 N 秒后才能继续执行，而节流是指如果你持续触发事件，每隔一段时间，只执行一次事件。<br>像防止按钮多次点击就用防抖，像是监听滚动事件就用节流，</p>
<p>rxjs：debounceTime(200), 舍弃掉在两次输出之间小于指定时间的发出值</p>
<h1 id="新特性"><a href="#新特性" class="headerlink" title="新特性"></a>新特性</h1><h2 id="-1"><a href="#-1" class="headerlink" title="??"></a>??</h2><p>双问号（??）是ES2020（ECMAScript 2020）引入的新特性，因此在一些较老的浏览器和手机上可能不被支持。以下是一些常用浏览器和手机对双问号的兼容性情况：</p>
<p>Chrome：Chrome 80及以后版本支持双问号；<br>Firefox：Firefox 72及以后版本支持双问号；<br>Safari：Safari 14及以后版本支持双问号；<br>Edge：Edge 80及以后版本支持双问号；<br>iOS Safari：iOS Safari 14及以后版本支持双问号；<br>Android：Android 11及以后版本支持双问号。</p>
<h1 id="work"><a href="#work" class="headerlink" title="work"></a>work</h1><h2 id="顶级域名-一级域名"><a href="#顶级域名-一级域名" class="headerlink" title="顶级域名 一级域名"></a>顶级域名 一级域名</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">domain</span></span><br></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="排序-sort"><a href="#排序-sort" class="headerlink" title="排序 sort()"></a>排序 sort()</h2><p>默认排序顺序是在将元素转换为字符串，然后比较它们的UTF-16代码单元值序列。<br>修改元素组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">99</span>, <span class="number">33</span>, <span class="number">14</span>];</span><br><span class="line">arr.<span class="title function_">sort</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sort:&#x27;</span>, arr); <span class="comment">// sort: [ 12, 14, 33, 5, 8, 99 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 需要给一个比较函数</span></span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">n1, n2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n1 - n2;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sort:&#x27;</span>, arr); <span class="comment">// sort: [ 5, 8, 12, 14, 33, 99 ]</span></span><br></pre></td></tr></table></figure>

<h3 id="arr-sort-compareFunction"><a href="#arr-sort-compareFunction" class="headerlink" title="arr.sort([compareFunction])"></a>arr.sort([compareFunction])</h3><p>compareFunction 可选<br>用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的各个字符的Unicode位点进行排序。<br>firstEl<br>第一个用于比较的元素。<br>secondEl<br>第二个用于比较的元素。</p>
<p>如果指明了 compareFunction ，那么数组会按照调用该函数的返回值排序。即 a 和 b 是两个将要被比较的元素：<br>如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；<br>如果 compareFunction(a, b) 等于 0 ， a 和 b 的相对位置不变。备注： ECMAScript 标准并不保证这一行为，而且也不是所有浏览器都会遵守（例如 Mozilla 在 2003 年之前的版本）；<br>如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。<br>compareFunction(a, b) 必须总是对相同的输入返回相同的比较结果，否则排序的结果将是不确定的。</p>
<h2 id="删除没元素"><a href="#删除没元素" class="headerlink" title="删除没元素"></a>删除没元素</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">materials</span>.<span class="title function_">splice</span>(<span class="variable language_">this</span>.<span class="property">materials</span>.<span class="title function_">findIndex</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (item.<span class="property">part</span> === part.<span class="property">part</span>) &#123;</span><br><span class="line">    id = item.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;), <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h2 id="splice-插队"><a href="#splice-插队" class="headerlink" title="splice 插队"></a>splice 插队</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line">arr1.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"><span class="comment">// [2,6,7,8,1]</span></span><br></pre></td></tr></table></figure>

<h1 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h1><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p><code>this</code> 是 JavaScript 语言的一个关键字。<br>它是函数运行时，在函数体内部自动生成的一个对象，只能在函数体内部使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">　<span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，函数test运行时，内部会自动有一个this对象可以使用。</p>
<p>那么，this的值是什么呢？</p>
<p>函数的不同使用场合，this有不同的值。总的来说，this就是函数运行时所在的环境对象。下面分四种情况，详细讨论this的用法。</p>
<h3 id="情况一：纯粹的函数调用"><a href="#情况一：纯粹的函数调用" class="headerlink" title="情况一：纯粹的函数调用"></a>情况一：纯粹的函数调用</h3><p>这是函数的最通常用法，属于全局性调用，因此this就代表全局对象。请看下面这段代码，它的运行结果是1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>();  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="情况二：作为对象方法的调用"><a href="#情况二：作为对象方法的调用" class="headerlink" title="情况二：作为对象方法的调用"></a>情况二：作为对象方法的调用</h3><p>函数还可以作为某个对象的方法调用，这时this就指这个上级对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">obj.<span class="property">m</span> = test;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">m</span>(); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="情况三-作为构造函数调用"><a href="#情况三-作为构造函数调用" class="headerlink" title="情况三 作为构造函数调用"></a>情况三 作为构造函数调用</h3><p>所谓构造函数，就是通过这个函数，可以生成一个新对象。这时，this就指这个新对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">　<span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title function_">test</span>();</span><br><span class="line">obj.<span class="property">x</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>运行结果为1。为了表明这时this不是全局对象，我们对代码做一些改变：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title function_">test</span>();</span><br><span class="line">x  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>运行结果为2，表明全局变量x的值根本没变。</p>
<h3 id="情况四-apply-调用"><a href="#情况四-apply-调用" class="headerlink" title="情况四 apply 调用"></a>情况四 apply 调用</h3><p>apply()是函数的一个方法，作用是改变函数的调用对象。它的第一个参数就表示改变后的调用这个函数的对象。因此，这时this指的就是这第一个参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">　<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">obj.<span class="property">m</span> = test;</span><br><span class="line">obj.<span class="property">m</span>.<span class="title function_">apply</span>() <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<p>apply()的参数为空时，默认调用全局对象。因此，这时的运行结果为0，证明this指的是全局对象。</p>
<p>如果把最后一行代码修改为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.<span class="property">m</span>.<span class="title function_">apply</span>(obj); <span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>运行结果就变成了1，证明了这时this代表的是对象obj。</p>
<h3 id="箭头函数中的this"><a href="#箭头函数中的this" class="headerlink" title="箭头函数中的this"></a>箭头函数中的this</h3><p>在浏览器中, window 对象同时也是全局对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> g = <span class="string">&#x27;global&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">g</span>: <span class="string">&#x27;g&#x27;</span>,</span><br><span class="line">    <span class="attr">a</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">g</span>) &#125;,</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">        <span class="attr">c</span>: <span class="function">() =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">g</span>) &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">a</span>()</span><br><span class="line">obj.<span class="property">b</span>.<span class="title function_">c</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ggg&#x27;</span>, <span class="variable language_">window</span>.<span class="property">g</span>);</span><br><span class="line"><span class="title class_">VM99</span>:<span class="number">4</span> g</span><br><span class="line"><span class="title class_">VM99</span>:<span class="number">6</span> <span class="variable language_">global</span></span><br><span class="line"><span class="title class_">VM99</span>:<span class="number">12</span> ggg <span class="variable language_">global</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) &#125;,</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">    	<span class="attr">c</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">a</span>()  <span class="comment">// 打出的是obj对象, 相当于obj.a.call(obj)</span></span><br><span class="line">obj.<span class="property">b</span>.<span class="title function_">c</span>() <span class="comment">//打出的是obj.b对象, 相当于obj.b.c.call(obj.b)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用箭头函数</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) &#125;,</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">    	<span class="attr">c</span>: <span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">a</span>()   <span class="comment">//没有使用箭头函数打出的是obj</span></span><br><span class="line">obj.<span class="property">b</span>.<span class="title function_">c</span>()  <span class="comment">//打出的是window对象！！</span></span><br></pre></td></tr></table></figure>

<h1 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h1><p>PST<br>Pacific Standard Time 太平洋标准时间 </p>
<h1 id="fix"><a href="#fix" class="headerlink" title="fix"></a>fix</h1><h2 id="华为-和-oppo-内置浏览器-无法显示导航条"><a href="#华为-和-oppo-内置浏览器-无法显示导航条" class="headerlink" title="华为 和 oppo 内置浏览器 无法显示导航条"></a>华为 和 oppo 内置浏览器 无法显示导航条</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">scrollHandle</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>) &#123;</span><br><span class="line">  <span class="comment">// if (window.scrollY &gt; 0) &#123;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scrollState</span> = <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scrollState</span> = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="内存泄露"><a href="#内存泄露" class="headerlink" title="内存泄露"></a>内存泄露</h1><p><strong>内存泄漏（memory leak）</strong><br>不再用到的内存，没有及时释放。<br><strong>垃圾回收机制（garbage collector）</strong><br>JavaScript 的内存基元在变量（对象，字符串等等）创建时分配，然后在他们不再被使用时“自动释放”</p>
<p>工具检测：<br>chrome - preformance</p>
<h2 id="垃圾回收机制——GC"><a href="#垃圾回收机制——GC" class="headerlink" title="垃圾回收机制——GC"></a>垃圾回收机制——GC</h2><p>JavaScript 具有自动垃圾回收机制（GC:Garbage Collecation），也就是说，执行环境会负责管理代码执行过程中使用的内存。</p>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>全局变量无法通过垃圾收集器收集。<br>要保证一旦完成使用就把他们赋值为 null 或重新赋值 。</p>
<h3 id="忘记移除的定时器"><a href="#忘记移除的定时器" class="headerlink" title="忘记移除的定时器"></a>忘记移除的定时器</h3><p>处理程序及其依赖项都不会被收集，因为间隔处理需要先备停止（请记住，它仍然是活动的）</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>函数嵌套函数，内层函数引用了外层函数作用域下的变量，并且内层函数在全局环境下可访问，进而形成闭包。</p>
<img src="/2020/03/22/JavaScript/closure.png" class="">

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">numGenerator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> num = <span class="number">1</span>;</span><br><span class="line">  num++;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getNum = <span class="title function_">numGenerator</span>();</span><br><span class="line"><span class="title function_">getNum</span>();</span><br></pre></td></tr></table></figure>
<h4 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h4><p>在正常情况下外界是无法访问函数内部变量的，函数执行之后，上下文即被销毁。但是在函数（外层）中，如果我们返回了另一个函数，且这个返回的函数使用了函数（外层）内的变量，那么外界便能够通过<br>这个返回的函数获取原函数（外层）内部的变量值。</p>
<h3 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h3><p>基本数据类型按照值大小保存在栈空间中，占有固定大小的内存空间。<br>引用类型保存在堆空间中，内存空间大小并不固定，需按引用情况来进行访问。</p>
<h3 id="DOM引用"><a href="#DOM引用" class="headerlink" title="DOM引用"></a>DOM引用</h3><p>数据结构中存储 DOM 节点</p>
<p>原理<br>垃圾收集器会定期（周期性）找出那些不在继续使用的变量，然后释放其内存。</p>
<h1 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h1><p>“use strict”;<br>这种模式使得Javascript在更严格的条件下运行。<br>“严格模式”体现了Javascript更合理、更安全、更严谨的发展方向</p>
<h2 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h2><ul>
<li>消除js语法的一些不合理、不严谨之处，减少怪异行为</li>
<li>消除代码运行不安全之处，保证代码运行安全</li>
<li>提高编译效率，增加运行速度</li>
<li>为js下一版本铺垫</li>
</ul>
<h2 id="严格模式中的变化"><a href="#严格模式中的变化" class="headerlink" title="严格模式中的变化"></a>严格模式中的变化</h2><p>严格模式同时改变了语法及运行时行为。</p>
<h3 id="将过失错误转成异常"><a href="#将过失错误转成异常" class="headerlink" title="将过失错误转成异常"></a>将过失错误转成异常</h3><ul>
<li>无法再意外创建全局变量</li>
<li>静默失败的赋值操作抛出异常<br>给不可写属性赋值，给只读属性赋值，给不可扩展对象的新属性赋值</li>
<li>试图删除不可删除的属性时会抛出异常</li>
<li>对象的所有属性名唯一</li>
<li>函数的参数名唯一</li>
<li>禁止八进制数字语法</li>
<li>禁止设置 原始数据 的属性</li>
</ul>
<h3 id="简化变量的使用"><a href="#简化变量的使用" class="headerlink" title="简化变量的使用"></a>简化变量的使用</h3><ul>
<li>禁用with</li>
<li>eval不再为上层范围引入新变量</li>
<li>禁止删除声明变量</li>
</ul>
<h1 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h1><p>如果试图引用constructor1构造的实例instance1的某个属性p1:</p>
<ul>
<li>首先会在instance1内部属性中找一遍;</li>
<li>接着会在instance1.<strong>proto</strong>(constructor1.prototype)中找一遍,而constructor1.prototype 实际上是instance2, 也就是说在instance2中寻找该属性p1;</li>
<li>如果instance2中还是没有,此时程序不会灰心,它会继续在instance2.<strong>proto</strong>(constructor2.prototype)中寻找…直至Object的原型对象</li>
</ul>
<p>搜索轨迹: instance1–&gt; instance2 –&gt; constructor2.prototype…–&gt;Object.prototype</p>
<p>这种搜索的轨迹,形似一条长链, 又因prototype在这个游戏规则中充当链接的作用,于是我们把这种实例与原型的链条称作 原型链 .</p>
<h2 id="轻松理解原型链"><a href="#轻松理解原型链" class="headerlink" title="轻松理解原型链"></a>轻松理解原型链</h2><p>原型链图</p>
<img src="/2020/03/22/JavaScript/proto.png" class="">

<ul>
<li><p>js分为函数对象和普通对象，每个对象都有__proto__属性，但是只有函数对象才有prototype属性</p>
</li>
<li><p>Object、Function都是js内置的函数, 类似的还有我们常用到的Array、RegExp、Date、Boolean、Number、String</p>
</li>
<li><p>属性__proto__是一个对象，它有两个属性，constructor和__proto__；</p>
</li>
<li><p>原型对象prototype有一个默认的constructor属性，用于记录实例是由哪个构造函数创建；</p>
</li>
</ul>
<h1 id="call-amp-apply-amp-bind"><a href="#call-amp-apply-amp-bind" class="headerlink" title="call&amp;apply&amp;bind"></a>call&amp;apply&amp;bind</h1><h2 id="apply、call"><a href="#apply、call" class="headerlink" title="apply、call"></a>apply、call</h2><p>在 javascript 中，call 和 apply 都是为了改变某个函数运行时的上下文（context）而存在的，换句话说，就是为了改变函数体内部 this 的指向。</p>
<p>JavaScript 的一大特点是，函数存在「定义时上下文」和「运行时上下文」以及「上下文是可以改变的」这样的概念。<br>例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fruits</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">fruits.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">    <span class="attr">say</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;My color is &quot;</span> + <span class="variable language_">this</span>.<span class="property">color</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> apple = <span class="keyword">new</span> fruits;</span><br><span class="line">apple.<span class="title function_">say</span>();    <span class="comment">//My color is red</span></span><br></pre></td></tr></table></figure>

<p>但是如果我们有一个对象banana= {color : “yellow”} ,我们不想对它重新定义 say 方法，那么我们可以通过 call 或 apply 用 apple 的 say 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">banana = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&quot;yellow&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">apple.<span class="property">say</span>.<span class="title function_">call</span>(banana);     <span class="comment">//My color is yellow</span></span><br><span class="line">apple.<span class="property">say</span>.<span class="title function_">apply</span>(banana);    <span class="comment">//My color is yellow</span></span><br></pre></td></tr></table></figure>

<h2 id="apply、call-的区别"><a href="#apply、call-的区别" class="headerlink" title="apply、call 的区别"></a>apply、call 的区别</h2><p>对于 apply、call 二者而言，作用完全一样，只是接受参数的方式不太一样。例如，有一个函数定义如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func = <span class="keyword">function</span>(<span class="params">arg1, arg2</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func.<span class="title function_">call</span>(<span class="variable language_">this</span>, arg1, arg2);</span><br><span class="line">func.<span class="title function_">apply</span>(<span class="variable language_">this</span>, [arg1, arg2])</span><br></pre></td></tr></table></figure>
<p>其中 this 是你想指定的上下文，他可以是任何一个 JavaScript 对象(JavaScript 中一切皆对象)，call 需要把参数按顺序传递进去，而 apply 则是把参数放在数组里。　　</p>
<p>通过 Array.prototype.slice.call 转化为标准数组</p>
<p>接下来的要求是给每一个 log 消息添加一个”(app)”的前辍，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">log</span>(<span class="string">&quot;hello world&quot;</span>);    <span class="comment">//(app)hello world</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">  args.<span class="title function_">unshift</span>(<span class="string">&#x27;(app)&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">apply</span>(<span class="variable language_">console</span>, args);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>bind 返回一个新的函数，绑定了新的this，不会执行。<br>说完了 apply 和 call ，再来说说bind。bind() 方法与 apply 和 call 很相似，也是可以改变函数体内 this 的指向。</p>
<p>MDN的解释是：bind()方法会创建一个新函数，称为绑定函数，当调用这个绑定函数时，绑定函数会以创建它时传入 bind()方法的第一个参数作为 this，传入 bind() 方法的第二个以及以后的参数加上绑定函数运行时本身的参数按照顺序作为原函数的参数来调用原函数。</p>
<p>直接来看看具体如何使用，在常见的单体模式中，通常我们会使用 _this , that , self 等保存 this ，这样我们可以在改变了上下文之后继续引用到它。 像这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;W</span><br><span class="line">    bar : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">eventBind</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> _this = <span class="variable language_">this</span>;</span><br><span class="line">        $(<span class="string">&#x27;.someClass&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">            <span class="comment">/* Act on the event */</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(_this.<span class="property">bar</span>);     <span class="comment">//1</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于 Javascript 特有的机制，上下文环境在 eventBind:function(){ } 过渡到 $(‘.someClass’).on(‘click’,function(event) { }) 发生了改变，上述使用变量保存 this 这些方式都是有用的，也没有什么问题。当然使用 bind() 可以更加优雅的解决这个问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">    bar : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">eventBind</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        $(<span class="string">&#x27;.someClass&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">            <span class="comment">/* Act on the event */</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">bar</span>);      <span class="comment">//1</span></span><br><span class="line">        &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>function.bind(thisArg[, arg1[, arg2[, …]]])</p>
<h2 id="call-amp-apply-amp-bind比较"><a href="#call-amp-apply-amp-bind比较" class="headerlink" title="call&amp;apply&amp;bind比较"></a>call&amp;apply&amp;bind比较</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">81</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">    <span class="attr">getX</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">getX</span>.<span class="title function_">bind</span>(obj)());  <span class="comment">//81</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">getX</span>.<span class="title function_">call</span>(obj));    <span class="comment">//81</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">getX</span>.<span class="title function_">apply</span>(obj));   <span class="comment">//81</span></span><br></pre></td></tr></table></figure>
<p>当你希望改变上下文环境之后并非立即执行，而是回调执行的时候，使用 bind() 方法。而 apply/call 则会立即执行函数。</p>
<p>总结：<br>apply 、 call 、bind 三者都是用来改变函数的this对象的指向的；<br>apply 、 call 、bind 三者第一个参数都是this要指向的对象，也就是想指定的上下文；<br>apply 、 call 、bind 三者都可以利用后续参数传参；<br>bind 是返回对应函数，便于稍后调用；apply 、call 则是立即调用 。</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5aaa37c8f265da23945f365c">CommonJS,AMD,CMD,ES6</a></p>
<h2 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*ngIf=<span class="string">&quot;type.type !== &#x27;handheld&#x27; || account.role === 0&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">    <span class="attr">nodes</span>: [</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;B&quot;</span>, <span class="attr">nodes</span>: [&#123; <span class="attr">name</span>: <span class="string">&quot;F&quot;</span> &#125;] &#125;,</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;C&quot;</span> &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;D&quot;</span>,</span><br><span class="line">            <span class="attr">nodes</span>: [</span><br><span class="line">                &#123; <span class="attr">name</span>: <span class="string">&quot;G&quot;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">name</span>: <span class="string">&quot;H&quot;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">name</span>: <span class="string">&quot;I&quot;</span>, <span class="attr">nodes</span>: [&#123; <span class="attr">name</span>: <span class="string">&quot;J&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;K&quot;</span> &#125;] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;E&quot;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeTree</span>(<span class="params">roots</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">makeNode</span>(<span class="params">node</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> $div = $(<span class="string">&quot;&lt;div&gt;&quot;</span>).<span class="title function_">text</span>(node.<span class="property">name</span> || <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">const</span> $li = $(<span class="string">&quot;&lt;li&gt;&quot;</span>).<span class="title function_">append</span>($div);</span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">nodes</span> &amp;&amp; node.<span class="property">nodes</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            $li.<span class="title function_">append</span>(<span class="title function_">makeNodeList</span>(node.<span class="property">nodes</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $li;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">makeNodeList</span>(<span class="params">nodes</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nodes</span><br><span class="line">            .<span class="title function_">map</span>(<span class="function"><span class="params">child</span> =&gt;</span> <span class="title function_">makeNode</span>(child))</span><br><span class="line">            .<span class="title function_">reduce</span>(<span class="function">(<span class="params">$ul, $li</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> $ul.<span class="title function_">append</span>($li);</span><br><span class="line">        &#125;, $(<span class="string">&quot;&lt;ul&gt;&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">makeNodeList</span>(roots);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">makeTree</span>([data]).<span class="title function_">appendTo</span>($(<span class="string">&quot;#tree&quot;</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意参数支持传入单根或多根，</span></span><br><span class="line"><span class="comment">// 如果像 travelWidely 那样只支持多根（单根是特例）也是可以的</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">travelDeeply</span>(<span class="params">roots: INode | INode[]</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">printNode</span>(<span class="params">node: INode</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;node.name&#125;</span> <span class="subst">$&#123;node.nodes &amp;&amp; node.nodes.length || <span class="string">&quot;&quot;</span>&#125;</span>`</span>);</span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">nodes</span> &amp;&amp; node.<span class="property">nodes</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="comment">// 依次对子节点递归调用 printNode</span></span><br><span class="line">            node.<span class="property">nodes</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">child</span> =&gt;</span> <span class="title function_">printNode</span>(child));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这里 printNode 和 node =&gt; printNode(node) 等价</span></span><br><span class="line">    (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(roots) ? roots : [roots]).<span class="title function_">forEach</span>(printNode);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始遍历</span></span><br><span class="line"><span class="title function_">travelDeeply</span>(data);</span><br></pre></td></tr></table></figure>

<h2 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h2><p>\r - Carriage Return<br>\n - Line Feed</p>
<p>\r\n is often used in preference to \n as it displays properly on both unix and Windows.</p>
<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><p>js的一个子集</p>
<h2 id="JSON-Schema"><a href="#JSON-Schema" class="headerlink" title="JSON Schema"></a>JSON Schema</h2><p>当前后端使用 JSON 通信的时候，双方需要验证 JSON 的数据格式，比如验证 array 的长度、number 的大小、甚至于类似 object 中有某两个属性不能并存等等要求。当然这些规则都可以使用代码进行验证，但是这样写起来太繁琐了，所以为了描述并校验 JSON 的格式，JSON Schema 诞生了。</p>
<h3 id="简单例子"><a href="#简单例子" class="headerlink" title="简单例子"></a>简单例子</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;$schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="punctuation">,</span> <span class="comment">// 版本控制</span></span><br><span class="line">  <span class="attr">&quot;$id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://example.com/root.json&quot;</span><span class="punctuation">,</span> <span class="comment">// 定义模式的URI</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span>  <span class="punctuation">&#123;</span> </span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;......&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;minimum&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;exclusiveMinimum&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;telephone&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;pattern&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^(\\([0-9]&#123;3&#125;\\))?[0-9]&#123;3&#125;-[0-9]&#123;4&#125;$&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;The price of the product&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;number&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;exclusiveMinimum&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;name&quot;</span><span class="punctuation">,</span> <span class="string">&quot;email&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;additionalProperties&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><h1 id="utils"><a href="#utils" class="headerlink" title="utils"></a>utils</h1><h2 id="随机字符串"><a href="#随机字符串" class="headerlink" title="随机字符串"></a>随机字符串</h2><p>Math.random().toString(36).slice(-10)</p>
<h2 id="比较版本号"><a href="#比较版本号" class="headerlink" title="比较版本号"></a>比较版本号</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> compareVersion = <span class="keyword">function</span>(<span class="params">version1, version2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> arrayA = version1.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> arrayB = version2.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> pointer = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (pointer &lt; arrayA.<span class="property">length</span> &amp;&amp; pointer &lt; arrayB.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> res = arrayA[pointer] - arrayB[pointer];</span><br><span class="line">        <span class="keyword">if</span> (res === <span class="number">0</span>) &#123;</span><br><span class="line">            pointer++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> res &gt; <span class="number">0</span> ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;next&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 若arrayA仍有小版本号</span></span><br><span class="line">    <span class="keyword">while</span> (pointer &lt; arrayA.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (+arrayA[pointer] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pointer++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 若arrayB仍有小版本号</span></span><br><span class="line">    <span class="keyword">while</span> (pointer &lt; arrayB.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (+arrayB[pointer] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pointer++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 版本号完全相同</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> version = <span class="title function_">compareVersion</span>(<span class="string">&#x27;0.0.3&#x27;</span>, <span class="string">&#x27;0.0.1&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;version&#x27;</span>, version);</span><br></pre></td></tr></table></figure>

<h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>AJAX即“Asynchronous JavaScript and XML”（异步的JavaScript与XML技术），指的是一套综合了多项技术的浏览器端网页开发技术。<br>意思就是用JavaScript执行异步网络请求。<br>AJAX请求是异步执行的，也就是说，要通过回调函数获得响应。</p>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><p>运用XHTML+CSS来表达信息；<br>运用JavaScript操作DOM（Document Object Model）来运行动态效果；<br>运用XML和XSLT操作资料<br>运用XMLHttpRequest或新的Fetch API与网页服务器进行异步资料交换；<br>注意：AJAX与Flash、Silverlight和Java Applet等RIA技术是有区分的。</p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">success</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> textarea = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test-response-text&#x27;</span>);</span><br><span class="line">    textarea.<span class="property">value</span> = text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fail</span>(<span class="params">code</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> textarea = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test-response-text&#x27;</span>);</span><br><span class="line">    textarea.<span class="property">value</span> = <span class="string">&#x27;Error code: &#x27;</span> + code;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>(); <span class="comment">// 新建XMLHttpRequest对象</span></span><br><span class="line"></span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 状态发生变化时，函数被回调</span></span><br><span class="line">    <span class="comment">// this  指代 xhr</span></span><br><span class="line">    <span class="comment">// readyState: https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/readyState</span></span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123; <span class="comment">//下载操作已完成。</span></span><br><span class="line">        <span class="comment">// 判断响应结果:</span></span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// 成功，通过responseText拿到响应的文本:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">success</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 失败，根据响应码判断失败原因:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">fail</span>(xhr.<span class="property">status</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// HTTP请求还在继续...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送请求:</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;/api/categories&#x27;</span>);</span><br><span class="line">xhr.<span class="title function_">send</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;请求已发送，请等待响应...&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="Document"><a href="#Document" class="headerlink" title="Document"></a>Document</h1><h2 id="querySelector"><a href="#querySelector" class="headerlink" title="querySelector()"></a>querySelector()</h2><p>指定选择器或选择器组匹配的第一个 HTMLElement对象。找不到匹配项，返回null</p>
<h2 id="querySelectorAll"><a href="#querySelectorAll" class="headerlink" title="querySelectorAll()"></a>querySelectorAll()</h2><p>返回与指定的选择器组匹配的文档中的元素列表, 返回的对象是 NodeList。</p>
<p>注意：<br>因为返回的是一个 NodeList 需要转换为 Array<br>[…document.querySelectorAll(‘*’)]</p>
<h1 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h1><h2 id="appendChild-aChild"><a href="#appendChild-aChild" class="headerlink" title="appendChild(aChild)"></a>appendChild(aChild)</h2><p>aChild: 必须是节点</p>
<h2 id="append-Node-or-String"><a href="#append-Node-or-String" class="headerlink" title="append(Node or String)"></a>append(Node or String)</h2><h2 id="innerHTML"><a href="#innerHTML" class="headerlink" title="innerHTML"></a>innerHTML</h2><p>获取元素的内容 或 替换元素的内容</p>
<h2 id="insertAdjacentHTML"><a href="#insertAdjacentHTML" class="headerlink" title="insertAdjacentHTML"></a>insertAdjacentHTML</h2><p>element.insertAdjacentHTML(position, text);<br>position</p>
<ul>
<li>‘beforebegin’：元素自身的前面。</li>
<li>‘afterbegin’：插入元素内部的第一个子节点之前。</li>
<li>‘beforeend’：插入元素内部的最后一个子节点之后。</li>
<li>‘afterend’：元素自身的后面。</li>
</ul>
<p>text<br>是要被解析为HTML或XML元素，并插入到DOM树中的 DOMString。</p>
<h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><h2 id="history"><a href="#history" class="headerlink" title="history"></a>history</h2><p>DOM window 对象通过 history 对象提供了对浏览器的会话历史的访问。允许你在用户浏览历史中向前和向后跳转。<br>可以改变浏览器的当前地址和历史，却又不会触发服务端页面请求的技术。</p>
<h2 id="后退"><a href="#后退" class="headerlink" title="后退"></a>后退</h2><p>window.history.back();<br>window.history.go(-1);</p>
<h2 id="前进"><a href="#前进" class="headerlink" title="前进"></a>前进</h2><p>window.history.forward();<br>window.history.go(1);</p>
<h1 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h1><h2 id="数组下标每次加1"><a href="#数组下标每次加1" class="headerlink" title="数组下标每次加1"></a>数组下标每次加1</h2><p>currentAdIndex = -1;<br>this.currentAdIndex = (this.currentAdIndex + 1) % this.ads.length;</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h2><p>Unhandled Promise Rejection: SyntaxError: JSON Parse error: Unexpected identifier “object”<br>答：<br>Most probably your response is already a JavaScript object and it not required to be parsed.<br>Remove the line var json = JSON.parse(response); and your code should work.</p>
<h2 id="解构赋值-BUG"><a href="#解构赋值-BUG" class="headerlink" title="解构赋值 BUG"></a>解构赋值 BUG</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  interactiveId,</span><br><span class="line">  interactiveName,</span><br><span class="line">&#125; = res.<span class="property">data</span>;</span><br><span class="line"><span class="comment">// 页面卡死，interactiveId 为 null</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">nextOptions</span> = [&#123;<span class="attr">id</span>: interactiveId, <span class="attr">name</span>: interactiveName&#125;];</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">dialogForm</span>.<span class="property">interactive</span> = &#123;<span class="attr">id</span>: interactiveId, <span class="attr">label</span>: interactiveName&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断一下interactiveId</span></span><br><span class="line"><span class="comment">// 其他：解构赋值默认值</span></span><br><span class="line"><span class="keyword">const</span> &#123; a = <span class="string">&#x27;1&#x27;</span>, b = <span class="string">&#x27;2&#x27;</span>, c = <span class="string">&#x27;3&#x27;</span>, d = <span class="string">&#x27;4&#x27;</span>, e = <span class="string">&#x27;5&#x27;</span> &#125; = <span class="keyword">let</span> object = &#123; <span class="attr">a</span>: <span class="string">&#x27;a&#x27;</span>, <span class="attr">b</span>: <span class="literal">null</span>, <span class="attr">c</span>: <span class="literal">undefined</span>, <span class="attr">d</span>: <span class="literal">false</span>, <span class="attr">e</span>: <span class="string">&#x27;&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// a = &#x27;a&#x27;</span></span><br><span class="line"><span class="comment">// b = null</span></span><br><span class="line"><span class="comment">// c = &#x27;3&#x27;</span></span><br><span class="line"><span class="comment">// d = false</span></span><br><span class="line"><span class="comment">// d = &#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>chrome -&gt; performance<br>JS Heap 和 Nodes 线随着时间线一直在上升，并没有被垃圾回收机制回收。</p>
<h2 id="内存泄露-1"><a href="#内存泄露-1" class="headerlink" title="内存泄露"></a>内存泄露</h2><h3 id="element节点移除，但element变量还在"><a href="#element节点移除，但element变量还在" class="headerlink" title="element节点移除，但element变量还在"></a>element节点移除，但element变量还在</h3><p>删除element节点的时候，把element变量设置为null</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;element&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">remove</span>(<span class="params"></span>) &#123;</span><br><span class="line">  element.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(element)</span><br><span class="line">  element = <span class="literal">null</span> <span class="comment">// 该节点占用的内存会被释放</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除的节点，监听的事件还在"><a href="#删除的节点，监听的事件还在" class="headerlink" title="删除的节点，监听的事件还在"></a>删除的节点，监听的事件还在</h3><p>还需要 removeEventListener</p>
<h3 id="setInterval-要清理"><a href="#setInterval-要清理" class="headerlink" title="setInterval 要清理"></a>setInterval 要清理</h3><p>调用 clearInterval</p>
<h3 id="闭包-1"><a href="#闭包-1" class="headerlink" title="闭包"></a>闭包</h3><h3 id="闭包-2"><a href="#闭包-2" class="headerlink" title="闭包"></a>闭包</h3><h1 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h1><h2 id="ES6-Set-ES6中常用"><a href="#ES6-Set-ES6中常用" class="headerlink" title="ES6 Set (ES6中常用)"></a>ES6 Set (ES6中常用)</h2><h2 id="双层for，外层循环，内层比较，然后splice去重（ES5中常用）"><a href="#双层for，外层循环，内层比较，然后splice去重（ES5中常用）" class="headerlink" title="双层for，外层循环，内层比较，然后splice去重（ES5中常用）"></a>双层for，外层循环，内层比较，然后splice去重（ES5中常用）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">array</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; array.<span class="property">length</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (array[i] == array[j]) &#123;</span><br><span class="line">        array.<span class="title function_">splice</span>(j, <span class="number">1</span>);</span><br><span class="line">        j--;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> ar = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ar&#x27;</span>, <span class="title function_">unique</span>(ar));</span><br></pre></td></tr></table></figure>

<h2 id="indexOf去重"><a href="#indexOf去重" class="headerlink" title="indexOf去重"></a>indexOf去重</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> newArr = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.<span class="title function_">indexOf</span>(arr[i]) === -<span class="number">1</span>) &#123;</span><br><span class="line">      newArr.<span class="title function_">push</span>(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="sort-排序后，相邻比较"><a href="#sort-排序后，相邻比较" class="headerlink" title="sort()排序后，相邻比较"></a>sort()排序后，相邻比较</h2><h2 id="includes，数组是否含有某个值"><a href="#includes，数组是否含有某个值" class="headerlink" title="includes，数组是否含有某个值"></a>includes，数组是否含有某个值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">a.<span class="title function_">includes</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/21/ES6/" rel="prev" title="ES6">
      <i class="fa fa-chevron-left"></i> ES6
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/23/MacOS/" rel="next" title="OS">
      OS <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">1.</span> <span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.1.</span> <span class="nav-text">基本数据类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.2.</span> <span class="nav-text">应用类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%BB%E7%BB%93%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.3.</span> <span class="nav-text">冻结对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.4.</span> <span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E4%B8%8A%E7%9A%84%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="nav-number">1.5.</span> <span class="nav-text">获取元素上的属性值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E8%87%AA%E6%89%A7%E8%A1%8C"><span class="nav-number">1.6.</span> <span class="nav-text">函数自执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%84%E7%90%86-URL-%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.7.</span> <span class="nav-text">处理 URL 查询字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%95%B0%E5%AD%97"><span class="nav-number">1.8.</span> <span class="nav-text">格式化数字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">1.9.</span> <span class="nav-text">定时器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="nav-number">1.10.</span> <span class="nav-text">函数参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%9B%9E%E8%B0%83"><span class="nav-number">1.11.</span> <span class="nav-text">函数回调</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">1.12.</span> <span class="nav-text">运算符优先级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iframe"><span class="nav-number">1.13.</span> <span class="nav-text">iframe</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E7%94%A8%E7%88%B6%E7%BA%A7dom%E6%96%B9%E6%B3%95"><span class="nav-number">1.13.1.</span> <span class="nav-text">调用父级dom方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%91%E5%AD%90%E7%BA%A7%E5%8F%91%E6%95%B0%E6%8D%AE"><span class="nav-number">1.13.2.</span> <span class="nav-text">向子级发数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%91%E7%88%B6%E7%BA%A7%E5%8F%91%E6%95%B0%E6%8D%AE"><span class="nav-number">1.13.3.</span> <span class="nav-text">向父级发数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%91%E5%90%AC%E5%8F%91%E6%9D%A5%E7%9A%84%E4%BA%8B%E4%BB%B6"><span class="nav-number">1.13.4.</span> <span class="nav-text">监听发来的事件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6"><span class="nav-number">1.14.</span> <span class="nav-text">阻止事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#form-%E8%A1%A8%E5%8D%95%E5%86%85%E5%9B%9E%E8%BD%A6-%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2"><span class="nav-number">1.14.1.</span> <span class="nav-text">form 表单内回车 刷新页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#a-%E6%A0%87%E7%AD%BE%E8%B7%B3%E8%BD%AC"><span class="nav-number">1.14.2.</span> <span class="nav-text">a 标签跳转</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#location"><span class="nav-number">1.15.</span> <span class="nav-text">location</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Math"><span class="nav-number">1.16.</span> <span class="nav-text">Math</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#userAgent"><span class="nav-number">1.17.</span> <span class="nav-text">userAgent</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">1.18.</span> <span class="nav-text">作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE"><span class="nav-number">1.18.1.</span> <span class="nav-text">作用域链</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E6%95%B0%E7%BB%84"><span class="nav-number">1.19.</span> <span class="nav-text">生成固定长度数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"><span class="nav-number">1.20.</span> <span class="nav-text">点击事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E4%B8%A4%E6%AC%A1%E9%97%AE%E9%A2%98"><span class="nav-number">1.20.1.</span> <span class="nav-text">执行两次问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%AE%E7%BD%A9%E5%BC%B9%E6%A1%86"><span class="nav-number">1.20.2.</span> <span class="nav-text">遮罩弹框</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9Ccss"><span class="nav-number">1.21.</span> <span class="nav-text">操作css</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="nav-number">1.21.1.</span> <span class="nav-text">获取元素的样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#remove-class"><span class="nav-number">1.21.2.</span> <span class="nav-text">remove class</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9Chtml"><span class="nav-number">1.22.</span> <span class="nav-text">操作html</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#setTimeout-amp-setInterval"><span class="nav-number">1.23.</span> <span class="nav-text">setTimeout &amp; setInterval</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E5%81%A5%E5%80%BC%E5%AF%B9"><span class="nav-number">1.24.</span> <span class="nav-text">对象添加健值对</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E9%95%BF%E5%BA%A6"><span class="nav-number">1.24.1.</span> <span class="nav-text">对象长度</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#url-%E8%A7%A3%E7%A0%81"><span class="nav-number">1.25.</span> <span class="nav-text">url 解码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BD%93%E5%89%8D-url"><span class="nav-number">1.26.</span> <span class="nav-text">当前 url</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#document"><span class="nav-number">1.27.</span> <span class="nav-text">document</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cookie"><span class="nav-number">1.27.1.</span> <span class="nav-text">cookie</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#window"><span class="nav-number">1.28.</span> <span class="nav-text">window</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#addEventListener"><span class="nav-number">1.28.1.</span> <span class="nav-text">addEventListener</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">1.29.</span> <span class="nav-text">String</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#slice-%E3%80%81substring-%E5%8C%BA%E5%88%AB"><span class="nav-number">1.29.1.</span> <span class="nav-text">slice()、substring() 区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#indexOf-%E3%80%81match-%E3%80%81search-%E5%8C%BA%E5%88%AB"><span class="nav-number">1.29.2.</span> <span class="nav-text">indexOf()、match()、search()区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%BD%E9%AB%98"><span class="nav-number">1.30.</span> <span class="nav-text">宽高</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E9%A1%B5%E5%85%A8%E6%96%87%E7%9A%84%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6"><span class="nav-number">1.30.1.</span> <span class="nav-text">网页全文的高度和宽度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%8F%E5%B9%95%E7%9A%84%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6%EF%BC%88%E5%B1%8F%E5%B9%95%E5%83%8F%E7%B4%A0%EF%BC%89"><span class="nav-number">1.30.2.</span> <span class="nav-text">屏幕的高度和宽度（屏幕像素）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%B1%8F%E5%B9%95%E5%8F%AF%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%9F%9F%E7%9A%84%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6%EF%BC%88%E5%8E%BB%E6%8E%89%E7%8A%B6%E6%80%81%E6%A0%8F%EF%BC%89"><span class="nav-number">1.30.3.</span> <span class="nav-text">获取屏幕可工作区域的高度和宽度（去掉状态栏）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E9%A1%B5%E5%8F%AF%E8%A7%81%E5%8C%BA%E5%9F%9F%E7%9A%84%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6"><span class="nav-number">1.30.4.</span> <span class="nav-text">网页可见区域的高度和宽度</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#document-1"><span class="nav-number">1.31.</span> <span class="nav-text">document</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Element-clientHeight"><span class="nav-number">1.31.1.</span> <span class="nav-text">Element.clientHeight</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#execCommand"><span class="nav-number">1.31.2.</span> <span class="nav-text">execCommand</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Number"><span class="nav-number">1.32.</span> <span class="nav-text">Number</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#element"><span class="nav-number">1.33.</span> <span class="nav-text">element</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="nav-number">1.33.1.</span> <span class="nav-text">设置属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B1%BB"><span class="nav-number">1.34.</span> <span class="nav-text">操作类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C"><span class="nav-number">1.35.</span> <span class="nav-text">网络</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F"><span class="nav-number">1.36.</span> <span class="nav-text">时间日期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#moment"><span class="nav-number">1.36.1.</span> <span class="nav-text">moment</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#UTC"><span class="nav-number">1.36.1.1.</span> <span class="nav-text">UTC</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E5%A4%A9%E7%9A%84%E5%BC%80%E5%A7%8B%E5%92%8C%E7%BB%93%E6%9D%9F"><span class="nav-number">1.36.2.</span> <span class="nav-text">一天的开始和结束</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="nav-number">1.37.</span> <span class="nav-text">位运算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.37.1.</span> <span class="nav-text">二进制或运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A6%E7%A7%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.37.2.</span> <span class="nav-text">左移运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.37.3.</span> <span class="nav-text">或运算符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Base64"><span class="nav-number">1.38.</span> <span class="nav-text">Base64</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#while%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.39.</span> <span class="nav-text">while语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#do-while"><span class="nav-number">1.39.1.</span> <span class="nav-text">do while</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array"><span class="nav-number">1.40.</span> <span class="nav-text">Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#from"><span class="nav-number">1.40.1.</span> <span class="nav-text">from</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map"><span class="nav-number">1.40.2.</span> <span class="nav-text">map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4"><span class="nav-number">1.40.3.</span> <span class="nav-text">删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.40.4.</span> <span class="nav-text">数组返回字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#join"><span class="nav-number">1.40.4.1.</span> <span class="nav-text">join</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">1.41.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BE%85%E6%8E%8C%E6%8F%A1"><span class="nav-number">2.</span> <span class="nav-text">待掌握</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E6%8B%B7%E8%B4%9D"><span class="nav-number">2.1.</span> <span class="nav-text">对象拷贝</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">2.1.1.</span> <span class="nav-text">浅拷贝</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-number">2.1.2.</span> <span class="nav-text">深拷贝</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%89%E5%AD%97%E6%8E%92%E5%BA%8F"><span class="nav-number">2.2.</span> <span class="nav-text">汉字排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF"><span class="nav-number">2.3.</span> <span class="nav-text">循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#for-or"><span class="nav-number">2.3.1.</span> <span class="nav-text">for or</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%B3%E8%BF%87%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">跳过本次循环</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%88%E6%AD%A2%E5%BE%AA%E7%8E%AF"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">终止循环</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#forEach"><span class="nav-number">2.3.2.</span> <span class="nav-text">forEach</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reduce"><span class="nav-number">2.4.</span> <span class="nav-text">reduce</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83"><span class="nav-number">2.5.</span> <span class="nav-text">模块规范</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AMD"><span class="nav-number">2.5.1.</span> <span class="nav-text">AMD</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#commonJS"><span class="nav-number">2.5.2.</span> <span class="nav-text">commonJS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6"><span class="nav-number">2.5.3.</span> <span class="nav-text">ES6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UMD"><span class="nav-number">2.5.4.</span> <span class="nav-text">UMD</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E6%8A%96-amp-%E8%8A%82%E6%B5%81"><span class="nav-number">2.6.</span> <span class="nav-text">防抖&amp;节流</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%B0%E7%89%B9%E6%80%A7"><span class="nav-number">3.</span> <span class="nav-text">新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#-1"><span class="nav-number">3.1.</span> <span class="nav-text">??</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#work"><span class="nav-number">4.</span> <span class="nav-text">work</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B6%E7%BA%A7%E5%9F%9F%E5%90%8D-%E4%B8%80%E7%BA%A7%E5%9F%9F%E5%90%8D"><span class="nav-number">4.1.</span> <span class="nav-text">顶级域名 一级域名</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">5.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F-sort"><span class="nav-number">5.1.</span> <span class="nav-text">排序 sort()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#arr-sort-compareFunction"><span class="nav-number">5.1.1.</span> <span class="nav-text">arr.sort([compareFunction])</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%B2%A1%E5%85%83%E7%B4%A0"><span class="nav-number">5.2.</span> <span class="nav-text">删除没元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#splice-%E6%8F%92%E9%98%9F"><span class="nav-number">5.3.</span> <span class="nav-text">splice 插队</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">6.</span> <span class="nav-text">关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#this"><span class="nav-number">6.1.</span> <span class="nav-text">this</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%86%B5%E4%B8%80%EF%BC%9A%E7%BA%AF%E7%B2%B9%E7%9A%84%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="nav-number">6.1.1.</span> <span class="nav-text">情况一：纯粹的函数调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%86%B5%E4%BA%8C%EF%BC%9A%E4%BD%9C%E4%B8%BA%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8"><span class="nav-number">6.1.2.</span> <span class="nav-text">情况二：作为对象方法的调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%86%B5%E4%B8%89-%E4%BD%9C%E4%B8%BA%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="nav-number">6.1.3.</span> <span class="nav-text">情况三 作为构造函数调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%86%B5%E5%9B%9B-apply-%E8%B0%83%E7%94%A8"><span class="nav-number">6.1.4.</span> <span class="nav-text">情况四 apply 调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84this"><span class="nav-number">6.1.5.</span> <span class="nav-text">箭头函数中的this</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%97%B6%E9%97%B4"><span class="nav-number">7.</span> <span class="nav-text">时间</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#fix"><span class="nav-number">8.</span> <span class="nav-text">fix</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%8E%E4%B8%BA-%E5%92%8C-oppo-%E5%86%85%E7%BD%AE%E6%B5%8F%E8%A7%88%E5%99%A8-%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E5%AF%BC%E8%88%AA%E6%9D%A1"><span class="nav-number">8.1.</span> <span class="nav-text">华为 和 oppo 内置浏览器 无法显示导航条</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2"><span class="nav-number">9.</span> <span class="nav-text">内存泄露</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E2%80%94%E2%80%94GC"><span class="nav-number">9.1.</span> <span class="nav-text">垃圾回收机制——GC</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E5%9B%A0"><span class="nav-number">9.2.</span> <span class="nav-text">原因</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-number">9.2.1.</span> <span class="nav-text">全局变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%98%E8%AE%B0%E7%A7%BB%E9%99%A4%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">9.2.2.</span> <span class="nav-text">忘记移除的定时器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AD%E5%8C%85"><span class="nav-number">9.2.3.</span> <span class="nav-text">闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89"><span class="nav-number">9.2.3.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="nav-number">9.2.3.2.</span> <span class="nav-text">基本原理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="nav-number">9.2.4.</span> <span class="nav-text">内存管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM%E5%BC%95%E7%94%A8"><span class="nav-number">9.2.5.</span> <span class="nav-text">DOM引用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="nav-number">10.</span> <span class="nav-text">严格模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="nav-number">10.1.</span> <span class="nav-text">为什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E4%B8%AD%E7%9A%84%E5%8F%98%E5%8C%96"><span class="nav-number">10.2.</span> <span class="nav-text">严格模式中的变化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86%E8%BF%87%E5%A4%B1%E9%94%99%E8%AF%AF%E8%BD%AC%E6%88%90%E5%BC%82%E5%B8%B8"><span class="nav-number">10.2.1.</span> <span class="nav-text">将过失错误转成异常</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8C%96%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">10.2.2.</span> <span class="nav-text">简化变量的使用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="nav-number">11.</span> <span class="nav-text">原型链</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%BB%E6%9D%BE%E7%90%86%E8%A7%A3%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="nav-number">11.1.</span> <span class="nav-text">轻松理解原型链</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#call-amp-apply-amp-bind"><span class="nav-number">12.</span> <span class="nav-text">call&amp;apply&amp;bind</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#apply%E3%80%81call"><span class="nav-number">12.1.</span> <span class="nav-text">apply、call</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#apply%E3%80%81call-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">12.2.</span> <span class="nav-text">apply、call 的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bind"><span class="nav-number">12.3.</span> <span class="nav-text">bind</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95"><span class="nav-number">12.3.1.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#call-amp-apply-amp-bind%E6%AF%94%E8%BE%83"><span class="nav-number">12.4.</span> <span class="nav-text">call&amp;apply&amp;bind比较</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">13.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="nav-number">13.1.</span> <span class="nav-text">模块化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A4%E6%96%AD"><span class="nav-number">13.2.</span> <span class="nav-text">判断</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%92%E5%BD%92"><span class="nav-number">13.3.</span> <span class="nav-text">递归</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8D%A2%E8%A1%8C"><span class="nav-number">13.4.</span> <span class="nav-text">换行</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSON"><span class="nav-number">14.</span> <span class="nav-text">JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JSON-Schema"><span class="nav-number">14.1.</span> <span class="nav-text">JSON Schema</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90"><span class="nav-number">14.1.1.</span> <span class="nav-text">简单例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F"><span class="nav-number">14.2.</span> <span class="nav-text">格式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#utils"><span class="nav-number">15.</span> <span class="nav-text">utils</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">15.1.</span> <span class="nav-text">随机字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="nav-number">15.2.</span> <span class="nav-text">比较版本号</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#AJAX"><span class="nav-number">16.</span> <span class="nav-text">AJAX</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">16.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E7%94%A8"><span class="nav-number">16.2.</span> <span class="nav-text">应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%8B%E5%AD%90"><span class="nav-number">16.3.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Document"><span class="nav-number">17.</span> <span class="nav-text">Document</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#querySelector"><span class="nav-number">17.1.</span> <span class="nav-text">querySelector()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#querySelectorAll"><span class="nav-number">17.2.</span> <span class="nav-text">querySelectorAll()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Element"><span class="nav-number">18.</span> <span class="nav-text">Element</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#appendChild-aChild"><span class="nav-number">18.1.</span> <span class="nav-text">appendChild(aChild)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#append-Node-or-String"><span class="nav-number">18.2.</span> <span class="nav-text">append(Node or String)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#innerHTML"><span class="nav-number">18.3.</span> <span class="nav-text">innerHTML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#insertAdjacentHTML"><span class="nav-number">18.4.</span> <span class="nav-text">insertAdjacentHTML</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#API"><span class="nav-number">19.</span> <span class="nav-text">API</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#history"><span class="nav-number">19.1.</span> <span class="nav-text">history</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E9%80%80"><span class="nav-number">19.2.</span> <span class="nav-text">后退</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%BF%9B"><span class="nav-number">19.3.</span> <span class="nav-text">前进</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8A%80%E5%B7%A7"><span class="nav-number">20.</span> <span class="nav-text">技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E4%B8%8B%E6%A0%87%E6%AF%8F%E6%AC%A1%E5%8A%A01"><span class="nav-number">20.1.</span> <span class="nav-text">数组下标每次加1</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-number">21.</span> <span class="nav-text">问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#parse"><span class="nav-number">21.1.</span> <span class="nav-text">parse</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC-BUG"><span class="nav-number">21.2.</span> <span class="nav-text">解构赋值 BUG</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-number">22.</span> <span class="nav-text">性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B0%83%E8%AF%95"><span class="nav-number">22.1.</span> <span class="nav-text">调试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2-1"><span class="nav-number">22.2.</span> <span class="nav-text">内存泄露</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#element%E8%8A%82%E7%82%B9%E7%A7%BB%E9%99%A4%EF%BC%8C%E4%BD%86element%E5%8F%98%E9%87%8F%E8%BF%98%E5%9C%A8"><span class="nav-number">22.2.1.</span> <span class="nav-text">element节点移除，但element变量还在</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%9A%84%E8%8A%82%E7%82%B9%EF%BC%8C%E7%9B%91%E5%90%AC%E7%9A%84%E4%BA%8B%E4%BB%B6%E8%BF%98%E5%9C%A8"><span class="nav-number">22.2.2.</span> <span class="nav-text">删除的节点，监听的事件还在</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#setInterval-%E8%A6%81%E6%B8%85%E7%90%86"><span class="nav-number">22.2.3.</span> <span class="nav-text">setInterval 要清理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AD%E5%8C%85-1"><span class="nav-number">22.2.4.</span> <span class="nav-text">闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AD%E5%8C%85-2"><span class="nav-number">22.2.5.</span> <span class="nav-text">闭包</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="nav-number">23.</span> <span class="nav-text">数组去重</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ES6-Set-ES6%E4%B8%AD%E5%B8%B8%E7%94%A8"><span class="nav-number">23.1.</span> <span class="nav-text">ES6 Set (ES6中常用)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8C%E5%B1%82for%EF%BC%8C%E5%A4%96%E5%B1%82%E5%BE%AA%E7%8E%AF%EF%BC%8C%E5%86%85%E5%B1%82%E6%AF%94%E8%BE%83%EF%BC%8C%E7%84%B6%E5%90%8Esplice%E5%8E%BB%E9%87%8D%EF%BC%88ES5%E4%B8%AD%E5%B8%B8%E7%94%A8%EF%BC%89"><span class="nav-number">23.2.</span> <span class="nav-text">双层for，外层循环，内层比较，然后splice去重（ES5中常用）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#indexOf%E5%8E%BB%E9%87%8D"><span class="nav-number">23.3.</span> <span class="nav-text">indexOf去重</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sort-%E6%8E%92%E5%BA%8F%E5%90%8E%EF%BC%8C%E7%9B%B8%E9%82%BB%E6%AF%94%E8%BE%83"><span class="nav-number">23.4.</span> <span class="nav-text">sort()排序后，相邻比较</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#includes%EF%BC%8C%E6%95%B0%E7%BB%84%E6%98%AF%E5%90%A6%E5%90%AB%E6%9C%89%E6%9F%90%E4%B8%AA%E5%80%BC"><span class="nav-number">23.5.</span> <span class="nav-text">includes，数组是否含有某个值</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">kil</p>
  <div class="site-description" itemprop="description">心如止水，潜心修行</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">83</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/kilfront" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kilfront" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kaifaweb@163.com" title="E-Mail → mailto:kaifaweb@163.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class=""></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kil</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//code.jquery.com/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
