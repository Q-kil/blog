<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"b2t":false,"scrollpercent":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="心如止水，潜心修行">
<meta property="og:type" content="website">
<meta property="og:title" content="Kil Notes">
<meta property="og:url" content="http://example.com/page/6/index.html">
<meta property="og:site_name" content="Kil Notes">
<meta property="og:description" content="心如止水，潜心修行">
<meta property="og:locale">
<meta property="article:author" content="kil">
<meta property="article:tag" content="Hexo, NexT">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>Kil Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Kil Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Quick notes</p>
      <a>
        <img class="custom-logo-image" src="[object Object]" alt="Kil Notes">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/10/Error/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/10/Error/" class="post-title-link" itemprop="url">Error</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-10 19:03:42" itemprop="dateCreated datePublished" datetime="2020-04-10T19:03:42+08:00">2020-04-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Error/" itemprop="url" rel="index"><span itemprop="name">Error</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h1><img src="/2020/04/10/Error/get_parame.png" class="">

<p>原因：方法上面没有属性 getUserToken().parame</p>
<h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><h2 id="sass-loader"><a href="#sass-loader" class="headerlink" title="sass-loader"></a>sass-loader</h2><p>Module build failed: TypeError: this.getResolve is not a function<br>sass-loader的版本过高导致的编译错误，当前最高版本是8.x，需要退回到7.3.1</p>
<h1 id="Angular"><a href="#Angular" class="headerlink" title="Angular"></a>Angular</h1><p>ERROR in Could not resolve module ./pages/suit/suit.module relative to app/app-routing.module.ts</p>
<h1 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h1><h2 id="操作DOM"><a href="#操作DOM" class="headerlink" title="操作DOM"></a>操作DOM</h2><h3 id="error"><a href="#error" class="headerlink" title="error"></a>error</h3><p>vue是虚拟DOM，不应该使用操作原生DOM的方式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;pixi&#x27;</span>).<span class="title function_">appendChild</span>(app.<span class="property">view</span>);</span><br></pre></td></tr></table></figure>

<h3 id="right"><a href="#right" class="headerlink" title="right"></a>right</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&quot;pixi&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;pixi&#x27;</span>] <span class="keyword">as</span> <span class="title class_">HTMLElement</span>).<span class="title function_">appendChild</span>(app.<span class="property">view</span>);</span><br></pre></td></tr></table></figure>

<p><code>ref</code> 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 <code>$refs</code> 对象上。如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例</p>
<p><code>as</code> 类型断言<br>语法：</p>
<ul>
<li>值 as 类型</li>
<li>&lt;类型&gt;值</li>
</ul>
<p><code>&lt;&gt;</code> 语法在 ts 中也表示范型；建议在使用类型断言时，统一使用 <code>值 as 类型</code></p>
<p>延伸：<br>语法：CAST (expression AS data_type)</p>
<p>expression：任何有效的SQServer表达式。<br>AS：用于分隔两个参数，在AS之前的是要处理的数据，在AS之后是要转换的数据类型。<br>data_type：目标系统所提供的数据类型，包括bigint和sql_variant，不能使用用户定义的数据类型。</p>
<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><p>Uncaught SyntaxError: Invalid or unexpected token<br>未捕获的SyntaxError：无效或意外的令牌</p>
<p>SyntaxError: Unexpected token ‘null’<br>语法错误:意外的标记“null”</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/02/webpack-bundle-analyzer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/02/webpack-bundle-analyzer/" class="post-title-link" itemprop="url">webpack-bundle-analyzer</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-02 20:42:31" itemprop="dateCreated datePublished" datetime="2020-04-02T20:42:31+08:00">2020-04-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tool/" itemprop="url" rel="index"><span itemprop="name">Tool</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="使用-Angular-CLI-和-Webpack-分析包尺寸"><a href="#使用-Angular-CLI-和-Webpack-分析包尺寸" class="headerlink" title="使用 Angular CLI 和 Webpack 分析包尺寸"></a>使用 Angular CLI 和 Webpack 分析包尺寸</h1><p>确保包尺寸足够小（250k 或更小），并在适当的时间加载</p>
<h2 id="prod"><a href="#prod" class="headerlink" title="prod"></a>prod</h2><table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">–dev</th>
<th align="left">–prod</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Environment</td>
<td align="left">environment.ts</td>
<td align="left">environment.prod.ts</td>
</tr>
<tr>
<td align="left">sourcempas</td>
<td align="left">true</td>
<td align="left">false</td>
</tr>
</tbody></table>
<p>–prod 还设置了下列的设置:</p>
<ul>
<li>如果在 .angular-cli.json 中进行了配置，添加 service worker.</li>
<li>在模块中，使用 production 替换 process.env.NODE_ENV 的值。</li>
<li>对代码执行 UglifyJS .</li>
</ul>
<h2 id="–stats-json"><a href="#–stats-json" class="headerlink" title="–stats-json"></a>–stats-json</h2><p>该参数用于生成可以使用  webpack-bundle-analyzer 或者 <a target="_blank" rel="noopener" href="https://webpack.github.io/analyse">https://webpack.github.io/analyse</a>  分析包结构的 stats.json 文件。</p>
<h2 id="执行命令"><a href="#执行命令" class="headerlink" title="执行命令"></a>执行命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng build --prod --stats-json</span><br></pre></td></tr></table></figure>

<h2 id="webpack-bundle-analyzer"><a href="#webpack-bundle-analyzer" class="headerlink" title="webpack-bundle-analyzer"></a>webpack-bundle-analyzer</h2><p>States.json 是 Webpack 的一个特殊文件，webpack 是 Angular CLI 内部所使用的打包工具。使用 Webpack 帮我们生成的这个文件，我们可以使用各种不同的工具来理解我们的应用。</p>
<p>我们这里使用的工具是  Webpack bundle analyzer 。webpack 包分析器是一个 npm 包，可以在 webpack 的配置中或者命令行使用。对于我们来说，我们使用命令行工具。</p>
<p>为了使用这个工具，我们需要如下步骤：<br>1、</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-bundle-analyzer</span><br></pre></td></tr></table></figure>

<p>2、为方便使用，安装之后，在 package.json 中的 scripts 部分，添加下面的行来创建自定义的 npm 命令</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;bundle-report&quot;</span><span class="punctuation">:</span> <span class="string">&quot;webpack-bundle-analyzer dist/angular-hello-world/stats-es2015.json&quot;</span></span><br></pre></td></tr></table></figure>

<p>3、执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run bundle-report</span><br></pre></td></tr></table></figure>
<p>途中的每种颜色代表一个独立的包。在这个图中，可以看到我们有三个包，vendor 中包含所有的库代码，polyfill 包和 main 应用代码包。我们可以近一半查看未压缩和压缩之后的尺寸。这使得我们快速检查最大的包，并帮助我们决定何时使用 Lazy Loading 进一步拆分应用。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/30/website/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/30/website/" class="post-title-link" itemprop="url">website</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-30 18:05:32" itemprop="dateCreated datePublished" datetime="2020-03-30T18:05:32+08:00">2020-03-30</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="favicon"><a href="#favicon" class="headerlink" title="favicon"></a>favicon</h1><p>Favicon是favorites icon的缩写，亦被称为website icon（网页图标）、page icon（页面图标）或urlicon（URL图标）。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/23/HHKB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/23/HHKB/" class="post-title-link" itemprop="url">HHKB</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-23 14:29:28" itemprop="dateCreated datePublished" datetime="2020-03-23T14:29:28+08:00">2020-03-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tool/" itemprop="url" rel="index"><span itemprop="name">Tool</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="中英文切换"><a href="#中英文切换" class="headerlink" title="中英文切换"></a>中英文切换</h1><p>背景：每次Control + space 实在是太繁琐，中英文每天要用100多次。如果不想办法的话，估计一辈子用的次数会绕地球两圈。</p>
<p>现在切换按键：shift</p>
<p>方法：<br>1、安装 Karabiner-Elements<br><a target="_blank" rel="noopener" href="https://karabiner-elements.pqrs.org/index.html">https://karabiner-elements.pqrs.org/index.html</a></p>
<p>2、找到文件编辑<br><code>.config/karabiner/karabiner.json</code><br>配置文件进行编辑，如果没有此文件，请随意在软件软件界面建立一条规则再删除即可。<br>添加配置：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;rules&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Change caps to left_shift. (Post leftshift if alone)&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;manipulators&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;from&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key_code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;left_shift&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;modifiers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;optional&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                            <span class="string">&quot;any&quot;</span></span><br><span class="line">                        <span class="punctuation">]</span></span><br><span class="line">                    <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;to&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                    <span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;key_code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;left_shift&quot;</span></span><br><span class="line">                    <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;to_if_alone&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                    <span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;key_code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;caps_lock&quot;</span></span><br><span class="line">                    <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;basic&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>设置完成，保存文件即可立即生效，此时短按左shift键，应该可以切换中/英文功能了。<br><a target="_blank" rel="noopener" href="https://kknews.cc/digital/o2nb86o.html">原文</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/23/MacOS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/23/MacOS/" class="post-title-link" itemprop="url">OS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-23 09:33:26" itemprop="dateCreated datePublished" datetime="2020-03-23T09:33:26+08:00">2020-03-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MacOS/" itemprop="url" rel="index"><span itemprop="name">MacOS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><h2 id="工作区设置"><a href="#工作区设置" class="headerlink" title="工作区设置"></a>工作区设置</h2><h3 id="鼠标"><a href="#鼠标" class="headerlink" title="鼠标"></a>鼠标</h3><p>大屏幕，鼠标跟踪速度调高一点。<br>系统偏好设置 》 鼠标 》跟踪速度</p>
<h3 id="滚动"><a href="#滚动" class="headerlink" title="滚动"></a>滚动</h3><p>修改滚动方向，跟windows操作习惯一样。<br>系统偏好设置 》 鼠标 》滚动方向：自然（不勾选）</p>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><h2 id="打开某软件"><a href="#打开某软件" class="headerlink" title="打开某软件"></a>打开某软件</h2><p>open <em>QQ</em></p>
<h3 id="在xcode中打开"><a href="#在xcode中打开" class="headerlink" title="在xcode中打开"></a>在xcode中打开</h3><p>open platforms/ios/UpdateDemo.xcodeproj</p>
<h3 id="查看端口占用"><a href="#查看端口占用" class="headerlink" title="查看端口占用"></a>查看端口占用</h3><p> lsof -i:8070</p>
<h1 id="系统更新"><a href="#系统更新" class="headerlink" title="系统更新"></a>系统更新</h1><img src="/2020/03/23/MacOS/mac_os.jpeg" class="">

<h1 id="brew"><a href="#brew" class="headerlink" title="brew"></a>brew</h1><p><a target="_blank" rel="noopener" href="https://github.com/Homebrew/brew">Homebrew</a>是一款自由及开放源代码的软件包管理系统，用以简化macOS系统上的软件安装过程</p>
<p>brew 是从下载源码解压然后 ./configure &amp;&amp; make install ，同时会包含相关依存库。并自动配置好各种环境变量，而且易于卸载。<br>这个对程序员来说简直是福音，简单的指令，就能快速安装和升级本地的各种开发环境。</p>
<p>而 brew cask 是 已经编译好了的应用包 （.dmg/.pkg），仅仅是下载解压，放在统一的目录中（/opt/homebrew-cask/Caskroom），省掉了自己去下载、解压、拖拽（安装）等蛋疼步骤，同样，卸载相当容易与干净。这个对一般用户来说会比较方便，包含很多在 AppStore 里没有的常用软件。</p>
<p>install</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</span><br></pre></td></tr></table></figure>

<p>版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ brew -v</span><br><span class="line">Homebrew 3.6.12</span><br><span class="line">Homebrew/homebrew-core (git revision 250e2930521; last commit 2022-11-29)</span><br></pre></td></tr></table></figure>

<p>更新自己</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure>

<p>更新某个包时，查看更新信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew upgrade -d yarn</span><br></pre></td></tr></table></figure>

<p>两种方式安装包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install yarn </span><br><span class="line">curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version 1.13.0</span><br></pre></td></tr></table></figure>

<p>apps path</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /Applications</span><br></pre></td></tr></table></figure>

<p>安装java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install --verbose --debug java</span><br></pre></td></tr></table></figure>

<h2 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a>安装软件</h2><p>brew install ffmpeg<br>brew install wget</p>
<h2 id="卸载软件"><a href="#卸载软件" class="headerlink" title="卸载软件"></a>卸载软件</h2><p>brew uninstall wget</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><h3 id="Updating-Homebrew…"><a href="#Updating-Homebrew…" class="headerlink" title="Updating Homebrew…"></a>Updating Homebrew…</h3><p>解决办法</p>
<h4 id="关闭自动更新"><a href="#关闭自动更新" class="headerlink" title="关闭自动更新"></a>关闭自动更新</h4><p>在.zshrc文件中加入下方命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export HOMEBREW_NO_AUTO_UPDATE=true</span><br></pre></td></tr></table></figure>

<h4 id="替换镜像源加速"><a href="#替换镜像源加速" class="headerlink" title="替换镜像源加速"></a>替换镜像源加速</h4><p>我们平时执行brew命令安装软件的时候，跟这三个仓库有关：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.brew.git</span><br><span class="line">2.homebrew-core.git</span><br><span class="line">3.homebrew-bottles</span><br></pre></td></tr></table></figure>

<p>使用阿里的Homebrew镜像源代替可以进行加速</p>
<h5 id="替换brew-git"><a href="#替换brew-git" class="headerlink" title="替换brew.git"></a>替换brew.git</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &quot;$(brew --repo)&quot;</span><br><span class="line">git remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git</span><br></pre></td></tr></table></figure>

<p>还原：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &quot;$(brew --repo)&quot;</span><br><span class="line">git remote set-url origin https://github.com/Homebrew/brew.git</span><br></pre></td></tr></table></figure>

<h5 id="替换homebrew-core-git"><a href="#替换homebrew-core-git" class="headerlink" title="替换homebrew-core.git"></a>替换homebrew-core.git</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;</span><br><span class="line">git remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git</span><br></pre></td></tr></table></figure>

<p>还原：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;</span><br><span class="line">git remote set-url origin https://github.com/Homebrew/homebrew-core.git</span><br></pre></td></tr></table></figure>

<h5 id="替换homebrew-bottles访问地址"><a href="#替换homebrew-bottles访问地址" class="headerlink" title="替换homebrew-bottles访问地址"></a>替换homebrew-bottles访问地址</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles&#x27; &gt;&gt; ~/.zshrc</span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure>

<p>还原的话就是删除HOMEBREW_BOTTLE_DOMAIN，上面的是zsh的命令，如果是bash的话请写在.bash_profile文件中。</p>
<p>更新后成功：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ brew upgrade yarn</span><br><span class="line">Updating Homebrew...</span><br><span class="line">==&gt; Auto-updated Homebrew!</span><br><span class="line">Updated 1 tap (homebrew/cask).</span><br><span class="line">==&gt; Updated Casks</span><br><span class="line">karabiner-elements ✔               hex-fiend                          qownnotes</span><br><span class="line">115browser </span><br></pre></td></tr></table></figure>

<h3 id="instail慢"><a href="#instail慢" class="headerlink" title="instail慢"></a>instail慢</h3><h4 id="替换代理"><a href="#替换代理" class="headerlink" title="替换代理"></a>替换代理</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># niekaifa @ niekaifadeMacBook-Pro in ~ [14:40:01] C:130</span><br><span class="line">$ brew cask install adoptopenjdk8 --debug</span><br><span class="line">==&gt; Downloading https://github.com/AdoptOpenJDK/openjdk8-binaries/releases/download/jdk8u265-b01/OpenJDK8U-jdk_x64_mac_hotspot_8u265b01.pkg</span><br><span class="line">==&gt; Downloading from https://github-production-release-asset-2e65be.s3.amazonaws.com/140418865/6444de00-d246-11ea-8be7-50169d929f88?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F2</span><br><span class="line">##################                                                        25.7%^C</span><br><span class="line"></span><br><span class="line"># niekaifa @ niekaifadeMacBook-Pro in ~ [14:54:50] C:130</span><br><span class="line">$ export ALL_PROXY=127.0.0.1:1087 【注意：该设置仅在当前zsh有效】</span><br><span class="line"></span><br><span class="line"># niekaifa @ niekaifadeMacBook-Pro in ~ [14:55:55]</span><br><span class="line">$ brew cask install adoptopenjdk8 --debug</span><br><span class="line">==&gt; Downloading https://github.com/AdoptOpenJDK/openjdk8-binaries/releases/download/jdk8u265-b01/OpenJDK8U-jdk_x64_mac_hotspot_8u265b01.pkg</span><br><span class="line">==&gt; Downloading from https://github-production-release-asset-2e65be.s3.amazonaws.com/140418865/6444de00-d246-11ea-8be7-50169d929f88?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20200810%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20200810T065610Z&amp;X-Amz-Expires=300&amp;X-</span><br><span class="line">######################################################################## 100.0%</span><br><span class="line">==&gt; Verifying SHA-256 checksum for Cask &#x27;adoptopenjdk8&#x27;.</span><br><span class="line">==&gt; Installing Cask adoptopenjdk8</span><br><span class="line">==&gt; Running installer for adoptopenjdk8; your password may be necessary.</span><br><span class="line">==&gt; Package installers may write to any location; options such as --appdir are ignored.</span><br><span class="line">Password:</span><br><span class="line">installer: Package name is AdoptOpenJDK</span><br><span class="line">installer: Installing at base path /</span><br><span class="line">installer: The install was successful.</span><br><span class="line">package-id: net.adoptopenjdk.8.jdk</span><br><span class="line">version: 1.8.0_265-b01</span><br><span class="line">volume: /</span><br><span class="line">location: Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk</span><br><span class="line">install-time: 1597042784</span><br><span class="line">🍺  adoptopenjdk8 was successfully installed!</span><br></pre></td></tr></table></figure>

<h2 id="安装gradle"><a href="#安装gradle" class="headerlink" title="安装gradle"></a>安装gradle</h2><p>brew install gradle     一直失败</p>
<p>该用二进制文件安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">❯ mkdir /opt/gradle</span><br><span class="line">❯ unzip -d /opt/gradle gradle-6.6-bin.zip</span><br><span class="line">❯ ls /opt/gradle/gradle-6.6</span><br><span class="line">LICENSE  NOTICE  bin  README  init.d  lib  media</span><br></pre></td></tr></table></figure>


<h1 id="hosts系统文件"><a href="#hosts系统文件" class="headerlink" title="hosts系统文件"></a>hosts系统文件</h1><p>Hosts是一个没有扩展名的系统文件，可以用记事本等工具打开，其作用就是将一些常用的网址域名与其对应的IP地址建立一个关联“数据库”，当用户在浏览器中输入一个需要登录的网址时，系统会首先自动从Hosts文件中寻找对应的IP地址，一旦找到，系统会立即打开对应网页，如果没有找到，则系统会再将网址提交DNS域名解析服务器进行IP地址的解析。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/hosts</span><br><span class="line"></span><br><span class="line">127.0.0.1	www.163.com</span><br></pre></td></tr></table></figure>

<h1 id="清理内存"><a href="#清理内存" class="headerlink" title="清理内存"></a>清理内存</h1><p>sudo purge</p>
<h1 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h1><h2 id="显示隐藏文件"><a href="#显示隐藏文件" class="headerlink" title="显示隐藏文件"></a>显示隐藏文件</h2><p>shift + command + .</p>
<h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2><p>截全屏并保存到剪贴板：Shift + Cmmand  + 3  ++ Control<br>截取选择区域并保存到剪贴板：Shift + Cmmand  + 4  ++ Control</p>
<h1 id="清理mac"><a href="#清理mac" class="headerlink" title="清理mac"></a>清理mac</h1><p>Finder&gt;前往&gt;资源库（按alt显示）</p>
<p>~/Library/Caches</p>
<h1 id="Xcode"><a href="#Xcode" class="headerlink" title="Xcode"></a>Xcode</h1><h2 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h2><h2 id="iPhone-is-not-available-Please-reconnect-the-device"><a href="#iPhone-is-not-available-Please-reconnect-the-device" class="headerlink" title="iPhone is not available. Please reconnect the device"></a>iPhone is not available. Please reconnect the device</h2><p>Before you debug with iPhone, follow this mapping table about the version of Xcode and iOS：</p>
<p>Xcode 12.2 → iOS 14.2</p>
<p>Xcode 12.1 → iOS 14.1</p>
<p>Xcode 12 → iOS 14</p>
<p>Xcode 11.7 → iOS 13.7</p>
<p>Xcode 11.6 → iOS 13.6</p>
<p>Xcode 11.5 → iOS 13.5</p>
<p>Xcode 11.4 → iOS 13.4</p>
<p>Download at <a target="_blank" rel="noopener" href="https://developer.apple.com/download/more/">https://developer.apple.com/download/more/</a>.</p>
<h1 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"># niekaifa @ niekaifadeMacBook-Pro in ~ [16:07:33]</span><br><span class="line">$ printenv</span><br><span class="line">TERM_SESSION_ID=w0t0p0:B9D213B1-A345-4B37-B004-59FF4A1C2236</span><br><span class="line">SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.HQ60wnWS6K/Listeners</span><br><span class="line">LC_TERMINAL_VERSION=3.4.4</span><br><span class="line">COLORFGBG=7;0</span><br><span class="line">ITERM_PROFILE=Default</span><br><span class="line">XPC_FLAGS=0x0</span><br><span class="line">LANG=zh_CN.UTF-8</span><br><span class="line">PWD=/Users/niekaifa</span><br><span class="line">SHELL=/bin/zsh</span><br><span class="line">SECURITYSESSIONID=186a7</span><br><span class="line">TERM_PROGRAM_VERSION=3.4.4</span><br><span class="line">TERM_PROGRAM=iTerm.app</span><br><span class="line">PATH=/usr/local/sbin:/usr/local/bin:/Users/niekaifa/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin:/Users/niekaifa/.oh-my-zsh/custom/plugins/nali:/Users/niekaifa/Library/Android/sdk/tools:/Users/niekaifa/Library/Android/sdk/platform-tools:/bin:/opt/gradle/gradle-6.6/bin</span><br><span class="line">LC_TERMINAL=iTerm2</span><br><span class="line">COLORTERM=truecolor</span><br><span class="line">COMMAND_MODE=unix2003</span><br><span class="line">TERM=xterm-256color</span><br><span class="line">HOME=/Users/niekaifa</span><br><span class="line">TMPDIR=/var/folders/2y/w_dvhyrj543fn4qjvglt4gxh0000gn/T/</span><br><span class="line">USER=niekaifa</span><br><span class="line">XPC_SERVICE_NAME=0</span><br><span class="line">LOGNAME=niekaifa</span><br><span class="line">LaunchInstanceID=41F6AEA0-4EDD-45B6-83B1-CC77E675EB94</span><br><span class="line">__CF_USER_TEXT_ENCODING=0x0:25:52</span><br><span class="line">ITERM_SESSION_ID=w0t0p0:B9D213B1-A345-4B37-B004-59FF4A1C2236</span><br><span class="line">SHLVL=1</span><br><span class="line">OLDPWD=/Users/niekaifa/ikyu/code/cordova-hot-code-push</span><br><span class="line">ZSH=/Users/niekaifa/.oh-my-zsh</span><br><span class="line">PAGER=less</span><br><span class="line">LESS=-R</span><br><span class="line">LC_CTYPE=zh_CN.UTF-8</span><br><span class="line">LSCOLORS=Gxfxcxdxbxegedabagacad</span><br><span class="line">HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles</span><br><span class="line">http_proxy=http://127.0.0.1:1080</span><br><span class="line">https_proxy=http://127.0.0.1:1080</span><br><span class="line">_=/usr/bin/printenv</span><br></pre></td></tr></table></figure>

<p>查看terminal 使用的那个</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;zsh loaded&quot;</span><br></pre></td></tr></table></figure>

<h1 id="制作可引导盘"><a href="#制作可引导盘" class="headerlink" title="制作可引导盘"></a>制作可引导盘</h1><p>sudo /Applications/Install\ macOS\ Big\ Sur.app/Contents/Resources/createinstallmedia –volume /Volumes/Samsung_T5</p>
<h1 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">brew -v</span><br><span class="line">brew update</span><br><span class="line">brew install nginx</span><br><span class="line"></span><br><span class="line"> /usr/local/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>

<p>查看nginx的配置信息<br>brew info nginx</p>
<p>安装目录：/usr/local/Cellar/nginx/1.21.6 (26 files, 2.2MB) *<br>根目录：Docroot is: /usr/local/var/www<br>配置文件及默认端口：The default port has been set in /usr/local/etc/nginx/nginx.conf to 8080 so that</p>
<p>nginx将在servers目录下加载所有文件，可以在此目录下启动nginx服务：<br>nginx will load all files in /usr/local/etc/nginx/servers/.</p>
<p>To restart nginx after an upgrade:<br>  brew services restart nginx<br>Or, if you don’t want/need a background service you can just run:<br>  /usr/local/opt/nginx/bin/nginx -g daemon off;</p>
<p>查看nginx安装目录<br>open /usr/local/etc/nginx/</p>
<p>nginx安装到了哪里？<br>open /usr/local/Cellar/nginx</p>
<p>work address<br>/opt/homebrew/etc/nginx/servers/</p>
<p>home address<br>/usr/local/etc/nginx/servers</p>
<h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>brew services start nginx // 重启的命令是: brew services restart nginx</p>
<p>brew services reload nginx</p>
<p><a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a><br>Welcome to nginx! </p>
<h2 id="issues"><a href="#issues" class="headerlink" title="issues"></a>issues</h2><h3 id="MacBook-M1-brew安装其他软件遇到问题（Error-Cannot-install-in-Homebrew-on-ARM-processor-in-Intel-default-prefix-usr-local-）的处理方法"><a href="#MacBook-M1-brew安装其他软件遇到问题（Error-Cannot-install-in-Homebrew-on-ARM-processor-in-Intel-default-prefix-usr-local-）的处理方法" class="headerlink" title="MacBook M1 brew安装其他软件遇到问题（Error: Cannot install in Homebrew on ARM processor in Intel default prefix (/usr/local)!）的处理方法"></a>MacBook M1 brew安装其他软件遇到问题（Error: Cannot install in Homebrew on ARM processor in Intel default prefix (/usr/local)!）的处理方法</h3><p>打开Finder-&gt; 打开应用程序-&gt;打开实用工具-&gt;终端<br>找到终端.app(找到自己用的终端，或者iTerm)，显示简介，把使用 Rosetta打开勾选上，然后重启终端，再运行brew install ，</p>
<p>最后装好了别忘了去掉勾</p>
<p>“departmentId”: 9,<br>“departmentName”: “普通内科”,<br>“doctorEthNo”: “8623777”,<br>“doctorName”: “AAA”,<br>“doctorTitle”: “高级”,<br>“doctorTitleId”: 3,<br>“hospitalId”: 225471,<br>“hospitalName”: “上海乐静门诊部”,<br>“imgs”: [{“url”: “<a target="_blank" rel="noopener" href="https://dev-digilink-cdn.oss-cn-shanghai.aliyuncs.com/2022-05-11/6ce51e1b-b361-4983-942b-05922ab72b72&quot;%7D]">https://dev-digilink-cdn.oss-cn-shanghai.aliyuncs.com/2022-05-11/6ce51e1b-b361-4983-942b-05922ab72b72&quot;}]</a>,<br>“msgMobile”: null,<br>“status”: “NoSubmit”</p>
<h3 id="打不开xxx-因为Apple无法检查其是否包含恶意软件"><a href="#打不开xxx-因为Apple无法检查其是否包含恶意软件" class="headerlink" title="打不开xxx,因为Apple无法检查其是否包含恶意软件"></a>打不开xxx,因为Apple无法检查其是否包含恶意软件</h3><img src="/2020/03/23/MacOS/software.jpg" class="">

<p>安全性与隐私 -&gt; 允许从以下位置下载的应用 -&gt; 任何来源<br>如果 “任何来源”被隐藏，输入指令：<br>sudo spctl –master-disable</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/22/JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/22/JavaScript/" class="post-title-link" itemprop="url">JavaScript</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-22 15:19:52" itemprop="dateCreated datePublished" datetime="2020-03-22T15:19:52+08:00">2020-03-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p>primitive<br>7种<br>string，number，bigint，boolean，null，undefined，symbol</p>
<h2 id="应用类型"><a href="#应用类型" class="headerlink" title="应用类型"></a>应用类型</h2><p>Object 类型、Array 类型、Date 类型、RegExp 类型、Function 类型 等</p>
<h2 id="冻结对象"><a href="#冻结对象" class="headerlink" title="冻结对象"></a>冻结对象</h2><p>Object.freeze(obj);</p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>&amp;&amp; 逻辑与<br>&amp; 按位与</p>
<h2 id="获取元素上的属性值"><a href="#获取元素上的属性值" class="headerlink" title="获取元素上的属性值"></a>获取元素上的属性值</h2><p>返回元素上一个指定的属性值。如果指定的属性不存在，则返回  null 或 “” （空字符串）<br>let attribute = element.getAttribute(attributeName);</p>
<h2 id="函数自执行"><a href="#函数自执行" class="headerlink" title="函数自执行"></a>函数自执行</h2><p>IIFE（立即调用函数表达式）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<h2 id="处理-URL-查询字符串"><a href="#处理-URL-查询字符串" class="headerlink" title="处理 URL 查询字符串"></a>处理 URL 查询字符串</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prms = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(&#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Jonas&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Gauffin&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(prms.<span class="title function_">toString</span>());</span><br><span class="line"><span class="comment">// firstName=Jonas&amp;lastName=Gauffin</span></span><br></pre></td></tr></table></figure>

<h2 id="格式化数字"><a href="#格式化数字" class="headerlink" title="格式化数字"></a>格式化数字</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">number.<span class="title function_">toFixed</span>(<span class="number">2</span>) <span class="comment">// 2: 可以自定义小数位</span></span><br></pre></td></tr></table></figure>

<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><p>setInterval<br>interval: 间隔<br>setTimeout<br>timeout：超时</p>
<h2 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>.<span class="property">length</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;arg&#x27;</span>, <span class="variable language_">arguments</span>[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数回调"><a href="#函数回调" class="headerlink" title="函数回调"></a>函数回调</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;.facebook&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">facebookHandle</span>(fbLogin);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fbLogin</span>(<span class="params">token</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fb token&#x27;</span>, token);</span><br><span class="line">  <span class="keyword">var</span> fbLoginApi = <span class="string">&#x27;account/third_signin&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> parame = <span class="string">&#x27;&#123;&quot;third_token&quot;: &quot;&#x27;</span> + token + <span class="string">&#x27;&quot;,&quot;third_type&quot;:&quot;facebook&quot;&#125;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">xhrCommon</span>(<span class="string">&#x27;post&#x27;</span>, fbLoginApi, <span class="literal">false</span>, parame, <span class="keyword">function</span> <span class="title function_">success</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    store.<span class="title function_">set</span>(<span class="string">&#x27;user&#x27;</span>, data);</span><br><span class="line">    <span class="title function_">alertHandle</span>(<span class="string">&#x27;success&#x27;</span>, <span class="string">&#x27;Login Success&#x27;</span>);</span><br><span class="line">    <span class="title function_">authtokenCallback</span>();</span><br><span class="line">  &#125;, <span class="keyword">function</span> <span class="title function_">error</span>(<span class="params">err</span>)&#123;</span><br><span class="line">    <span class="title function_">alertHandle</span>(<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;Login Error:&#x27;</span>+ err.<span class="property">msg</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence</a></p>
<h2 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h2><h3 id="调用父级dom方法"><a href="#调用父级dom方法" class="headerlink" title="调用父级dom方法"></a>调用父级dom方法</h3><p>window.parent.parentFn();</p>
<h3 id="向子级发数据"><a href="#向子级发数据" class="headerlink" title="向子级发数据"></a>向子级发数据</h3><p>frameEle.contentWindow.postMessage(message, ‘*’);</p>
<h3 id="向父级发数据"><a href="#向父级发数据" class="headerlink" title="向父级发数据"></a>向父级发数据</h3><p>window.parent.postMessage(message, ‘*’);</p>
<h3 id="监听发来的事件"><a href="#监听发来的事件" class="headerlink" title="监听发来的事件"></a>监听发来的事件</h3><p>window.addEventListener(‘message’, function(e) {<br>  const data = JSON.parse(e.data);<br>  // Where does the message come from<br>  const channel = data.channel;<br>});</p>
<h2 id="阻止事件"><a href="#阻止事件" class="headerlink" title="阻止事件"></a>阻止事件</h2><h3 id="form-表单内回车-刷新页面"><a href="#form-表单内回车-刷新页面" class="headerlink" title="form 表单内回车 刷新页面"></a>form 表单内回车 刷新页面</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onsubmit</span>=<span class="string">&quot;event.preventDefault();&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;test()&quot;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="a-标签跳转"><a href="#a-标签跳转" class="headerlink" title="a 标签跳转"></a>a 标签跳转</h3><p>1、e.preventDefault();<br>2、href=”javascript:void(0);”</p>
<h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><p>location.reload()  //刷新页面</p>
<p>location.protocol<br>http / https:</p>
<p>location.hostname<br>a.com</p>
<h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><p>取整 四舍五入<br>Math.round(67.55);   //68</p>
<p>向下取整<br>console.log(Math.floor(45.84334));//45</p>
<p>向上取整<br>console.log(Math.ceil(5.4443));//6</p>
<p>随机数0-1<br>console.log(Math.random());//0—–1之间</p>
<h2 id="userAgent"><a href="#userAgent" class="headerlink" title="userAgent"></a>userAgent</h2><p> navigator.userAgent;</p>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>作用域（Scope）    -<br>window/global Scope    全局作用域<br>function Scope    函数作用域<br>Block Scope    块作用域（ES6）<br>eval Scope    eval作用域 【eval() 函数会将传入的字符串当做 JavaScript 代码进行执行】</p>
<h3 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h3><p>变量作用域的查找是一个扩散过程，就像各个环节相扣的链条（”变量提升”一直向上找），逐次递进，这就是“作用域链”的由来。</p>
<h2 id="生成固定长度数组"><a href="#生成固定长度数组" class="headerlink" title="生成固定长度数组"></a>生成固定长度数组</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">lastReport</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123;<span class="attr">length</span>: <span class="number">5</span>&#125;,<span class="function">(<span class="params">item,index</span>)=&gt;</span>item = &#123;</span><br><span class="line">    <span class="attr">skuName</span>: <span class="string">&quot;消息推送tst&quot;</span>,</span><br><span class="line">    <span class="attr">taskId</span>: <span class="number">98</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1-12</span></span><br><span class="line"><span class="title class_">Array</span>(<span class="number">12</span>).<span class="title function_">fill</span>(<span class="number">1</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">v,k</span>)=&gt;</span>k+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="点击事件"><a href="#点击事件" class="headerlink" title="点击事件"></a>点击事件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 onclick=<span class="string">&quot;test()&quot;</span>&gt;click&lt;/h1&gt;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Clicked!&#x27;</span>));</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ele&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Clicked!&#x27;</span>));</span><br></pre></td></tr></table></figure>
<p>第三参数<br>可选。布尔值，指定事件是否在捕获或冒泡阶段执行。</p>
<p>可能值:<br>true - 事件句柄在捕获阶段执行<br>false - 默认。事件句柄在冒泡阶段执行</p>
<p>options 可选<br>一个指定有关 listener 属性的可选参数对象。可用的选项如下：<br>capture:  Boolean，表示 listener 会在该类型的事件捕获阶段传播到该 EventTarget 时触发。<br>once:  Boolean，表示 listener 在添加之后最多只调用一次。如果是 true， listener 会在其被调用之后自动移除。</p>
<h3 id="执行两次问题"><a href="#执行两次问题" class="headerlink" title="执行两次问题"></a>执行两次问题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;click&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, test, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  e.<span class="title function_">stopPropagation</span>(); <span class="comment">// 防止冒泡</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="遮罩弹框"><a href="#遮罩弹框" class="headerlink" title="遮罩弹框"></a>遮罩弹框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.mask</span>&#123;<span class="attribute">position</span>: fixed;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: <span class="number">100%</span>;<span class="attribute">top</span>: <span class="number">0</span>;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>);&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span>&#123;<span class="attribute">width</span>: <span class="number">80%</span>;<span class="attribute">overflow</span>: hidden;<span class="attribute">position</span>: absolute;<span class="attribute">top</span>: <span class="number">50%</span>;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">right</span>: <span class="number">0</span>;<span class="attribute">margin</span>:auto;<span class="attribute">border-radius</span>: <span class="number">8px</span>;<span class="attribute">background-color</span>: <span class="number">#fff</span>;<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);-webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span> <span class="selector-class">.title</span>&#123;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: <span class="number">50px</span>;<span class="attribute">line-height</span>: <span class="number">57px</span>;<span class="attribute">text-align</span>: center;<span class="attribute">font-size</span>: <span class="number">18px</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span> <span class="selector-class">.content</span>&#123;<span class="attribute">margin</span>: <span class="number">0</span> auto;<span class="attribute">font-size</span>: <span class="number">14px</span>;<span class="attribute">line-height</span>: <span class="number">20px</span>;<span class="attribute">text-align</span>: center;<span class="attribute">padding-left</span>: <span class="number">21px</span>;<span class="attribute">padding-right</span>: <span class="number">21px</span>;<span class="attribute">padding-bottom</span>: <span class="number">24px</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.warn</span> <span class="selector-class">.i_know</span>&#123;<span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>:<span class="number">46px</span>;<span class="attribute">color</span>: <span class="number">#4691ee</span>;<span class="attribute">text-align</span>: center;<span class="attribute">font-size</span>: <span class="number">16px</span>;<span class="attribute">line-height</span>: <span class="number">46px</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">4000px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>sdfjslfslfjslf<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mask&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;warn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>提示<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>即将推出，敬请期待<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;i_know&quot;</span>&gt;</span>我知道了<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> mask = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;mask&#x27;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">    mask.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mask&#x27;</span>, e);</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;e.target&#x27;</span>, e.<span class="property">target</span>, mask);</span></span><br><span class="line"><span class="language-javascript">      </span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (e.<span class="property">target</span> === mask) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ele&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> warn = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;warn&#x27;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">    warn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      event.<span class="title function_">stopPropagation</span>()</span></span><br><span class="line"><span class="language-javascript">      event.<span class="property">cancelBubble</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;warn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="操作css"><a href="#操作css" class="headerlink" title="操作css"></a>操作css</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在单个语句中设置多个样式</span></span><br><span class="line">elt.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">&quot;color: blue; border: 1px solid black&quot;</span>;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">elt.<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;color:red; border: 1px solid blue;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置特定样式，同时保持其他内联样式值不变</span></span><br><span class="line">elt.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IE 不支持 ele.style = ``; 只能使用</span></span><br><span class="line">elt.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&quot;blue&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取元素的样式"><a href="#获取元素的样式" class="headerlink" title="获取元素的样式"></a>获取元素的样式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">style</span>.<span class="property">width</span>);  <span class="comment">//什么也没有</span></span><br><span class="line"><span class="keyword">var</span> sty = div.<span class="property">currentStyle</span> || <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(div,<span class="literal">null</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sty.<span class="property">width</span>);   <span class="comment">//100px;</span></span><br></pre></td></tr></table></figure>

<h3 id="remove-class"><a href="#remove-class" class="headerlink" title="remove class"></a>remove class</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divs = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; divs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  divs[i].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;green&#x27;</span>)[<span class="number">0</span>].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;light&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="操作html"><a href="#操作html" class="headerlink" title="操作html"></a>操作html</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vertionEle = <span class="string">`&lt;div style=&quot;position:fixed; left: 2px; bottom: 2px; color: #fff;&quot;&gt;&lt;span&gt;游戏版本：<span class="subst">$&#123;appVersion.appVersion&#125;</span>&lt;/span&gt;&lt;br&gt;&lt;span&gt;内核版本：<span class="subst">$&#123;gamecoreVersion&#125;</span>&lt;/span&gt;&lt;/div&gt;`</span></span><br><span class="line">ele.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, vertionEle);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">位置名称的可视化</span><br><span class="line">&lt;!-- beforebegin --&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">  &lt;!-- afterbegin --&gt;</span><br><span class="line">  foo</span><br><span class="line">  &lt;!-- beforeend --&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;!-- afterend --&gt;</span><br></pre></td></tr></table></figure>

<h2 id="setTimeout-amp-setInterval"><a href="#setTimeout-amp-setInterval" class="headerlink" title="setTimeout &amp; setInterval"></a>setTimeout &amp; setInterval</h2><p>setTimeout()方法设置一个定时器，该定时器在定时器到期后执行一个函数或指定的一段代码。<br>setInterval() 方法重复调用一个函数或执行一个代码段，在每次调用之间具有固定的时间延迟。</p>
<h2 id="对象添加健值对"><a href="#对象添加健值对" class="headerlink" title="对象添加健值对"></a>对象添加健值对</h2><p>object[key] = value</p>
<h3 id="对象长度"><a href="#对象长度" class="headerlink" title="对象长度"></a>对象长度</h3><p>Object.getOwnPropertyNames(op_def.AvatarSlot).length</p>
<h2 id="url-解码"><a href="#url-解码" class="headerlink" title="url 解码"></a>url 解码</h2><p>decodeURIComponent(‘https%3A%2F%2Fosd-alpha.tooqing.com’);</p>
<h2 id="当前-url"><a href="#当前-url" class="headerlink" title="当前 url"></a>当前 url</h2><p>window.location.href</p>
<h2 id="document"><a href="#document" class="headerlink" title="document"></a>document</h2><p>滚动条位置：<br>document.documentElement.scrollTop</p>
<p>距离父级高度：<br>document.getElementById(‘onlinePlayerCount’).offsetTop</p>
<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><p>set<br>document.cookie = ‘key=value’</p>
<h2 id="window"><a href="#window" class="headerlink" title="window"></a>window</h2><p>窗口高度：<br>window.innerHeight</p>
<p>alert( window.innerWidth ); // 整个窗口的宽度<br>alert( document.documentElement.clientWidth ); // 减去滚动条宽度后的窗口宽度</p>
<h3 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">setLaunch</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> e = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;launch&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;e&#x27;</span>, e, e.<span class="property">clientWidth</span>, e.<span class="property">clientHeight</span>);</span><br><span class="line">    </span><br><span class="line">      <span class="keyword">var</span> n = <span class="variable language_">document</span>.<span class="property">documentElement</span></span><br><span class="line">        , o = e.<span class="property">clientWidth</span></span><br><span class="line">        , r = e.<span class="property">clientHeight</span></span><br><span class="line">        , t = n.<span class="title function_">getBoundingClientRect</span>()</span><br><span class="line">        , i = t.<span class="property">width</span></span><br><span class="line">        , a = t.<span class="property">height</span>;</span><br><span class="line">      o &gt; i &amp;&amp; (e.<span class="property">style</span>.<span class="property">width</span> = i + <span class="string">&quot;px&quot;</span>),</span><br><span class="line">      r != a &amp;&amp; (e.<span class="property">style</span>.<span class="property">height</span> = a + <span class="string">&quot;px&quot;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;t&#x27;</span>, t);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&amp;&amp;&#x27;</span>, o &gt; i &amp;&amp; (e.<span class="property">style</span>.<span class="property">width</span> = i + <span class="string">&quot;px&quot;</span>));</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">setLaunch</span> = setLaunch,</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">setLaunch</span>(),</span><br><span class="line">  <span class="comment">// window.addEventListener(&quot;resize&quot;, window.setLaunch)</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,<span class="title function_">debounce</span>(<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;end of resizing&quot;</span>);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">setLaunch</span>();</span><br><span class="line">  &#125;));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> timer;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">event</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(timer) <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(func,<span class="number">1000</span>,event);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="slice-、substring-区别"><a href="#slice-、substring-区别" class="headerlink" title="slice()、substring() 区别"></a>slice()、substring() 区别</h3><p>操作长度：<br>substring(start, end?)<br>indexStart: 必需。一个非负的整数<br>indexEnd: 选填。不含尾</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;abc&quot;</span>.<span class="title function_">substring</span>(<span class="number">1</span>,<span class="number">2</span>)); <span class="comment">// returns &quot;b&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="indexOf-、match-、search-区别"><a href="#indexOf-、match-、search-区别" class="headerlink" title="indexOf()、match()、search()区别"></a>indexOf()、match()、search()区别</h3><p>操作索引，返回下标<br>indexOf<br>search: 检索字符串中子字符串，或检索与正则表达式匹配的子字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.<span class="title function_">search</span>(<span class="regexp">/DEF/</span>) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>正则表达式操作，返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">&#x27;1 abc 2 def 3&#x27;</span>;</span><br><span class="line">str.<span class="title function_">match</span>(<span class="regexp">/\d+/g</span>) <span class="comment">// [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="宽高"><a href="#宽高" class="headerlink" title="宽高"></a>宽高</h2><h3 id="网页全文的高度和宽度"><a href="#网页全文的高度和宽度" class="headerlink" title="网页全文的高度和宽度"></a>网页全文的高度和宽度</h3><p>获取的是body中的 内容 的高度，不会受到body本身的高度影响<br>如果body给定了固定高度/宽度 ，获取的依然是body里面内容的高度</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>    <span class="comment">//文档高度 body中内容的高度</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollWidth</span>     <span class="comment">//文档宽度 **body中内容的宽度**</span></span><br></pre></td></tr></table></figure>

<p>受body高度影响</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span></span><br></pre></td></tr></table></figure>

<h3 id="屏幕的高度和宽度（屏幕像素）"><a href="#屏幕的高度和宽度（屏幕像素）" class="headerlink" title="屏幕的高度和宽度（屏幕像素）"></a>屏幕的高度和宽度（屏幕像素）</h3><p>获取整个屏幕的高\宽度<br>这是一个固定值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">height</span>    <span class="comment">//屏幕高度</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">width</span>     <span class="comment">//屏幕宽度</span></span><br></pre></td></tr></table></figure>

<h3 id="获取屏幕可工作区域的高度和宽度（去掉状态栏）"><a href="#获取屏幕可工作区域的高度和宽度（去掉状态栏）" class="headerlink" title="获取屏幕可工作区域的高度和宽度（去掉状态栏）"></a>获取屏幕可工作区域的高度和宽度（去掉状态栏）</h3><p>只去除了上面的状态栏，打开控制台不受影响<br>这是一个固定值，不受浏览器窗口大小而改变</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">availHeight</span>    <span class="comment">//可视区域去除状态栏高度</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">availWidth</span>    <span class="comment">//可视区域去除状态栏宽度（和上面的值一样）</span></span><br></pre></td></tr></table></figure>

<h3 id="网页可见区域的高度和宽度"><a href="#网页可见区域的高度和宽度" class="headerlink" title="网页可见区域的高度和宽度"></a>网页可见区域的高度和宽度</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">innerHeight</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">innerWidth</span>     <span class="comment">//没有去除滚动条的宽度</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span>    <span class="comment">//去除滚动条的宽度</span></span><br></pre></td></tr></table></figure>

<h2 id="document-1"><a href="#document-1" class="headerlink" title="document"></a>document</h2><p>document.documentElement与document.body<br>document代表的是整个文档(对于一个网页来说包括整个网页结构)，document.documentElement是整个文档节点树的根节点，在网页中即html标签；<br>document.body是整个文档DOM节点树里的body节点，网页中即为body标签元素。</p>
<h3 id="Element-clientHeight"><a href="#Element-clientHeight" class="headerlink" title="Element.clientHeight"></a>Element.clientHeight</h3><h3 id="execCommand"><a href="#execCommand" class="headerlink" title="execCommand"></a>execCommand</h3><p>当一个HTML文档切换到设计模式时，document暴露 execCommand 方法，该方法允许运行命令来操纵可编辑内容区域的元素。<br>bool = document.execCommand(aCommandName, aShowDefaultUI, aValueArgument)<br>返回值<br>一个 Boolean ，如果是 false 则表示操作不被支持或未被启用。<br>copy<br>拷贝当前选中内容到剪贴板。启用这个功能的条件因浏览器不同而不同，而且不同时期，其启用条件也不尽相同。使用之前请检查浏览器兼容表，以确定是否可用。</p>
<h2 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h2><p>格式化数字，使整数部分每三位加一个逗号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">23333</span>,</span><br><span class="line">num.<span class="title function_">toLocaleString</span>(); <span class="comment">// 23,333</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">2333333</span>;</span><br><span class="line">num.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;zh&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;currency&#x27;</span>, <span class="attr">currency</span>: <span class="string">&#x27;CNY&#x27;</span> &#125;);  </span><br><span class="line"><span class="string">&#x27;¥2,333,333.00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">2333333</span>;</span><br><span class="line">num.<span class="title function_">toLocaleString</span>(<span class="string">&#x27;zh&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;currency&#x27;</span>, <span class="attr">currency</span>: <span class="string">&#x27;USD&#x27;</span> &#125;);  </span><br><span class="line"><span class="string">&#x27;US$2,333,333.00&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="element"><a href="#element" class="headerlink" title="element"></a>element</h2><h3 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h3><p>Element.setAttribute()</p>
<h2 id="操作类"><a href="#操作类" class="headerlink" title="操作类"></a>操作类</h2><p>Element.classList 是一个只读属性，返回一个元素的类属性的实时 DOMTokenList 集合。<br>但是你可以使用 add() 和 remove() 方法修改它。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">div.<span class="property">className</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始状态：&lt;div class=&quot;foo&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">outerHTML</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 classList API 移除、添加类值</span></span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line">div.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;anotherclass&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;div class=&quot;anotherclass&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">outerHTML</span>);</span><br></pre></td></tr></table></figure>

<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  this_.<span class="property">networkStatus</span> = navigator.<span class="property">onLine</span> ? <span class="string">&quot;online&quot;</span> : <span class="string">&quot;offline&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;online&quot;</span>,  networkStatus);</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;offline&quot;</span>, networkStatus);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">networkStatus</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    this_.<span class="property">networkStatus</span> = navigator.<span class="property">onLine</span> ? <span class="string">&quot;online&quot;</span> : <span class="string">&quot;offline&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="时间日期"><a href="#时间日期" class="headerlink" title="时间日期"></a>时间日期</h2><p>yyyy-MM-dd HH:mm:ss<br>年-月-日 时:分:秒<br>大写是为了区分“ 月”与“ 分”</p>
<p>顺便说下HH为什么大写，是为了区分 12小时制与 24小时制。<br>小写的h是12小时制，大写的H是24小时制。</p>
<p>时间戳<br>new Date().getTime()<br>Date.now()</p>
<p>某一天<br>new Date(‘2021-04-01T03:24:00’);</p>
<h3 id="moment"><a href="#moment" class="headerlink" title="moment"></a>moment</h3><p>毫秒<br>moment().valueOf() </p>
<h4 id="UTC"><a href="#UTC" class="headerlink" title="UTC"></a>UTC</h4><p>moment.utc().format();<br>“2021-04-09T12:29:31Z”</p>
<p>moment.utc(1617971728931).format();<br>“2021-04-09T12:35:28Z”</p>
<h3 id="一天的开始和结束"><a href="#一天的开始和结束" class="headerlink" title="一天的开始和结束"></a>一天的开始和结束</h3><p>方法一</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> zero = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(result[<span class="number">0</span>]).<span class="title function_">toLocaleDateString</span>()).<span class="title function_">getTime</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;00:00&#x27;</span>, zero);</span><br><span class="line"><span class="keyword">let</span> end = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(result[<span class="number">1</span>]).<span class="title function_">toLocaleDateString</span>()).<span class="title function_">getTime</span>() + <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span> - <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;59:59&#x27;</span>, end);</span><br></pre></td></tr></table></figure>

<p>方法二</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">now.<span class="title function_">setHours</span>(<span class="number">00</span>, <span class="number">00</span>, <span class="number">00</span>, <span class="number">0</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getTime</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> e = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2021-04-01T03:24:00&#x27;</span>);</span><br><span class="line">e.<span class="title function_">setHours</span>(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>, <span class="number">999</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;e&#x27;</span>, e.<span class="title function_">getTime</span>());</span><br></pre></td></tr></table></figure>

<p>方法三</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">DayStart</span>(<span class="params">date</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> weeHours = <span class="title function_">moment</span>(date).<span class="title function_">startOf</span>(<span class="string">&#x27;day&#x27;</span>).<span class="title function_">valueOf</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;weeHours&#x27;</span>, weeHours);</span><br><span class="line">  <span class="keyword">return</span> weeHours;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">DayEnd</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> end = <span class="title function_">moment</span>(data).<span class="title function_">endOf</span>(<span class="string">&#x27;day&#x27;</span>).<span class="title function_">valueOf</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>, end);</span><br><span class="line">  <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><h3 id="二进制或运算符"><a href="#二进制或运算符" class="headerlink" title="二进制或运算符"></a>二进制或运算符</h3><p>二进制或运算符（|）逐位比较两个运算子，两个二进制位之中只要有一个为1，就返回1，否则返回0。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> | <span class="number">3</span> <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>上面代码中，0和3的二进制形式分别是00和11，所以进行二进制或运算会得到11（即3）。<br>位运算只对整数有效，遇到小数时，会将小数部分舍去，只保留整数部分。所以，将一个小数与0进行二进制或运算，等同于对该数去除小数部分，即取整数位。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.9</span> | <span class="number">0</span> <span class="comment">// 2</span></span><br><span class="line">-<span class="number">2.9</span> | <span class="number">0</span> <span class="comment">// -2</span></span><br></pre></td></tr></table></figure>

<p>需要注意的是，这种取整方法不适用超过32位整数最大值2147483647的数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2147483649.4</span> | <span class="number">0</span>;</span><br><span class="line"><span class="comment">// -2147483647</span></span><br></pre></td></tr></table></figure>

<h3 id="左移运算符"><a href="#左移运算符" class="headerlink" title="左移运算符"></a>左移运算符</h3><p>左移运算符（&lt;&lt;）表示将一个数的二进制值向左移动指定的位数，尾部补0，即乘以2的指定次方。向左移动的时候，最高位的符号位是一起移动的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4 的二进制形式为100，</span></span><br><span class="line"><span class="comment">// 左移一位为1000（即十进制的8）</span></span><br><span class="line"><span class="comment">// 相当于乘以2的1次方</span></span><br><span class="line"><span class="number">4</span> &lt;&lt; <span class="number">1</span></span><br><span class="line"><span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line">-<span class="number">4</span> &lt;&lt; <span class="number">1</span></span><br><span class="line"><span class="comment">// -8</span></span><br></pre></td></tr></table></figure>

<p>如果左移0位，就相当于将该数值转为32位整数，等同于取整，对于正数和负数都有效。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">13.5</span> &lt;&lt; <span class="number">0</span></span><br><span class="line"><span class="comment">// 13</span></span><br><span class="line"></span><br><span class="line">-<span class="number">13.5</span> &lt;&lt; <span class="number">0</span></span><br><span class="line"><span class="comment">// -13</span></span><br></pre></td></tr></table></figure>

<h3 id="或运算符"><a href="#或运算符" class="headerlink" title="或运算符"></a>或运算符</h3><p>&amp;</p>
<h2 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> encodedData = <span class="variable language_">window</span>.<span class="title function_">btoa</span>(<span class="string">&quot;Hello, world&quot;</span>); <span class="comment">// 编码</span></span><br><span class="line"><span class="keyword">let</span> decodedData = <span class="variable language_">window</span>.<span class="title function_">atob</span>(encodedData);    <span class="comment">// 解码</span></span><br></pre></td></tr></table></figure>

<h2 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a>while语句</h2><p>一个 while 语句只要指定的条件求值为真（true）就会一直执行它的语句块。一个 while 语句看起来像这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">go</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="title function_">green</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">1000</span>);</span><br><span class="line">    <span class="title function_">yellow</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">300</span>);</span><br><span class="line">    <span class="title function_">red</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="do-while"><a href="#do-while" class="headerlink" title="do while"></a>do while</h3><p>do…while 语句创建一个执行指定语句的循环，直到condition值为 false。在执行statement 后检测condition，所以指定的statement至少执行一次。<br>do<br>   statement<br>while (condition);</p>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><p>Array.prototype.fill()<br>fill() 方法用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。不包括终止索引。<br>arr.fill(value[, start[, end]])<br>value<br>用来填充数组元素的值。<br>start 可选<br>起始索引，默认值为0。<br>end 可选<br>终止索引，默认值为 this.length。</p>
<h3 id="from"><a href="#from" class="headerlink" title="from"></a>from</h3><p>对一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从String生成数组</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="comment">// [&#x27;f&#x27;, &#x27;o&#x27;, &#x27;o&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从Set生成数组</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>]))</span><br><span class="line"><span class="comment">// [&#x27;foo&#x27;, &#x27;bar&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从Map生成数组</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>,<span class="number">4</span>]])</span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(map);</span><br><span class="line"><span class="comment">// [[1,2], [2,4]]</span></span><br></pre></td></tr></table></figure>

<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>Array map()</p>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>头部<br>shift()</p>
<p>尾部<br>pop()</p>
<p>中间<br>splice(索引，长度)<br>第三个参数 可以添加元素<br>改变原数组</p>
<h3 id="数组返回字符串"><a href="#数组返回字符串" class="headerlink" title="数组返回字符串"></a>数组返回字符串</h3><p>toString()    将数组转换成一个字符串<br>toLocalString()    把数组转换成本地约定的字符串<br>join()    将数组元素连接起来以构建一个字符串</p>
<h4 id="join"><a href="#join" class="headerlink" title="join"></a>join</h4><p>join() 方法将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elements = [<span class="string">&#x27;Fire&#x27;</span>, <span class="string">&#x27;Air&#x27;</span>, <span class="string">&#x27;Water&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(elements.<span class="title function_">join</span>());</span><br><span class="line"><span class="comment">// expected output: &quot;Fire,Air,Water&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]; </span><br><span class="line"><span class="keyword">var</span> s = a.<span class="title function_">join</span>(<span class="string">&quot;==&quot;</span>);  <span class="comment">//指定分隔符</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);  <span class="comment">//返回字符串“1==2==3==4==5”</span></span><br></pre></td></tr></table></figure>


<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>本地离线存储 localStorage 长期存储数据，浏览器关闭后数据不丢失;<br>会话存储 sessionStorage 的数据在浏览器关闭后自动删除;</p>
<h1 id="待掌握"><a href="#待掌握" class="headerlink" title="待掌握"></a>待掌握</h1><h2 id="对象拷贝"><a href="#对象拷贝" class="headerlink" title="对象拷贝"></a>对象拷贝</h2><h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><p>Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> newObj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 1, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">a</span> = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 10, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 1, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"></span><br><span class="line">newObj.<span class="property">a</span> = <span class="number">20</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 10, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 20, b: &#123; c: 2&#125; &#125;</span></span><br><span class="line"></span><br><span class="line">newObj.<span class="property">b</span>.<span class="property">c</span> = <span class="number">30</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 10, b: &#123; c: 30&#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj); <span class="comment">// &#123; a: 20, b: &#123; c: 30&#125; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意: newObj.b.c = 30; 为什么呢..</span></span><br></pre></td></tr></table></figure>
<p>这就是 <code>Object.assign()</code> 的陷阱。<code>Object.assign</code> 只是浅拷贝。 <code>newObj.b</code> 和 <code>obj.b</code> 都引用同一个对象，没有单独拷贝，而是复制了对该对象的引用。任何对对象属性的更改都适用于使用该对象的所有引用。</p>
<h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><h2 id="汉字排序"><a href="#汉字排序" class="headerlink" title="汉字排序"></a>汉字排序</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zhSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">n, m</span>) =&gt;</span> n.<span class="title function_">localeCompare</span>(m));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>按照字母排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">segSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> letters = <span class="string">&quot;*abcdefghjklmnopqrstwxyz&quot;</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>),</span><br><span class="line">      zh = <span class="string">&quot;阿八嚓哒妸发旮哈讥咔垃痳拏噢妑七呥扨它穵夕丫帀&quot;</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> segs = [],</span><br><span class="line">      curr;</span><br><span class="line"></span><br><span class="line">  letters.<span class="title function_">forEach</span>(<span class="function">(<span class="params">v, i</span>) =&gt;</span> &#123;</span><br><span class="line">    curr = &#123;<span class="attr">letter</span>: v, <span class="attr">data</span>:[]&#125;;</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">j</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>((!zh[i-<span class="number">1</span>] || zh[i-<span class="number">1</span>].<span class="title function_">localeCompare</span>(j) &lt;= <span class="number">0</span>) &amp;&amp; j.<span class="title function_">localeCompare</span>(zh[i]) == -<span class="number">1</span>) &#123;</span><br><span class="line">        curr.<span class="property">data</span>.<span class="title function_">push</span>(j);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span>(curr.<span class="property">data</span>.<span class="property">length</span>) &#123;</span><br><span class="line">      segs.<span class="title function_">push</span>(curr);</span><br><span class="line">      curr.<span class="property">data</span>.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="title function_">localeCompare</span>(b);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> segs;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> segs = <span class="title function_">segSort</span>([<span class="string">&#x27;白鸽&#x27;</span>, <span class="string">&#x27;麻雀&#x27;</span>,<span class="string">&#x27;黑&#x27;</span>,<span class="string">&#x27;大象&#x27;</span>, <span class="string">&#x27;狗&#x27;</span>, <span class="string">&#x27;猫&#x27;</span>,<span class="string">&#x27;妈妈&#x27;</span>,<span class="string">&#x27;马&#x27;</span>, <span class="string">&quot;鸡&quot;</span>,<span class="string">&#x27;瘦&#x27;</span>,<span class="string">&#x27;胖&#x27;</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;segs&#x27;</span>, segs);</span><br></pre></td></tr></table></figure>

<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><p>forEach 不能中断循环（使用break或者return）。</p>
<p>return 必须用在方法里面</p>
<h3 id="for-or"><a href="#for-or" class="headerlink" title="for or"></a>for or</h3><h4 id="跳过本次循环"><a href="#跳过本次循环" class="headerlink" title="跳过本次循环"></a>跳过本次循环</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> array) &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">continue</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">item</span>:  <span class="number">1</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">2</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">4</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h4 id="终止循环"><a href="#终止循环" class="headerlink" title="终止循环"></a>终止循环</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> array) &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">return</span>; <span class="comment">// break</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">break</span>;<span class="comment">//continue //SyntaxError: Illegal break statement</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">array.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(item == <span class="number">3</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item: &#x27;</span>, item);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="attr">item</span>:  <span class="number">1</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">2</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">4</span></span><br><span class="line"><span class="attr">item</span>:  <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><p>reduce() 方法对数组中的每个元素执行reducer函数(升序执行)，将其结果汇总为单个返回值。<br>场景：计算数组里的总值。<br>参数：</p>
<ul>
<li>callback(返回的值，当前值)</li>
<li>initialValue 第一次调用callback函数时的第一个参数值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">products</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, product</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;product&#x27;</span>, product);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [&#123;<span class="attr">label</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="number">1</span>&#125;, &#123;<span class="attr">label</span>: <span class="number">2</span>, <span class="attr">value</span>: <span class="number">2</span>&#125;, &#123;<span class="attr">label</span>: <span class="number">3</span>, <span class="attr">value</span>: <span class="number">3</span>&#125;, &#123;<span class="attr">label</span>: <span class="number">4</span>, <span class="attr">value</span>: <span class="number">4</span>&#125;];</span><br><span class="line"><span class="keyword">const</span> acc = array.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pre&#x27;</span>, pre, cur, index);</span><br><span class="line">  <span class="keyword">if</span> (index === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> pre.<span class="property">value</span> + cur.<span class="property">value</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> pre + cur.<span class="property">value</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;acc&#x27;</span>, acc); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h2 id="模块规范"><a href="#模块规范" class="headerlink" title="模块规范"></a>模块规范</h2><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903744518389768">https://juejin.cn/post/6844903744518389768</a><br>背景：开发 UI 层通用组件，这样项目组就不需要重复造轮子。其中有一个高频使用的组件就是 dialog.js<br><code>&lt;script src=&quot;dialog.js&quot;&gt;&lt;/script&gt;</code><br>会产生两个问题：命名冲突和文件依赖</p>
<h3 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h3><p>第二行math.add(2, 3)，在第一行require(‘math’)之后运行，因此必须等math.js加载完成。也就是说，如果加载时间很长，整个应用就会停在那里等。<br>这对服务器端不是一个问题，因为所有的模块都存放在本地硬盘，可以同步加载完成，等待时间就是硬盘的读取时间。但是，对于浏览器，这却是一个大问题，因为模块都放在服务器端，等待时间取决于网速的快慢，可能要等很长时间，浏览器处于”假死”状态。<br>因此，浏览器端的模块，不能采用”同步加载”（synchronous），只能采用”异步加载”（asynchronous）。这就是AMD规范诞生的背景。</p>
<p>Asynchronous Module Definition<br>异步模块定义</p>
<p>AMD模块定义的方法非常清晰，不会污染全局环境，能够清楚地显示依赖关系</p>
<p>require([module], callback);</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span> (<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;./a.js&#x27;</span>], <span class="keyword">function</span> (<span class="params">moduleA</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(moduleA.<span class="property">a</span>); <span class="comment">// 打印出：hello world</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="commonJS"><a href="#commonJS" class="headerlink" title="commonJS"></a>commonJS</h3><p>2009年，美国程序员Ryan Dahl创造了node.js项目，将javascript语言用于服务器端编程。<br>这标志”Javascript模块化编程”正式诞生</p>
<p>服务器环境</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="comment">// 相当于这里还有一行：var exports = module.exports;代码</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">a</span> = <span class="string">&#x27;Hello world&#x27;</span>;  <span class="comment">// 相当于：module.exports.a = &#x27;Hello world&#x27;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">var</span> moduleA = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(moduleA.<span class="property">a</span>);     <span class="comment">// 打印出hello world</span></span><br></pre></td></tr></table></figure>

<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><p>ES6 在语言标准的层面上，实现了模块功能，而且实现得相当简单，完全可以取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 定义模块 math.js **/</span></span><br><span class="line"><span class="keyword">var</span> basicNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> &#123; basicNum, add &#125;;</span><br><span class="line"><span class="comment">/** 引用模块 **/</span></span><br><span class="line"><span class="keyword">import</span> &#123; basicNum, add &#125; <span class="keyword">from</span> <span class="string">&#x27;./math&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">ele</span>) &#123;</span><br><span class="line">    ele.<span class="property">textContent</span> = <span class="title function_">add</span>(<span class="number">99</span> + basicNum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="UMD"><a href="#UMD" class="headerlink" title="UMD"></a>UMD</h3><p>umd是AMD和CommonJS的糅合<br>AMD 浏览器第一的原则发展 异步加载模块。<br>CommonJS 模块以服务器第一原则发展，选择同步加载，它的模块无需包装(unwrapped modules)。<br>这迫使人们又想出另一个更通用的模式UMD （Universal Module Definition）。希望解决跨平台的解决方案。<br>UMD先判断是否支持Node.js的模块（exports）是否存在，存在则使用Node.js模块模式。<br>在判断是否支持AMD（define是否存在），存在则使用AMD方式加载模块。</p>
<h2 id="防抖-amp-节流"><a href="#防抖-amp-节流" class="headerlink" title="防抖&amp;节流"></a>防抖&amp;节流</h2><p>[字节跳动] 鼠标滚动的时候，会触发很多次事件，如何解决的？<br>这里选择的方法应该是节流，可以拓展讲到防抖和节流，防抖是指连续触发的时候只会执行一次，停止触发 N 秒后才能继续执行，而节流是指如果你持续触发事件，每隔一段时间，只执行一次事件。<br>像防止按钮多次点击就用防抖，像是监听滚动事件就用节流，</p>
<p>rxjs：debounceTime(200), 舍弃掉在两次输出之间小于指定时间的发出值</p>
<h1 id="新特性"><a href="#新特性" class="headerlink" title="新特性"></a>新特性</h1><h2 id="-1"><a href="#-1" class="headerlink" title="??"></a>??</h2><p>双问号（??）是ES2020（ECMAScript 2020）引入的新特性，因此在一些较老的浏览器和手机上可能不被支持。以下是一些常用浏览器和手机对双问号的兼容性情况：</p>
<p>Chrome：Chrome 80及以后版本支持双问号；<br>Firefox：Firefox 72及以后版本支持双问号；<br>Safari：Safari 14及以后版本支持双问号；<br>Edge：Edge 80及以后版本支持双问号；<br>iOS Safari：iOS Safari 14及以后版本支持双问号；<br>Android：Android 11及以后版本支持双问号。</p>
<h1 id="work"><a href="#work" class="headerlink" title="work"></a>work</h1><h2 id="顶级域名-一级域名"><a href="#顶级域名-一级域名" class="headerlink" title="顶级域名 一级域名"></a>顶级域名 一级域名</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">domain</span></span><br></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="排序-sort"><a href="#排序-sort" class="headerlink" title="排序 sort()"></a>排序 sort()</h2><p>默认排序顺序是在将元素转换为字符串，然后比较它们的UTF-16代码单元值序列。<br>修改元素组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">99</span>, <span class="number">33</span>, <span class="number">14</span>];</span><br><span class="line">arr.<span class="title function_">sort</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sort:&#x27;</span>, arr); <span class="comment">// sort: [ 12, 14, 33, 5, 8, 99 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 需要给一个比较函数</span></span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">n1, n2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n1 - n2;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sort:&#x27;</span>, arr); <span class="comment">// sort: [ 5, 8, 12, 14, 33, 99 ]</span></span><br></pre></td></tr></table></figure>

<h3 id="arr-sort-compareFunction"><a href="#arr-sort-compareFunction" class="headerlink" title="arr.sort([compareFunction])"></a>arr.sort([compareFunction])</h3><p>compareFunction 可选<br>用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的各个字符的Unicode位点进行排序。<br>firstEl<br>第一个用于比较的元素。<br>secondEl<br>第二个用于比较的元素。</p>
<p>如果指明了 compareFunction ，那么数组会按照调用该函数的返回值排序。即 a 和 b 是两个将要被比较的元素：<br>如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；<br>如果 compareFunction(a, b) 等于 0 ， a 和 b 的相对位置不变。备注： ECMAScript 标准并不保证这一行为，而且也不是所有浏览器都会遵守（例如 Mozilla 在 2003 年之前的版本）；<br>如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。<br>compareFunction(a, b) 必须总是对相同的输入返回相同的比较结果，否则排序的结果将是不确定的。</p>
<h2 id="删除没元素"><a href="#删除没元素" class="headerlink" title="删除没元素"></a>删除没元素</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">materials</span>.<span class="title function_">splice</span>(<span class="variable language_">this</span>.<span class="property">materials</span>.<span class="title function_">findIndex</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (item.<span class="property">part</span> === part.<span class="property">part</span>) &#123;</span><br><span class="line">    id = item.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;), <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h2 id="splice-插队"><a href="#splice-插队" class="headerlink" title="splice 插队"></a>splice 插队</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line">arr1.<span class="title function_">splice</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line"><span class="comment">// [2,6,7,8,1]</span></span><br></pre></td></tr></table></figure>

<h1 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h1><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p><code>this</code> 是 JavaScript 语言的一个关键字。<br>它是函数运行时，在函数体内部自动生成的一个对象，只能在函数体内部使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">　<span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，函数test运行时，内部会自动有一个this对象可以使用。</p>
<p>那么，this的值是什么呢？</p>
<p>函数的不同使用场合，this有不同的值。总的来说，this就是函数运行时所在的环境对象。下面分四种情况，详细讨论this的用法。</p>
<h3 id="情况一：纯粹的函数调用"><a href="#情况一：纯粹的函数调用" class="headerlink" title="情况一：纯粹的函数调用"></a>情况一：纯粹的函数调用</h3><p>这是函数的最通常用法，属于全局性调用，因此this就代表全局对象。请看下面这段代码，它的运行结果是1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>();  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="情况二：作为对象方法的调用"><a href="#情况二：作为对象方法的调用" class="headerlink" title="情况二：作为对象方法的调用"></a>情况二：作为对象方法的调用</h3><p>函数还可以作为某个对象的方法调用，这时this就指这个上级对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">obj.<span class="property">m</span> = test;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">m</span>(); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="情况三-作为构造函数调用"><a href="#情况三-作为构造函数调用" class="headerlink" title="情况三 作为构造函数调用"></a>情况三 作为构造函数调用</h3><p>所谓构造函数，就是通过这个函数，可以生成一个新对象。这时，this就指这个新对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">　<span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title function_">test</span>();</span><br><span class="line">obj.<span class="property">x</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>运行结果为1。为了表明这时this不是全局对象，我们对代码做一些改变：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title function_">test</span>();</span><br><span class="line">x  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>运行结果为2，表明全局变量x的值根本没变。</p>
<h3 id="情况四-apply-调用"><a href="#情况四-apply-调用" class="headerlink" title="情况四 apply 调用"></a>情况四 apply 调用</h3><p>apply()是函数的一个方法，作用是改变函数的调用对象。它的第一个参数就表示改变后的调用这个函数的对象。因此，这时this指的就是这第一个参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">　<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">obj.<span class="property">m</span> = test;</span><br><span class="line">obj.<span class="property">m</span>.<span class="title function_">apply</span>() <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<p>apply()的参数为空时，默认调用全局对象。因此，这时的运行结果为0，证明this指的是全局对象。</p>
<p>如果把最后一行代码修改为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.<span class="property">m</span>.<span class="title function_">apply</span>(obj); <span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>运行结果就变成了1，证明了这时this代表的是对象obj。</p>
<h3 id="箭头函数中的this"><a href="#箭头函数中的this" class="headerlink" title="箭头函数中的this"></a>箭头函数中的this</h3><p>在浏览器中, window 对象同时也是全局对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> g = <span class="string">&#x27;global&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">g</span>: <span class="string">&#x27;g&#x27;</span>,</span><br><span class="line">    <span class="attr">a</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">g</span>) &#125;,</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">        <span class="attr">c</span>: <span class="function">() =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">g</span>) &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">a</span>()</span><br><span class="line">obj.<span class="property">b</span>.<span class="title function_">c</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ggg&#x27;</span>, <span class="variable language_">window</span>.<span class="property">g</span>);</span><br><span class="line"><span class="title class_">VM99</span>:<span class="number">4</span> g</span><br><span class="line"><span class="title class_">VM99</span>:<span class="number">6</span> <span class="variable language_">global</span></span><br><span class="line"><span class="title class_">VM99</span>:<span class="number">12</span> ggg <span class="variable language_">global</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) &#125;,</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">    	<span class="attr">c</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">a</span>()  <span class="comment">// 打出的是obj对象, 相当于obj.a.call(obj)</span></span><br><span class="line">obj.<span class="property">b</span>.<span class="title function_">c</span>() <span class="comment">//打出的是obj.b对象, 相当于obj.b.c.call(obj.b)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用箭头函数</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) &#125;,</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">    	<span class="attr">c</span>: <span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">a</span>()   <span class="comment">//没有使用箭头函数打出的是obj</span></span><br><span class="line">obj.<span class="property">b</span>.<span class="title function_">c</span>()  <span class="comment">//打出的是window对象！！</span></span><br></pre></td></tr></table></figure>

<h1 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h1><p>PST<br>Pacific Standard Time 太平洋标准时间 </p>
<h1 id="fix"><a href="#fix" class="headerlink" title="fix"></a>fix</h1><h2 id="华为-和-oppo-内置浏览器-无法显示导航条"><a href="#华为-和-oppo-内置浏览器-无法显示导航条" class="headerlink" title="华为 和 oppo 内置浏览器 无法显示导航条"></a>华为 和 oppo 内置浏览器 无法显示导航条</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">scrollHandle</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>) &#123;</span><br><span class="line">  <span class="comment">// if (window.scrollY &gt; 0) &#123;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scrollState</span> = <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">scrollState</span> = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="内存泄露"><a href="#内存泄露" class="headerlink" title="内存泄露"></a>内存泄露</h1><p><strong>内存泄漏（memory leak）</strong><br>不再用到的内存，没有及时释放。<br><strong>垃圾回收机制（garbage collector）</strong><br>JavaScript 的内存基元在变量（对象，字符串等等）创建时分配，然后在他们不再被使用时“自动释放”</p>
<p>工具检测：<br>chrome - preformance</p>
<h2 id="垃圾回收机制——GC"><a href="#垃圾回收机制——GC" class="headerlink" title="垃圾回收机制——GC"></a>垃圾回收机制——GC</h2><p>JavaScript 具有自动垃圾回收机制（GC:Garbage Collecation），也就是说，执行环境会负责管理代码执行过程中使用的内存。</p>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>全局变量无法通过垃圾收集器收集。<br>要保证一旦完成使用就把他们赋值为 null 或重新赋值 。</p>
<h3 id="忘记移除的定时器"><a href="#忘记移除的定时器" class="headerlink" title="忘记移除的定时器"></a>忘记移除的定时器</h3><p>处理程序及其依赖项都不会被收集，因为间隔处理需要先备停止（请记住，它仍然是活动的）</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>函数嵌套函数，内层函数引用了外层函数作用域下的变量，并且内层函数在全局环境下可访问，进而形成闭包。</p>
<img src="/2020/03/22/JavaScript/closure.png" class="">

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">numGenerator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> num = <span class="number">1</span>;</span><br><span class="line">  num++;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getNum = <span class="title function_">numGenerator</span>();</span><br><span class="line"><span class="title function_">getNum</span>();</span><br></pre></td></tr></table></figure>
<h4 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h4><p>在正常情况下外界是无法访问函数内部变量的，函数执行之后，上下文即被销毁。但是在函数（外层）中，如果我们返回了另一个函数，且这个返回的函数使用了函数（外层）内的变量，那么外界便能够通过<br>这个返回的函数获取原函数（外层）内部的变量值。</p>
<h3 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h3><p>基本数据类型按照值大小保存在栈空间中，占有固定大小的内存空间。<br>引用类型保存在堆空间中，内存空间大小并不固定，需按引用情况来进行访问。</p>
<h3 id="DOM引用"><a href="#DOM引用" class="headerlink" title="DOM引用"></a>DOM引用</h3><p>数据结构中存储 DOM 节点</p>
<p>原理<br>垃圾收集器会定期（周期性）找出那些不在继续使用的变量，然后释放其内存。</p>
<h1 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h1><p>“use strict”;<br>这种模式使得Javascript在更严格的条件下运行。<br>“严格模式”体现了Javascript更合理、更安全、更严谨的发展方向</p>
<h2 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h2><ul>
<li>消除js语法的一些不合理、不严谨之处，减少怪异行为</li>
<li>消除代码运行不安全之处，保证代码运行安全</li>
<li>提高编译效率，增加运行速度</li>
<li>为js下一版本铺垫</li>
</ul>
<h2 id="严格模式中的变化"><a href="#严格模式中的变化" class="headerlink" title="严格模式中的变化"></a>严格模式中的变化</h2><p>严格模式同时改变了语法及运行时行为。</p>
<h3 id="将过失错误转成异常"><a href="#将过失错误转成异常" class="headerlink" title="将过失错误转成异常"></a>将过失错误转成异常</h3><ul>
<li>无法再意外创建全局变量</li>
<li>静默失败的赋值操作抛出异常<br>给不可写属性赋值，给只读属性赋值，给不可扩展对象的新属性赋值</li>
<li>试图删除不可删除的属性时会抛出异常</li>
<li>对象的所有属性名唯一</li>
<li>函数的参数名唯一</li>
<li>禁止八进制数字语法</li>
<li>禁止设置 原始数据 的属性</li>
</ul>
<h3 id="简化变量的使用"><a href="#简化变量的使用" class="headerlink" title="简化变量的使用"></a>简化变量的使用</h3><ul>
<li>禁用with</li>
<li>eval不再为上层范围引入新变量</li>
<li>禁止删除声明变量</li>
</ul>
<h1 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h1><p>如果试图引用constructor1构造的实例instance1的某个属性p1:</p>
<ul>
<li>首先会在instance1内部属性中找一遍;</li>
<li>接着会在instance1.<strong>proto</strong>(constructor1.prototype)中找一遍,而constructor1.prototype 实际上是instance2, 也就是说在instance2中寻找该属性p1;</li>
<li>如果instance2中还是没有,此时程序不会灰心,它会继续在instance2.<strong>proto</strong>(constructor2.prototype)中寻找…直至Object的原型对象</li>
</ul>
<p>搜索轨迹: instance1–&gt; instance2 –&gt; constructor2.prototype…–&gt;Object.prototype</p>
<p>这种搜索的轨迹,形似一条长链, 又因prototype在这个游戏规则中充当链接的作用,于是我们把这种实例与原型的链条称作 原型链 .</p>
<h2 id="轻松理解原型链"><a href="#轻松理解原型链" class="headerlink" title="轻松理解原型链"></a>轻松理解原型链</h2><p>原型链图</p>
<img src="/2020/03/22/JavaScript/proto.png" class="">

<ul>
<li><p>js分为函数对象和普通对象，每个对象都有__proto__属性，但是只有函数对象才有prototype属性</p>
</li>
<li><p>Object、Function都是js内置的函数, 类似的还有我们常用到的Array、RegExp、Date、Boolean、Number、String</p>
</li>
<li><p>属性__proto__是一个对象，它有两个属性，constructor和__proto__；</p>
</li>
<li><p>原型对象prototype有一个默认的constructor属性，用于记录实例是由哪个构造函数创建；</p>
</li>
</ul>
<h1 id="call-amp-apply-amp-bind"><a href="#call-amp-apply-amp-bind" class="headerlink" title="call&amp;apply&amp;bind"></a>call&amp;apply&amp;bind</h1><h2 id="apply、call"><a href="#apply、call" class="headerlink" title="apply、call"></a>apply、call</h2><p>在 javascript 中，call 和 apply 都是为了改变某个函数运行时的上下文（context）而存在的，换句话说，就是为了改变函数体内部 this 的指向。</p>
<p>JavaScript 的一大特点是，函数存在「定义时上下文」和「运行时上下文」以及「上下文是可以改变的」这样的概念。<br>例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fruits</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">fruits.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">    <span class="attr">say</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;My color is &quot;</span> + <span class="variable language_">this</span>.<span class="property">color</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> apple = <span class="keyword">new</span> fruits;</span><br><span class="line">apple.<span class="title function_">say</span>();    <span class="comment">//My color is red</span></span><br></pre></td></tr></table></figure>

<p>但是如果我们有一个对象banana= {color : “yellow”} ,我们不想对它重新定义 say 方法，那么我们可以通过 call 或 apply 用 apple 的 say 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">banana = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&quot;yellow&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">apple.<span class="property">say</span>.<span class="title function_">call</span>(banana);     <span class="comment">//My color is yellow</span></span><br><span class="line">apple.<span class="property">say</span>.<span class="title function_">apply</span>(banana);    <span class="comment">//My color is yellow</span></span><br></pre></td></tr></table></figure>

<h2 id="apply、call-的区别"><a href="#apply、call-的区别" class="headerlink" title="apply、call 的区别"></a>apply、call 的区别</h2><p>对于 apply、call 二者而言，作用完全一样，只是接受参数的方式不太一样。例如，有一个函数定义如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func = <span class="keyword">function</span>(<span class="params">arg1, arg2</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func.<span class="title function_">call</span>(<span class="variable language_">this</span>, arg1, arg2);</span><br><span class="line">func.<span class="title function_">apply</span>(<span class="variable language_">this</span>, [arg1, arg2])</span><br></pre></td></tr></table></figure>
<p>其中 this 是你想指定的上下文，他可以是任何一个 JavaScript 对象(JavaScript 中一切皆对象)，call 需要把参数按顺序传递进去，而 apply 则是把参数放在数组里。　　</p>
<p>通过 Array.prototype.slice.call 转化为标准数组</p>
<p>接下来的要求是给每一个 log 消息添加一个”(app)”的前辍，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">log</span>(<span class="string">&quot;hello world&quot;</span>);    <span class="comment">//(app)hello world</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">  args.<span class="title function_">unshift</span>(<span class="string">&#x27;(app)&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">apply</span>(<span class="variable language_">console</span>, args);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>bind 返回一个新的函数，绑定了新的this，不会执行。<br>说完了 apply 和 call ，再来说说bind。bind() 方法与 apply 和 call 很相似，也是可以改变函数体内 this 的指向。</p>
<p>MDN的解释是：bind()方法会创建一个新函数，称为绑定函数，当调用这个绑定函数时，绑定函数会以创建它时传入 bind()方法的第一个参数作为 this，传入 bind() 方法的第二个以及以后的参数加上绑定函数运行时本身的参数按照顺序作为原函数的参数来调用原函数。</p>
<p>直接来看看具体如何使用，在常见的单体模式中，通常我们会使用 _this , that , self 等保存 this ，这样我们可以在改变了上下文之后继续引用到它。 像这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;W</span><br><span class="line">    bar : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">eventBind</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> _this = <span class="variable language_">this</span>;</span><br><span class="line">        $(<span class="string">&#x27;.someClass&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">            <span class="comment">/* Act on the event */</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(_this.<span class="property">bar</span>);     <span class="comment">//1</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于 Javascript 特有的机制，上下文环境在 eventBind:function(){ } 过渡到 $(‘.someClass’).on(‘click’,function(event) { }) 发生了改变，上述使用变量保存 this 这些方式都是有用的，也没有什么问题。当然使用 bind() 可以更加优雅的解决这个问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">    bar : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">eventBind</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        $(<span class="string">&#x27;.someClass&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">            <span class="comment">/* Act on the event */</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">bar</span>);      <span class="comment">//1</span></span><br><span class="line">        &#125;.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>function.bind(thisArg[, arg1[, arg2[, …]]])</p>
<h2 id="call-amp-apply-amp-bind比较"><a href="#call-amp-apply-amp-bind比较" class="headerlink" title="call&amp;apply&amp;bind比较"></a>call&amp;apply&amp;bind比较</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">81</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">    <span class="attr">getX</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">getX</span>.<span class="title function_">bind</span>(obj)());  <span class="comment">//81</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">getX</span>.<span class="title function_">call</span>(obj));    <span class="comment">//81</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">getX</span>.<span class="title function_">apply</span>(obj));   <span class="comment">//81</span></span><br></pre></td></tr></table></figure>
<p>当你希望改变上下文环境之后并非立即执行，而是回调执行的时候，使用 bind() 方法。而 apply/call 则会立即执行函数。</p>
<p>总结：<br>apply 、 call 、bind 三者都是用来改变函数的this对象的指向的；<br>apply 、 call 、bind 三者第一个参数都是this要指向的对象，也就是想指定的上下文；<br>apply 、 call 、bind 三者都可以利用后续参数传参；<br>bind 是返回对应函数，便于稍后调用；apply 、call 则是立即调用 。</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5aaa37c8f265da23945f365c">CommonJS,AMD,CMD,ES6</a></p>
<h2 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*ngIf=<span class="string">&quot;type.type !== &#x27;handheld&#x27; || account.role === 0&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">    <span class="attr">nodes</span>: [</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;B&quot;</span>, <span class="attr">nodes</span>: [&#123; <span class="attr">name</span>: <span class="string">&quot;F&quot;</span> &#125;] &#125;,</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;C&quot;</span> &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;D&quot;</span>,</span><br><span class="line">            <span class="attr">nodes</span>: [</span><br><span class="line">                &#123; <span class="attr">name</span>: <span class="string">&quot;G&quot;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">name</span>: <span class="string">&quot;H&quot;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">name</span>: <span class="string">&quot;I&quot;</span>, <span class="attr">nodes</span>: [&#123; <span class="attr">name</span>: <span class="string">&quot;J&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;K&quot;</span> &#125;] &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;E&quot;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeTree</span>(<span class="params">roots</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">makeNode</span>(<span class="params">node</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> $div = $(<span class="string">&quot;&lt;div&gt;&quot;</span>).<span class="title function_">text</span>(node.<span class="property">name</span> || <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">const</span> $li = $(<span class="string">&quot;&lt;li&gt;&quot;</span>).<span class="title function_">append</span>($div);</span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">nodes</span> &amp;&amp; node.<span class="property">nodes</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            $li.<span class="title function_">append</span>(<span class="title function_">makeNodeList</span>(node.<span class="property">nodes</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $li;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">makeNodeList</span>(<span class="params">nodes</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nodes</span><br><span class="line">            .<span class="title function_">map</span>(<span class="function"><span class="params">child</span> =&gt;</span> <span class="title function_">makeNode</span>(child))</span><br><span class="line">            .<span class="title function_">reduce</span>(<span class="function">(<span class="params">$ul, $li</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> $ul.<span class="title function_">append</span>($li);</span><br><span class="line">        &#125;, $(<span class="string">&quot;&lt;ul&gt;&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">makeNodeList</span>(roots);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">makeTree</span>([data]).<span class="title function_">appendTo</span>($(<span class="string">&quot;#tree&quot;</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意参数支持传入单根或多根，</span></span><br><span class="line"><span class="comment">// 如果像 travelWidely 那样只支持多根（单根是特例）也是可以的</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">travelDeeply</span>(<span class="params">roots: INode | INode[]</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">printNode</span>(<span class="params">node: INode</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;node.name&#125;</span> <span class="subst">$&#123;node.nodes &amp;&amp; node.nodes.length || <span class="string">&quot;&quot;</span>&#125;</span>`</span>);</span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">nodes</span> &amp;&amp; node.<span class="property">nodes</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="comment">// 依次对子节点递归调用 printNode</span></span><br><span class="line">            node.<span class="property">nodes</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">child</span> =&gt;</span> <span class="title function_">printNode</span>(child));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这里 printNode 和 node =&gt; printNode(node) 等价</span></span><br><span class="line">    (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(roots) ? roots : [roots]).<span class="title function_">forEach</span>(printNode);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始遍历</span></span><br><span class="line"><span class="title function_">travelDeeply</span>(data);</span><br></pre></td></tr></table></figure>

<h2 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h2><p>\r - Carriage Return<br>\n - Line Feed</p>
<p>\r\n is often used in preference to \n as it displays properly on both unix and Windows.</p>
<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><p>js的一个子集</p>
<h2 id="JSON-Schema"><a href="#JSON-Schema" class="headerlink" title="JSON Schema"></a>JSON Schema</h2><p>当前后端使用 JSON 通信的时候，双方需要验证 JSON 的数据格式，比如验证 array 的长度、number 的大小、甚至于类似 object 中有某两个属性不能并存等等要求。当然这些规则都可以使用代码进行验证，但是这样写起来太繁琐了，所以为了描述并校验 JSON 的格式，JSON Schema 诞生了。</p>
<h3 id="简单例子"><a href="#简单例子" class="headerlink" title="简单例子"></a>简单例子</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;$schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://json-schema.org/draft-04/schema#&quot;</span><span class="punctuation">,</span> <span class="comment">// 版本控制</span></span><br><span class="line">  <span class="attr">&quot;$id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://example.com/root.json&quot;</span><span class="punctuation">,</span> <span class="comment">// 定义模式的URI</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span>  <span class="punctuation">&#123;</span> </span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;......&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;minimum&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;exclusiveMinimum&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;telephone&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;pattern&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^(\\([0-9]&#123;3&#125;\\))?[0-9]&#123;3&#125;-[0-9]&#123;4&#125;$&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;The price of the product&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;number&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;exclusiveMinimum&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;name&quot;</span><span class="punctuation">,</span> <span class="string">&quot;email&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;additionalProperties&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><h1 id="utils"><a href="#utils" class="headerlink" title="utils"></a>utils</h1><h2 id="随机字符串"><a href="#随机字符串" class="headerlink" title="随机字符串"></a>随机字符串</h2><p>Math.random().toString(36).slice(-10)</p>
<h2 id="比较版本号"><a href="#比较版本号" class="headerlink" title="比较版本号"></a>比较版本号</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> compareVersion = <span class="keyword">function</span>(<span class="params">version1, version2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> arrayA = version1.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> arrayB = version2.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> pointer = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (pointer &lt; arrayA.<span class="property">length</span> &amp;&amp; pointer &lt; arrayB.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> res = arrayA[pointer] - arrayB[pointer];</span><br><span class="line">        <span class="keyword">if</span> (res === <span class="number">0</span>) &#123;</span><br><span class="line">            pointer++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> res &gt; <span class="number">0</span> ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;next&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 若arrayA仍有小版本号</span></span><br><span class="line">    <span class="keyword">while</span> (pointer &lt; arrayA.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (+arrayA[pointer] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pointer++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 若arrayB仍有小版本号</span></span><br><span class="line">    <span class="keyword">while</span> (pointer &lt; arrayB.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (+arrayB[pointer] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pointer++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 版本号完全相同</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> version = <span class="title function_">compareVersion</span>(<span class="string">&#x27;0.0.3&#x27;</span>, <span class="string">&#x27;0.0.1&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;version&#x27;</span>, version);</span><br></pre></td></tr></table></figure>

<h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>AJAX即“Asynchronous JavaScript and XML”（异步的JavaScript与XML技术），指的是一套综合了多项技术的浏览器端网页开发技术。<br>意思就是用JavaScript执行异步网络请求。<br>AJAX请求是异步执行的，也就是说，要通过回调函数获得响应。</p>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><p>运用XHTML+CSS来表达信息；<br>运用JavaScript操作DOM（Document Object Model）来运行动态效果；<br>运用XML和XSLT操作资料<br>运用XMLHttpRequest或新的Fetch API与网页服务器进行异步资料交换；<br>注意：AJAX与Flash、Silverlight和Java Applet等RIA技术是有区分的。</p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">success</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> textarea = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test-response-text&#x27;</span>);</span><br><span class="line">    textarea.<span class="property">value</span> = text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fail</span>(<span class="params">code</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> textarea = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test-response-text&#x27;</span>);</span><br><span class="line">    textarea.<span class="property">value</span> = <span class="string">&#x27;Error code: &#x27;</span> + code;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>(); <span class="comment">// 新建XMLHttpRequest对象</span></span><br><span class="line"></span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 状态发生变化时，函数被回调</span></span><br><span class="line">    <span class="comment">// this  指代 xhr</span></span><br><span class="line">    <span class="comment">// readyState: https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/readyState</span></span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123; <span class="comment">//下载操作已完成。</span></span><br><span class="line">        <span class="comment">// 判断响应结果:</span></span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// 成功，通过responseText拿到响应的文本:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">success</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 失败，根据响应码判断失败原因:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">fail</span>(xhr.<span class="property">status</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// HTTP请求还在继续...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送请求:</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;/api/categories&#x27;</span>);</span><br><span class="line">xhr.<span class="title function_">send</span>();</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;请求已发送，请等待响应...&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="Document"><a href="#Document" class="headerlink" title="Document"></a>Document</h1><h2 id="querySelector"><a href="#querySelector" class="headerlink" title="querySelector()"></a>querySelector()</h2><p>指定选择器或选择器组匹配的第一个 HTMLElement对象。找不到匹配项，返回null</p>
<h2 id="querySelectorAll"><a href="#querySelectorAll" class="headerlink" title="querySelectorAll()"></a>querySelectorAll()</h2><p>返回与指定的选择器组匹配的文档中的元素列表, 返回的对象是 NodeList。</p>
<p>注意：<br>因为返回的是一个 NodeList 需要转换为 Array<br>[…document.querySelectorAll(‘*’)]</p>
<h1 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h1><h2 id="appendChild-aChild"><a href="#appendChild-aChild" class="headerlink" title="appendChild(aChild)"></a>appendChild(aChild)</h2><p>aChild: 必须是节点</p>
<h2 id="append-Node-or-String"><a href="#append-Node-or-String" class="headerlink" title="append(Node or String)"></a>append(Node or String)</h2><h2 id="innerHTML"><a href="#innerHTML" class="headerlink" title="innerHTML"></a>innerHTML</h2><p>获取元素的内容 或 替换元素的内容</p>
<h2 id="insertAdjacentHTML"><a href="#insertAdjacentHTML" class="headerlink" title="insertAdjacentHTML"></a>insertAdjacentHTML</h2><p>element.insertAdjacentHTML(position, text);<br>position</p>
<ul>
<li>‘beforebegin’：元素自身的前面。</li>
<li>‘afterbegin’：插入元素内部的第一个子节点之前。</li>
<li>‘beforeend’：插入元素内部的最后一个子节点之后。</li>
<li>‘afterend’：元素自身的后面。</li>
</ul>
<p>text<br>是要被解析为HTML或XML元素，并插入到DOM树中的 DOMString。</p>
<h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><h2 id="history"><a href="#history" class="headerlink" title="history"></a>history</h2><p>DOM window 对象通过 history 对象提供了对浏览器的会话历史的访问。允许你在用户浏览历史中向前和向后跳转。<br>可以改变浏览器的当前地址和历史，却又不会触发服务端页面请求的技术。</p>
<h2 id="后退"><a href="#后退" class="headerlink" title="后退"></a>后退</h2><p>window.history.back();<br>window.history.go(-1);</p>
<h2 id="前进"><a href="#前进" class="headerlink" title="前进"></a>前进</h2><p>window.history.forward();<br>window.history.go(1);</p>
<h1 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h1><h2 id="数组下标每次加1"><a href="#数组下标每次加1" class="headerlink" title="数组下标每次加1"></a>数组下标每次加1</h2><p>currentAdIndex = -1;<br>this.currentAdIndex = (this.currentAdIndex + 1) % this.ads.length;</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h2><p>Unhandled Promise Rejection: SyntaxError: JSON Parse error: Unexpected identifier “object”<br>答：<br>Most probably your response is already a JavaScript object and it not required to be parsed.<br>Remove the line var json = JSON.parse(response); and your code should work.</p>
<h2 id="解构赋值-BUG"><a href="#解构赋值-BUG" class="headerlink" title="解构赋值 BUG"></a>解构赋值 BUG</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  interactiveId,</span><br><span class="line">  interactiveName,</span><br><span class="line">&#125; = res.<span class="property">data</span>;</span><br><span class="line"><span class="comment">// 页面卡死，interactiveId 为 null</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">nextOptions</span> = [&#123;<span class="attr">id</span>: interactiveId, <span class="attr">name</span>: interactiveName&#125;];</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">dialogForm</span>.<span class="property">interactive</span> = &#123;<span class="attr">id</span>: interactiveId, <span class="attr">label</span>: interactiveName&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断一下interactiveId</span></span><br><span class="line"><span class="comment">// 其他：解构赋值默认值</span></span><br><span class="line"><span class="keyword">const</span> &#123; a = <span class="string">&#x27;1&#x27;</span>, b = <span class="string">&#x27;2&#x27;</span>, c = <span class="string">&#x27;3&#x27;</span>, d = <span class="string">&#x27;4&#x27;</span>, e = <span class="string">&#x27;5&#x27;</span> &#125; = <span class="keyword">let</span> object = &#123; <span class="attr">a</span>: <span class="string">&#x27;a&#x27;</span>, <span class="attr">b</span>: <span class="literal">null</span>, <span class="attr">c</span>: <span class="literal">undefined</span>, <span class="attr">d</span>: <span class="literal">false</span>, <span class="attr">e</span>: <span class="string">&#x27;&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// a = &#x27;a&#x27;</span></span><br><span class="line"><span class="comment">// b = null</span></span><br><span class="line"><span class="comment">// c = &#x27;3&#x27;</span></span><br><span class="line"><span class="comment">// d = false</span></span><br><span class="line"><span class="comment">// d = &#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>chrome -&gt; performance<br>JS Heap 和 Nodes 线随着时间线一直在上升，并没有被垃圾回收机制回收。</p>
<h2 id="内存泄露-1"><a href="#内存泄露-1" class="headerlink" title="内存泄露"></a>内存泄露</h2><h3 id="element节点移除，但element变量还在"><a href="#element节点移除，但element变量还在" class="headerlink" title="element节点移除，但element变量还在"></a>element节点移除，但element变量还在</h3><p>删除element节点的时候，把element变量设置为null</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;element&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">remove</span>(<span class="params"></span>) &#123;</span><br><span class="line">  element.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(element)</span><br><span class="line">  element = <span class="literal">null</span> <span class="comment">// 该节点占用的内存会被释放</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除的节点，监听的事件还在"><a href="#删除的节点，监听的事件还在" class="headerlink" title="删除的节点，监听的事件还在"></a>删除的节点，监听的事件还在</h3><p>还需要 removeEventListener</p>
<h3 id="setInterval-要清理"><a href="#setInterval-要清理" class="headerlink" title="setInterval 要清理"></a>setInterval 要清理</h3><p>调用 clearInterval</p>
<h3 id="闭包-1"><a href="#闭包-1" class="headerlink" title="闭包"></a>闭包</h3><h3 id="闭包-2"><a href="#闭包-2" class="headerlink" title="闭包"></a>闭包</h3><h1 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h1><h2 id="ES6-Set-ES6中常用"><a href="#ES6-Set-ES6中常用" class="headerlink" title="ES6 Set (ES6中常用)"></a>ES6 Set (ES6中常用)</h2><h2 id="双层for，外层循环，内层比较，然后splice去重（ES5中常用）"><a href="#双层for，外层循环，内层比较，然后splice去重（ES5中常用）" class="headerlink" title="双层for，外层循环，内层比较，然后splice去重（ES5中常用）"></a>双层for，外层循环，内层比较，然后splice去重（ES5中常用）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">array</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; array.<span class="property">length</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (array[i] == array[j]) &#123;</span><br><span class="line">        array.<span class="title function_">splice</span>(j, <span class="number">1</span>);</span><br><span class="line">        j--;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> ar = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ar&#x27;</span>, <span class="title function_">unique</span>(ar));</span><br></pre></td></tr></table></figure>

<h2 id="indexOf去重"><a href="#indexOf去重" class="headerlink" title="indexOf去重"></a>indexOf去重</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> newArr = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.<span class="title function_">indexOf</span>(arr[i]) === -<span class="number">1</span>) &#123;</span><br><span class="line">      newArr.<span class="title function_">push</span>(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="sort-排序后，相邻比较"><a href="#sort-排序后，相邻比较" class="headerlink" title="sort()排序后，相邻比较"></a>sort()排序后，相邻比较</h2><h2 id="includes，数组是否含有某个值"><a href="#includes，数组是否含有某个值" class="headerlink" title="includes，数组是否含有某个值"></a>includes，数组是否含有某个值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">a.<span class="title function_">includes</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/21/ES6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/21/ES6/" class="post-title-link" itemprop="url">ES6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-21 12:30:39" itemprop="dateCreated datePublished" datetime="2020-03-21T12:30:39+08:00">2020-03-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ECMAScript/" itemprop="url" rel="index"><span itemprop="name">ECMAScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><h2 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h2><h3 id="ECMAScript-和-JavaScript-关系"><a href="#ECMAScript-和-JavaScript-关系" class="headerlink" title="ECMAScript 和 JavaScript 关系"></a>ECMAScript 和 JavaScript 关系</h3><ul>
<li>ECMA是标准，JS是实现<ul>
<li>类似于HTML5是标准，IE10、Chrome、FF都是实现</li>
<li>换句话说，将来也能有其他XXXScript来实现ECMA</li>
</ul>
</li>
<li>ECMAScript简称<strong>ECMA或ES</strong></li>
<li>目前版本<ul>
<li>低级浏览器主要支持ES 3.1</li>
<li>高级浏览器正在从ES 5过渡到ES 6</li>
</ul>
</li>
</ul>
<h3 id="历史版本"><a href="#历史版本" class="headerlink" title="历史版本"></a>历史版本</h3><table>
<thead>
<tr>
<th>时间</th>
<th>ECMA</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>2015.06</td>
<td>ES 6.0</td>
<td>ES 6.0预计发布正式版；JavaScript.next开始指向ES 7.0</td>
</tr>
</tbody></table>
<h3 id="JS历史"><a href="#JS历史" class="headerlink" title="JS历史"></a>JS历史</h3><p>JS是艾奇仅仅10天时间设计出的原型<br>语音必有迭代的过程，它总有一些自己的问题</p>
<p>Java是世界上最流行的语言，没有之一。原因是：非常严谨、死板<br>开心的语言，不严谨，无法开发大型项目</p>
<h2 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h2><p>ES6 推出来的时候，各路浏览器已经出来了，没法兼容所有的浏览器<br><a target="_blank" rel="noopener" href="http://kangax.github.io/compat-table/es6/"><strong>ES6兼容性查看表</strong></a></p>
<p>ES6(ES2015)兼容情况<br>IE10+、Chrome、FireFox、</p>
<p>编译、转换（bable）</p>
<ul>
<li>在线转换</li>
<li>提前编译</li>
</ul>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><h2 id="generator"><a href="#generator" class="headerlink" title="generator"></a>generator</h2><h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><h2 id="Set和Map数据结构"><a href="#Set和Map数据结构" class="headerlink" title="Set和Map数据结构"></a>Set和Map数据结构</h2><h1 id="变量-1"><a href="#变量-1" class="headerlink" title="变量"></a>变量</h1><h2 id="ES5-变量问题"><a href="#ES5-变量问题" class="headerlink" title="ES5 变量问题"></a>ES5 变量问题</h2><p>1、可以重复声明：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>2、无法限制修改<br>PI = 3.1415926</p>
<p>3、没有块级作用域</p>
<h2 id="新增变量声明"><a href="#新增变量声明" class="headerlink" title="新增变量声明"></a>新增变量声明</h2><p>let   不能重复声明，变量-可以修改，块级作用域<br>const  不能重复声明，常量-不能修改，块级作用域</p>
<h3 id="块级作用域有什么"><a href="#块级作用域有什么" class="headerlink" title="块级作用域有什么"></a>块级作用域有什么</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;按钮1&quot;</span>&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;按钮2&quot;&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;按钮3&quot;&gt;</span><br><span class="line"></span><br><span class="line">window.onload = function() &#123;</span><br><span class="line">  var aBtn = document.getElementsByTagName(&#x27;input&#x27;);</span><br><span class="line"></span><br><span class="line">  for(var i =0; i&lt;aBtn.length; i++) &#123;</span><br><span class="line">    aBtn[i].onclick=function() &#123;</span><br><span class="line">      alert(i); // 点击三个按钮都是 3</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 以前解决这个问题，创建一个封闭空间，封在里面; 利用函数作为作用域,垫一层</span><br><span class="line">  // TODO: 不理解去看原生JS教程</span><br><span class="line">  (function (i) &#123;</span><br><span class="line">    aBtn[i].onclick=function() &#123;</span><br><span class="line">      alert(i); // 点击三个按钮 0 , 1 , 2</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)(i);</span><br><span class="line"></span><br><span class="line">  // 现在用ES6</span><br><span class="line">  for(let i =0; i&lt;aBtn.length; i++) &#123;</span><br><span class="line">    aBtn[i].onclick=function() &#123;</span><br><span class="line">      alert(i); // 点击三个按钮 0 , 1 , 2</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="暂时性死区"><a href="#暂时性死区" class="headerlink" title="暂时性死区"></a>暂时性死区</h3><p>let/const 声明变量时会针对这个变量形成一个封闭的块级作用域。<br>在相应花括号形成的作用域中存在一个“死区”，起始于函数开头，终止于相关变量声明语句的所在行。</p>
<p>专业名称：TDZ（Temporal Dead Zone）</p>
<p>若在声明之前使用变量，就会报错。<br>总之，在代码块内，使用 let 命令声明变量之前，该变量都是不可用的。<br>这在语法上，称为 “暂时性死区”（ temporal dead zone，简称 TDZ）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// ReferenceError: a is not defined</span></span><br><span class="line"><span class="keyword">let</span> a</span><br></pre></td></tr></table></figure>

<h4 id="函数参数默认值也会受到暂时性死区的影响"><a href="#函数参数默认值也会受到暂时性死区的影响" class="headerlink" title="函数参数默认值也会受到暂时性死区的影响"></a>函数参数默认值也会受到暂时性死区的影响</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">arg1 = arg2, arg2</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;arg1&#125;</span> <span class="subst">$&#123;arg2&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(<span class="literal">undefined</span>, <span class="string">&#x27;arg2&#x27;</span>); <span class="comment">// Error: Cannot access &#x27;arg2&#x27; before initialization</span></span><br><span class="line"><span class="title function_">foo</span>(<span class="literal">null</span>, <span class="string">&#x27;arg2&#x27;</span>); <span class="comment">// null arg2</span></span><br></pre></td></tr></table></figure>

<h3 id="调用栈"><a href="#调用栈" class="headerlink" title="调用栈"></a>调用栈</h3><p>在执行一个函数时，如果这个函数又调用了另外一个函数，而另外一个函数又调用了另外一个函数，这样就形成了一系列的调用栈。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">foo2</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">foo3</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo3</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;foo3&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo1</span>()</span><br></pre></td></tr></table></figure>
<p>foo1 先入栈，foo2 再入栈，foo3执行玩，foo3出栈，foo2出栈，foo1出栈。<br>这个过程满足先进后出的规则，因此形成调用栈。</p>
<p>借助JavaScript引擎清晰地看到错误堆栈信息。</p>
<img src="/2020/03/21/ES6/call_stack.png" class="">

<h3 id="日常错误"><a href="#日常错误" class="headerlink" title="日常错误"></a>日常错误</h3><p>const c = ‘1’;<br>c = 1;<br>console.log(‘c’, c);<br>VM193:2 Uncaught TypeError: Assignment to constant variable.<br>    at <anonymous>:2:3</p>
<h1 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h1><h2 id="新增箭头函数"><a href="#新增箭头函数" class="headerlink" title="新增箭头函数"></a>新增箭头函数</h2><p>借鉴python lambda</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 名字() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">() =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1、如果只有一个参数，（）可以省<br>2、如果只有一个return，{} 可以省</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> show = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">show</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="圆括号可以省略"><a href="#圆括号可以省略" class="headerlink" title="圆括号可以省略"></a>圆括号可以省略</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">show</span> = a =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> a*<span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="花括号可以省略"><a href="#花括号可以省略" class="headerlink" title="花括号可以省略"></a>花括号可以省略</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">show</span> = a=&gt; a*<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="普通函数function-与-gt-箭头函数的差异"><a href="#普通函数function-与-gt-箭头函数的差异" class="headerlink" title="普通函数function(){} 与 ()=&gt;{}箭头函数的差异"></a>普通函数function(){} 与 ()=&gt;{}箭头函数的差异</h3><p>更简洁的语法<br>没有this<br>不能使用new 构造函数<br>不绑定arguments，用rest参数…解决<br>使用call()和apply()调用<br>捕获其所在上下文的 this 值，作为自己的 this 值<br>箭头函数没有原型属性<br>不能简单返回对象字面量<br>箭头函数不能当做Generator函数,不能使用yield关键字<br>箭头函数不能换行</p>
<p>总结：<br>箭头函数的 this 永远指向其上下文的  this ，任何方法都改变不了其指向，如 call() ,  bind() ,  apply()<br>普通函数的this指向调用它的那个对象</p>
<h2 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h2><h3 id="参数扩展-数组展开"><a href="#参数扩展-数组展开" class="headerlink" title="参数扩展/数组展开"></a>参数扩展/数组展开</h3><p>1、收集剩余的参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">a, b, ...args</span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">show</span>(<span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>*Rest Parameter必须是最后一个</li>
</ul>
<p>2、展开数组<br>   展开后的效果，跟直接把数组的内容写在这儿一样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> arr = [...a, ...b] <span class="comment">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>

<p>3、展开对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> b = &#123;<span class="attr">b</span>: <span class="number">2</span>, ...a&#125;; <span class="comment">// &#123;b: 2, a: 1&#125;</span></span><br></pre></td></tr></table></figure>

<p>字符串翻转</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">[...s].<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="editor例子"><a href="#editor例子" class="headerlink" title="editor例子"></a>editor例子</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;keyword&#x27;</span>, keyword);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;keyword1&#x27;</span>, &#123;keyword&#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;keyword1&#x27;</span>, &#123;...(keyword &amp;&amp; &#123; keyword &#125;)&#125;);</span><br><span class="line">keyword <span class="literal">undefined</span></span><br><span class="line">suit.<span class="property">service</span>.<span class="property">ts</span>:<span class="number">29</span> keyword1 &#123;<span class="attr">keyword</span>: <span class="literal">undefined</span>&#125;</span><br><span class="line">suit.<span class="property">service</span>.<span class="property">ts</span>:<span class="number">30</span> keyword1 &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="json展开"><a href="#json展开" class="headerlink" title="json展开"></a>json展开</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> json = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> json2 = &#123;</span><br><span class="line">  ...json,</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">a, b=<span class="number">1</span>, c=<span class="number">3</span></span>)&#123;&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h1><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>1、左右两边结构必须一样<br>2、右边必须是个东西<br>3、声明和赋值不能分开（必须在一句话里完成）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> a = arr[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> b = arr[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解构赋值</span></span><br><span class="line"><span class="comment">// 数组</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象</span></span><br><span class="line"><span class="keyword">let</span> &#123;a, b, c&#125; = &#123;<span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">3</span>, <span class="attr">c</span>:<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line">$.<span class="title function_">ajax</span>(<span class="string">&#x27;xxxx&#x27;</span>) =&gt; &#123;</span><br><span class="line">  <span class="attr">code</span>: xx,</span><br><span class="line">  <span class="attr">data</span>: xx,</span><br><span class="line">  msg,</span><br><span class="line">  xxx</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 提取想要的数据</span></span><br><span class="line"><span class="keyword">let</span> &#123; code, data &#125; = $.<span class="title function_">ajax</span>(<span class="string">&#x27;xxx&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//vuex</span></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">    <span class="attr">state</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">mutations</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123;state = &#123;&#125;, mutations = &#123;&#125;&#125; = options;</span><br></pre></td></tr></table></figure>

<h1 id="数组-1"><a href="#数组-1" class="headerlink" title="数组"></a>数组</h1><p>原生对象扩展</p>
<h2 id="map-映射"><a href="#map-映射" class="headerlink" title="map 映射"></a>map 映射</h2><p>一个对一个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item*<span class="number">2</span>);</span><br><span class="line">result <span class="comment">// [6, 8, 12]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 成绩</span></span><br><span class="line"><span class="keyword">let</span> score = [<span class="number">23</span>, <span class="number">34</span>, <span class="number">99</span>, <span class="number">22</span>, <span class="number">44</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = score.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item&gt;=<span class="number">60</span>?<span class="string">&#x27;及格&#x27;</span>:<span class="string">&#x27;不及格&#x27;</span>);</span><br><span class="line">score <span class="comment">//[23, 34, 99, 22, 44]</span></span><br><span class="line">result <span class="comment">//[不及格，不及格，及格，不及格，不及格]</span></span><br></pre></td></tr></table></figure>

<h3 id="格式化数组中的对象"><a href="#格式化数组中的对象" class="headerlink" title="格式化数组中的对象"></a>格式化数组中的对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> kvArray = [&#123;<span class="attr">key</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="number">10</span>&#125;, </span><br><span class="line">               &#123;<span class="attr">key</span>: <span class="number">2</span>, <span class="attr">value</span>: <span class="number">20</span>&#125;, </span><br><span class="line">               &#123;<span class="attr">key</span>: <span class="number">3</span>, <span class="attr">value</span>: <span class="number">30</span>&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reformattedArray = kvArray.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">obj</span>) &#123; </span><br><span class="line">   <span class="keyword">var</span> rObj = &#123;&#125;;</span><br><span class="line">   rObj[obj.<span class="property">key</span>] = obj.<span class="property">value</span>;</span><br><span class="line">   <span class="keyword">return</span> rObj;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="reduce-汇总"><a href="#reduce-汇总" class="headerlink" title="reduce 汇总"></a>reduce 汇总</h2><p>一堆出来一个<br>求和，求平均数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">68</span>, <span class="number">190</span>, <span class="number">390</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">tmp, item, index</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (index!=arr.<span class="property">length</span>-<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tmp + item;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (tmp + item)/arr.<span class="property">length</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="filter-过滤器"><a href="#filter-过滤器" class="headerlink" title="filter 过滤器"></a>filter 过滤器</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">99</span>, <span class="number">36</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (item%<span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">result <span class="comment">// 12, 99, 36</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item%<span class="number">3</span> == <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<h2 id="forEach-迭代"><a href="#forEach-迭代" class="headerlink" title="forEach 迭代"></a>forEach 迭代</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(index + <span class="string">&#x27;:&#x27;</span> + item);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span> (arr) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(arr))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"> <span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;&#125;, &#123;&#125;]</span></span><br></pre></td></tr></table></figure>

<p>另一种方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> newArray = [...<span class="keyword">new</span> <span class="title class_">Set</span>(array)]     <span class="comment">// [1, 2, 4, 5, 3]</span></span><br></pre></td></tr></table></figure>

<p>lodash 方法<br>_.uniq(repeatParts);</p>
<h1 id="字符串-1"><a href="#字符串-1" class="headerlink" title="字符串"></a>字符串</h1><h2 id="多了两个新方法"><a href="#多了两个新方法" class="headerlink" title="多了两个新方法"></a>多了两个新方法</h2><p><code>startsWith</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;htts://www.google.com&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (str.<span class="title function_">startsWith</span>(<span class="string">&#x27;http://&#x27;</span>)) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;普通网址&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(str.<span class="title function_">startsWith</span>(<span class="string">&#x27;htts://&#x27;</span>)) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;加密网址&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>endsWith</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;1.txt&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (str.<span class="title function_">endsWith</span>(<span class="string">&#x27;.txt&#x27;</span>)) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;文本文件&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (str.<span class="title function_">endsWith</span>(<span class="string">&#x27;.jpg&#x27;</span>)) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;JPG图片&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符串模板"><a href="#字符串模板" class="headerlink" title="字符串模板"></a>字符串模板</h2><p>` 反单引号<br>1、直接把变量塞到字符串里面  ${变量}<br>2、可以折行</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> srt = <span class="string">&#x27;&lt;div&gt;\</span></span><br><span class="line"><span class="string">  &lt;h1&gt;&#x27;</span> + title + <span class="string">&#x27;&lt;/h1&gt;\</span></span><br><span class="line"><span class="string">  &lt;/div&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">  &lt;h1&gt;<span class="subst">$&#123;titel&#125;</span>&lt;/h1&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;`</span>;</span><br></pre></td></tr></table></figure>

<h1 id="面向对象-1"><a href="#面向对象-1" class="headerlink" title="面向对象"></a>面向对象</h1><p>语言发展简史<br>机器语言 -&gt; 汇编语言 -&gt; 低级语言（面向过程） -&gt; 高级语言（面向对象） -&gt; 模块系统 -&gt; 框架 -&gt; 系统接口（API）</p>
<p>Object-Oriented Language  OO语言<br>OO语言都支持两种继承方式: 接口继承 和 实现继承<br>接口继承只继承方法签名,而实现继承则继承实际的方法</p>
<p>由于js中方法没有签名,在ECMAScript中无法实现接口继承.ECMAScript只支持实现继承,而且其 <code>实现继承</code> 主要是依靠原型链来实现的.</p>
<p>特征：封装、继承</p>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><p>类的作用：描述一群具有相同特征和行为的食物</p>
<h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><p>constructor来表示构造函数，构造函数使用在class中，用来做初始化操作。<br>当包含constructor的类被实例化时，构造函数将被调用。</p>
<p>在constructor中不适合进行任何与组件通信类似的复杂操作，一般在constructor中值进行一些简单的初始化工作：依赖注入，变量初始化等。</p>
<h2 id="对象的扩展"><a href="#对象的扩展" class="headerlink" title="对象的扩展"></a>对象的扩展</h2><h3 id="链判断运算符"><a href="#链判断运算符" class="headerlink" title="链判断运算符"></a>链判断运算符</h3><p>const firstName = message?.body?.user?.firstName || ‘default’;</p>
<h2 id="ES4-ES5-写法"><a href="#ES4-ES5-写法" class="headerlink" title="ES4, ES5 写法"></a>ES4, ES5 写法</h2><p>没有统一写法<br>以函数形式写对象</p>
<p>1、类 和 构造函数 不分的…<br>2、类 散开了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">User</span>(<span class="params">name, pass</span>) &#123; <span class="comment">// User 既是类，又是构造函数</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">pass</span> = pass;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法往prototype 上加</span></span><br><span class="line"><span class="title class_">User</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">showName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">User</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">showPass</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">pass</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> u1 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;kil&#x27;</span>, <span class="number">123456</span>);</span><br><span class="line">u1.<span class="title function_">showName</span>();</span><br><span class="line">u2.<span class="title function_">showPass</span>();</span><br></pre></td></tr></table></figure>

<h2 id="ES6-写法"><a href="#ES6-写法" class="headerlink" title="ES6 写法"></a>ES6 写法</h2><p>类是类，构造函数是构造函数<br>class 类声明<br>constructor 构造函数<br>extends 继承<br>super 父类/超类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, pass</span>) &#123; <span class="comment">// 构造函数 或着 构造器</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pass</span> = pass;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">showName</span>(<span class="params"></span>) &#123;  <span class="comment">// 注意：此处写的是class，不是json 。json的话，showName： function()&#123;&#125;</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">showPass</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">pass</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1、<code>class</code>关键字，专门的构造器<br>2、class里面直接加方法</p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>归根到底，最有价值的<br>面向对象：我可以不断完善我的东西，增加功能<br>站在前人的肩膀上，才能走得越来越远。人类社会就是这么发展的。<br>继承一个已有的类，来扩展它的功能。</p>
<h3 id="ES4-ES5写法"><a href="#ES4-ES5写法" class="headerlink" title="ES4, ES5写法"></a>ES4, ES5写法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">VipUser</span>(<span class="params">name, pass, level</span>) &#123;</span><br><span class="line">  <span class="comment">// 继承使用call</span></span><br><span class="line">  <span class="title class_">User</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name, pass);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">level</span> = level;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法的继承</span></span><br><span class="line"><span class="comment">// new 一个实例放在身上</span></span><br><span class="line"><span class="title class_">VipUser</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line"><span class="comment">// constructor 属性修正过来</span></span><br><span class="line"><span class="title class_">VipUser</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">VipUser</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">VipUser</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">showLevel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">level</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> v1 = <span class="keyword">new</span> <span class="title class_">VipUser</span>(<span class="string">&#x27;kil&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">v1.<span class="title function_">showName</span>();</span><br><span class="line">v1.<span class="title function_">showPass</span>();</span><br><span class="line"><span class="variable constant_">V1</span>.<span class="title function_">showLevel</span>();</span><br></pre></td></tr></table></figure>

<h3 id="ES6写法"><a href="#ES6写法" class="headerlink" title="ES6写法"></a>ES6写法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VipUser</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, pass, level</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(name, pass); <span class="comment">// 父类，超类</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">level</span> = level;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">showLevel</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">level</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ES5 的继承，实质是先创造子类的实例对象this，然后再将父类的方法添加到this上面（Parent.apply(this)）。ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到this上面（所以必须先调用super方法），然后再用子类的构造函数修改this。</p>
<p>如果子类没有定义<code>constructor方法，这个方法会被默认添加</code>，代码如下。也就是说，不管有没有显式定义，任何一个子类都有constructor方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ColorPoint</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Point</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ColorPoint</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Point</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(...args);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 等于</span></span><br><span class="line">  <span class="comment">// constructor(name, feature) &#123;</span></span><br><span class="line">  <span class="comment">//   super(name, feature);</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="静态方法-无法继承"><a href="#静态方法-无法继承" class="headerlink" title="静态方法 无法继承"></a>静态方法 无法继承</h3><p>普通方法自动继承</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  name;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">ask</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1111&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123;</span><br><span class="line">  <span class="comment">// 如果显式写了 constructor，内部必须要有 super()，否则实例化时报： Uncaught ReferenceError: Must call super constructor in derived class before accessing &#x27;this&#x27; or returning from derived</span></span><br><span class="line">  <span class="comment">// constructor() &#123;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> xiaobai = <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">xiaobai.<span class="title function_">ask</span>();</span><br></pre></td></tr></table></figure>

<h3 id="super"><a href="#super" class="headerlink" title="super"></a>super</h3><p>1、constructor 内的 super(): 执行父类的构造函数。必须至少执行一次。</p>
<p>2、一般方法内的 super.method(): 执行父类的 (未必同名的) 方法。不是必需。</p>
<p>super.method(…) 等价于 父类的构造函数.prototype.method.call(this, …)。<br>可以把TS编译到没有class的ES5，看看super被变成了什么</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A-123456&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_ inherited__">A</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">super</span>.<span class="title function_">sayHello</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;B-123456&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = <span class="keyword">new</span> <span class="title function_">B</span>();</span><br><span class="line">b.<span class="title function_">sayHello</span>();</span><br></pre></td></tr></table></figure>

<h2 id="面向对象-实例"><a href="#面向对象-实例" class="headerlink" title="面向对象-实例"></a>面向对象-实例</h2><h3 id="基本的React-实例"><a href="#基本的React-实例" class="headerlink" title="基本的React 实例"></a>基本的React 实例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react@16/umd/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react-dom@16/umd/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/babel-standalone@6/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span></span><br><span class="line"><span class="language-javascript">      <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>123<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>,</span></span><br><span class="line"><span class="language-javascript">      oDiv</span></span><br><span class="line"><span class="language-javascript">    );</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>React 基于组件开发的框架<br>组件怎么写的呢，以class形式存在<br><code>作为一个组件，应该有些最基本的功能。比如说能渲染出来，有一些状态，有生命周期</code></p>
<h3 id="继承React组件"><a href="#继承React组件" class="headerlink" title="继承React组件"></a>继承React组件</h3><p>继承的意义：不用一切从0开始。<br>对于任何一个有追求的class来说 ， 都得有constructor，<code>constructor中最重要的一点是继承父级属性</code></p>
<p>React组件特别方便，一旦写完，不需要实例化，不需要new它，你只需要像一个标签一样使用它。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">Test</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123; <span class="comment">//参数扩展</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 对于React里面的组件来说，它什么方法都可以没有，必须得有render()</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 不加render()方法会报错</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 不加return 也会报错</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 所有组件都是可见的</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>123<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// &lt;span&gt;123&lt;/span&gt;,</span></span></span><br><span class="line"><span class="language-javascript">      <span class="language-xml"><span class="tag">&lt;<span class="name">Test</span>&gt;</span><span class="tag">&lt;/<span class="name">Test</span>&gt;</span></span>,</span></span><br><span class="line"><span class="language-javascript">      oDiv</span></span><br><span class="line"><span class="language-javascript">    );</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="组件传值"><a href="#组件传值" class="headerlink" title="组件传值"></a>组件传值</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">Item</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;this.props.str&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// &lt;span&gt;123&lt;/span&gt;,</span></span></span><br><span class="line"><span class="language-javascript">      <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        // 组件长的像标签</span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">str</span>=<span class="string">&quot;abc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">str</span>=<span class="string">&quot;ddd&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>,</span></span><br><span class="line"><span class="language-javascript">      oDiv</span></span><br><span class="line"><span class="language-javascript">    );</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="组件嵌套组件"><a href="#组件嵌套组件" class="headerlink" title="组件嵌套组件"></a>组件嵌套组件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">Item</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;this.props.str&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 组件里面套组件</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">List</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">str</span>=<span class="string">&quot;abc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        <span class="tag">&lt;<span class="name">Item</span> <span class="attr">str</span>=<span class="string">&quot;ddd&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span></span><br><span class="line"><span class="language-javascript">      <span class="language-xml"><span class="tag">&lt;<span class="name">List</span>&gt;</span><span class="tag">&lt;/<span class="name">List</span>&gt;</span></span>,</span></span><br><span class="line"><span class="language-javascript">      oDiv</span></span><br><span class="line"><span class="language-javascript">    );</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="组件嵌套组件-传值"><a href="#组件嵌套组件-传值" class="headerlink" title="组件嵌套组件-传值"></a>组件嵌套组件-传值</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">Item</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;this.props.str&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 组件里面套组件</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">List</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;arr&#x27;</span>, <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">arr</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> aItems = [];</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// for (let i =0; i&lt;this.props.arr.length; i++) &#123;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//   aItems.push(&lt;Item str=&#123;this.props.arr[uniqueId]&#125;&gt;&lt;/Item&gt;);</span></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">arr</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">element, index</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;element&#x27;</span>, element);</span></span><br><span class="line"><span class="language-javascript">        aItems.<span class="title function_">push</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Item</span> <span class="attr">str</span>=<span class="string">&#123;element&#125;</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        &#123;aItems&#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// react 传值两种方式，一种是字符串，一种是表达式</span></span></span><br><span class="line"><span class="language-javascript">      <span class="language-xml"><span class="tag">&lt;<span class="name">List</span> <span class="attr">arr</span>=<span class="string">&#123;[</span>&#x27;<span class="attr">abc</span>&#x27;, &#x27;<span class="attr">ers</span>&#x27;, &#x27;<span class="attr">ids</span>&#x27;]&#125;&gt;</span><span class="tag">&lt;/<span class="name">List</span>&gt;</span></span>,</span></span><br><span class="line"><span class="language-javascript">      oDiv</span></span><br><span class="line"><span class="language-javascript">    );</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="组件嵌套组件-优化-映射"><a href="#组件嵌套组件-优化-映射" class="headerlink" title="组件嵌套组件-优化-映射"></a>组件嵌套组件-优化-映射</h3><p><code>[&#39;abc&#39;, &#39;ers&#39;, &#39;ids&#39;] =&gt; [&lt;Item str=&#39;abc&#39; key=&#39;&#39;&gt;&lt;/Item&gt;, &lt;Item str=&#39;ers&#39; key=&#39;&#39;&gt;&lt;/Item&gt;, &lt;Item str=&#39;ids&#39; key=&#39;&#39;&gt;&lt;/Item&gt;]</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> aItems = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">arr</span>.<span class="title function_">map</span>(<span class="function"><span class="params">a</span> =&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Item</span> <span class="attr">str</span>=<span class="string">&#123;a&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span>)</span><br></pre></td></tr></table></figure>

<h3 id="组件嵌套组件-优化-终极"><a href="#组件嵌套组件-优化-终极" class="headerlink" title="组件嵌套组件-优化-终极"></a>组件嵌套组件-优化-终极</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">Item</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;this.props.str&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">List</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params">...args</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>(...args);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;arr&#x27;</span>, <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">arr</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">        &#123;this.props.arr.map(a =&gt; <span class="tag">&lt;<span class="name">Item</span> <span class="attr">str</span>=<span class="string">&#123;a&#125;</span> <span class="attr">key</span>=<span class="string">&#123;a&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span>)&#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span></span><br><span class="line"><span class="language-javascript">      <span class="language-xml"><span class="tag">&lt;<span class="name">List</span> <span class="attr">arr</span>=<span class="string">&#123;[</span>&#x27;<span class="attr">abc</span>&#x27;, &#x27;<span class="attr">ers</span>&#x27;, &#x27;<span class="attr">ids</span>&#x27;]&#125;&gt;</span><span class="tag">&lt;/<span class="name">List</span>&gt;</span></span>,</span></span><br><span class="line"><span class="language-javascript">      oDiv</span></span><br><span class="line"><span class="language-javascript">    );</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><p>JavaScript的一个子集，现各语言已借鉴</p>
<h2 id="JSON对象"><a href="#JSON对象" class="headerlink" title="JSON对象"></a>JSON对象</h2><p>1、JSON.stringify<br>2、JSON.parse</p>
<h2 id="JSON的标准写法"><a href="#JSON的标准写法" class="headerlink" title="JSON的标准写法"></a>JSON的标准写法</h2><p>1、只能用双引号<br>2、所有的名字都必须使用引号包起来</p>
<p>{a: 12, b: 5}        X<br>{“a”: 12, “b”: 5}    √</p>
<p>{a: ‘abc’, b: 5}     X<br>{“a”: “abc”, “b”: 5} √</p>
<h2 id="JSON的简写"><a href="#JSON的简写" class="headerlink" title="JSON的简写"></a>JSON的简写</h2><p>1、key 和 value (名字跟值) 一样的时候，可以只写一个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> json = &#123;<span class="attr">a</span>: a, <span class="attr">b</span>: b, <span class="attr">c</span>: <span class="number">55</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> json = &#123;a, b, <span class="attr">c</span>: <span class="number">55</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>2、json 里面有方法。函数可以少些 :function</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> json = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">12</span>,</span><br><span class="line">  <span class="title function_">show</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">json.<span class="title function_">show</span>();</span><br></pre></td></tr></table></figure>

<h1 id="Promise-1"><a href="#Promise-1" class="headerlink" title="Promise"></a>Promise</h1><p>Promise - 承诺<br>异步请求</p>
<p>异步和同步是所有开发语言都有的事，硬件也有</p>
<p>ajax异步；如果不异步，那要等数据返回页面才能显示，那得疯了</p>
<p>异步：操作这间没啥关系，同时进行多个操作<br>同步：同时只能做一件事</p>
<p>异步<br>缺点：代码更复杂<br>同步<br>优点：代码简单</p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b83cb5ae51d4538cc3ec354">Promise原理</a>;</p>
<h2 id="没有Promise时"><a href="#没有Promise时" class="headerlink" title="没有Promise时"></a>没有Promise时</h2><p>异步：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/list&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">list_data</span> =&gt;</span> &#123;</span><br><span class="line">  axios.<span class="title function_">get</span>(<span class="string">&#x27;/list/item&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">list_data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 回调地狱</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="Promise-消除异步操作"><a href="#Promise-消除异步操作" class="headerlink" title="Promise - 消除异步操作"></a>Promise - 消除异步操作</h2><p>用同步一样的方式，来书写异步代码</p>
<p>用法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需要一个date，要new一个date</span></span><br><span class="line"><span class="keyword">let</span> oDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 需要一个Array，要new一个Array</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Promise 也一样，当需要Promise时，要new一个Promise对象</span></span><br><span class="line"><span class="comment">// 里面接收一个参数，是函数</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123; <span class="comment">// 函数接收两个参数：resolve解决（成功），reject拒绝（失败）</span></span><br><span class="line">  <span class="comment">// 异步代码</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="结合jquery使用"><a href="#结合jquery使用" class="headerlink" title="结合jquery使用"></a>结合jquery使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) [</span><br><span class="line">  $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;arr.txt&#x27;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>, <span class="comment">// arr.txt 里面是一个数组，我希望你给我解析了，解析成json</span></span><br><span class="line">    <span class="title function_">success</span>(<span class="params">arr</span>) &#123; <span class="comment">// 此处：JSON里面 function的简写</span></span><br><span class="line">      <span class="title function_">resolve</span>(arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">err</span>(<span class="params">err</span>) &#123;</span><br><span class="line">      <span class="title function_">reject</span>(err);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">p.<span class="title function_">then</span>(); <span class="comment">//then 翻译汉语：然后嘞；说白了就是当p执行有结果，就会调用then</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 程序书写习惯养成：</span></span><br><span class="line">p.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>)&#123;&#125;, <span class="keyword">function</span> (<span class="params"></span>)&#123;&#125;) <span class="comment">// 第一个函数当成功的时候调用，第二个函数当失败的时候调用</span></span><br></pre></td></tr></table></figure>

<h3 id="两个Promise对象"><a href="#两个Promise对象" class="headerlink" title="两个Promise对象"></a>两个Promise对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 =</span><br><span class="line"><span class="keyword">let</span> p2 =</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无意义的写法,成了ajax</span></span><br><span class="line">p1.<span class="title function_">then</span>(<span class="params"></span>)&#123;</span><br><span class="line">  p2.<span class="title function_">then</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Promise身上有一个all 方法</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2]).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">results</span>) &#123; <span class="comment">// arr是数组</span></span><br><span class="line">  <span class="comment">// 全部成功了</span></span><br><span class="line">  <span class="comment">// 接收</span></span><br><span class="line">  <span class="keyword">let</span> [res1, res2] = results; <span class="comment">// 结构赋值</span></span><br><span class="line">&#125;, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 至少一个失败了</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="封装一个方法"><a href="#封装一个方法" class="headerlink" title="封装一个方法"></a>封装一个方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createPromise</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">      <span class="comment">// url: url,</span></span><br><span class="line">      url, <span class="comment">// 对于一个有追求的json来说，名字和值一样的话，留一个。</span></span><br><span class="line">      <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">      <span class="title function_">success</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(arr);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">err</span>(<span class="params">err</span>) &#123;</span><br><span class="line">        <span class="title function_">reject</span>(err);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Promise-其他方法"><a href="#Promise-其他方法" class="headerlink" title="Promise 其他方法"></a>Promise 其他方法</h3><p>Promise.race   竞速；允许失败，只要有一个成功的就可以</p>
<h1 id="generator-1"><a href="#generator-1" class="headerlink" title="generator"></a>generator</h1><p>generat： 生成<br>generator:  生成器<br>普通函数，运行的话，一条道走到黑。（飞机）<br>generator函数，中间可以暂停。（出租车）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 跟普通函数最大不同，就是有星号</span></span><br><span class="line"><span class="keyword">function</span> *<span class="title function_">show</span>(<span class="params"></span>) &#123; <span class="comment">// 注意：不能连着写</span></span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">yield</span>; <span class="comment">//放弃；暂时不往下执行</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">alert</span>(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> genObj = <span class="title function_">show</span>();<span class="comment">// 创建了一个generator对象出来</span></span><br><span class="line">genObj.<span class="title function_">next</span>();</span><br><span class="line">genObj.<span class="title function_">next</span>();</span><br></pre></td></tr></table></figure>

<p>踹一脚，走一步</p>
<h2 id="yield"><a href="#yield" class="headerlink" title="yield"></a>yield</h2><p>传参</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">genObj.<span class="title function_">next</span>(<span class="number">10</span>); <span class="comment">// 无效的</span></span><br><span class="line">genObj.<span class="title function_">next</span>(<span class="number">55</span>);</span><br></pre></td></tr></table></figure>

<p>返回</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">yield</span> <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 就像切菜一样，最后需要return</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">55</span>; <span class="comment">// res2 value: 55</span></span><br><span class="line"><span class="keyword">let</span> res1 = gen.<span class="title function_">next</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res1); <span class="comment">// &#123;value: 12, done: false&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res2 = gen.<span class="title function_">next</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res2); <span class="comment">// &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>

<img src="/2020/03/21/ES6/yield.png" class="">

<h2 id="异步带逻辑"><a href="#异步带逻辑" class="headerlink" title="异步带逻辑"></a>异步带逻辑</h2><p>generator最大的好处是：当有了逻辑以后，非常方便</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">runner</span>(<span class="keyword">function</span> *() &#123;</span><br><span class="line">  <span class="keyword">let</span> userData = <span class="keyword">yield</span> $.<span class="title function_">ajax</span>(&#123;<span class="attr">url</span>: <span class="string">&#x27;getUserData&#x27;</span>, <span class="attr">dataType</span>: <span class="string">&#x27;json&#125;);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  if (userData.type == &#x27;</span>vip<span class="string">&#x27;) &#123;</span></span><br><span class="line"><span class="string">    let items = yield $.ajax(&#123;url: &#x27;</span>getVipItems<span class="string">&#x27;, dataType: &#x27;</span>json<span class="string">&#x27;&#125;);</span></span><br><span class="line"><span class="string">  &#125; else &#123;</span></span><br><span class="line"><span class="string">    let items = yield $.ajax(&#123;url: &#x27;</span>getItems<span class="string">&#x27;, dataType: &#x27;</span>json<span class="string">&#x27;&#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>

<p>Promise: 一次读一堆<br>generator：逻辑性（对Promise进行了封装）</p>
<p>注意：<br>针对ES6中<br>generator yield<br>ES7中 推出<br>async await<br>好处：<br>1、不依赖于外部的 runner 了——统一、性能<br>2、可以用箭头函数</p>
<h1 id="模块化-1"><a href="#模块化-1" class="headerlink" title="模块化"></a>模块化</h1><p>js模块系统演化简史<br>没有模块 -&gt; CMD(Common Module Definition) -&gt; AMD(Asynchronous Module Definition) -&gt; 语言提供模块支持</p>
<p>ES6之前：<br>模块加载方案，最主要的有 CommonJS 和 AMD 两种。前者用于服务器，后者用于浏览器。</p>
<p>ES6模块系统 需要借助 webpack</p>
<p>import * as mod1 from ‘./mod1’; (<em>代表引入所有内容, 取名mod1, ‘./mod1.js’ js可以省略 )<br>./ 可加，可不加； webpack 是用node写的，要遵循node基本约定，加上<br>/</em> 浏览器不认</p>
<h2 id="import和require"><a href="#import和require" class="headerlink" title="import和require"></a>import和require</h2><p>require 是赋值过程，其实require的结果就是对象、数字、字符串、函数等，再把结果赋值给某个变量。它是普通的值拷贝传递。<br>import 是解构过程。使用import导入模块的属性或者方法是引用传递。且import是read-only的，值是单向传递的。default是ES6 模块化所独有的关键字，export default {} 输出默认的接口对象，如果没有命名，则在import时可以自定义一个名称用来关联这个对象</p>
<h1 id="Set和Map数据结构-1"><a href="#Set和Map数据结构-1" class="headerlink" title="Set和Map数据结构"></a>Set和Map数据结构</h1><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>类似于数组，但是成员的值都是唯一的，没有重复的值。<br>Set本身是一个数据结构，用来生成Set数据结构</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>]);</span><br><span class="line">[...set]</span><br><span class="line"><span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<h3 id="Set实例的属性和方法"><a href="#Set实例的属性和方法" class="headerlink" title="Set实例的属性和方法"></a>Set实例的属性和方法</h3><p>Set的属性：<br>size：返回集合所包含元素的数量</p>
<p>Set的方法：</p>
<p>操作方法<br>add(value)：向集合添加一个新的项<br>delete(value)：从集合中移除一个值<br>has(value)：如果值在集合中存在，返回true,否则false<br>clear(): 移除集合里所有的项</p>
<p>遍历方法<br>keys()：返回一个包含集合中所有键的数组<br>values()：返回一个包含集合中所有值的数组<br>entries：返回一个包含集合中所有键值对的数组(感觉没什么用就不实现了)<br>forEach()：用于对集合成员执行某种操作，没有返回值</p>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。也就是说，Object 结构提供了“字符串—值”的对应，Map 结构提供了“值—值”的对应，是一种更完善的 Hash 结构实现。如果你需要“键值对”的数据结构，Map 比 Object 更合适。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"><span class="keyword">const</span> o = &#123;<span class="attr">p</span>: <span class="string">&#x27;Hello World&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line">m.<span class="title function_">set</span>(o, <span class="string">&#x27;content&#x27;</span>)</span><br><span class="line">m.<span class="title function_">get</span>(o) <span class="comment">// &quot;content&quot;</span></span><br></pre></td></tr></table></figure>

<p>属性：</p>
<p>size：返回字典所包含的元素个数</p>
<p>操作方法：</p>
<p>set(key, val): 向字典中添加新元素<br>get(key):通过键值查找特定的数值并返回<br>has(key):如果键存在字典中返回true,否则false<br>delete(key): 通过键值从字典中移除对应的数据<br>clear():将这个字典中的所有元素删除</p>
<p>遍历方法：</p>
<p>keys():将字典中包含的所有键名以数组形式返回<br>values():将字典中包含的所有数值以数组形式返回<br>forEach()：遍历字典的所有成员</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/11/%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%A1%86%E6%9E%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/11/%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%A1%86%E6%9E%B6/" class="post-title-link" itemprop="url">跨平台框架</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-11 12:23:49" itemprop="dateCreated datePublished" datetime="2020-03-11T12:23:49+08:00">2020-03-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frame/" itemprop="url" rel="index"><span itemprop="name">Frame</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>做项目，还是 cordova，如果只是学习以后备用，那就选 Flutter</p>
<h2 id="Cordova"><a href="#Cordova" class="headerlink" title="Cordova"></a>Cordova</h2><p>cordova 配合 ionic，开发简单，且 angular8 运行速度很快（学还是有点难度）。一般的应用，用户也区分不出混合开发还是原生开发。<br>唯一的劣势是，cordova 应用是基于系统 webview 的，最新的 html/js/CSS 特性可能在低版本的 webview （ android5.0 以下、ios10 以下）上显示不正常，如果用 angular 开发就更有问题了。<br>但现在千元机都是 android9.0，所以看起来这个问题影响也不大。</p>
<h2 id="Flutter"><a href="#Flutter" class="headerlink" title="Flutter"></a>Flutter</h2><p>Flutter，速度很快，但和 cordova 一样，特殊应用需要依赖插件，插件质量不敢保证。另外就是 web 支持，本来 flutter 就不是做 web 的，现在强上个 web 支持，肯定没有 angular 或其他框架成熟。<br>编程语言是Drat</p>
<h2 id="React-Native"><a href="#React-Native" class="headerlink" title="React Native"></a>React Native</h2><p>项目庞大之后的维护困难，第三方库的良莠不齐，兼容上需要耗费更多的精力导致放弃。</p>
<h1 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h1><p>java中为什么要将属性进行私有化，又使用set和get方法来设置和获取属性呢？</p>
<p>其实这里体现的就是封装的思想: 将数据与行为进行分离。</p>
<p>试想， 如果外面的程序可以随意修改一个类的成员变量，会造成不可预料的程序错误， 就象一个人的名字，<br>不能被外部随意修改，只能通过各种给定的方法去修改这个属性。<br>所以我们将成员变量声明为private，再通过 public的方法来对这个变量进行访问。<br>对一个变量的操作，一般都有读取和赋值操作，我们分别定义两个方法来实现这两种操作：<br>一个是getXxx()（Xxx 表示要访问的成员变量的名字），用来获取这个成员变量；<br>另外一个是 setXxx()用来对这个成员变量修改。</p>
<p>简单介绍一下封装的思想：<br>1.封装的概念：封装就是将属性私有化，提供公有的方法访问私有的属性。<br>2.实现封装的步骤：<br>（1）使用private关键字修改属性的可见性，限制外部方法对属性的访问；<br>（2）为每个属性创建一对赋值方法和取值方法，就是set和get，用于对这些属性的访问；<br>（3）在赋值和取值方法中，还可以加入对属性的存取限制。</p>
<p>3.封装的好处：<br>（1）隐藏类的实现细节；<br>（2）让使用者只能通过事先定制好的方法来访问数据，可以方便地加入控制方法，限制对属性的不合理操作；<br>（3）便于修改，增强代码的维护性和健壮性；<br>（4）提高代码的安全性和规范性；<br>（5）使程序更加具备稳定性和可拓展性。</p>
<h1 id="后台管理框架"><a href="#后台管理框架" class="headerlink" title="后台管理框架"></a>后台管理框架</h1><p>vue<br><a target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-element-admin">https://github.com/PanJiaChen/vue-element-admin</a></p>
<p>angular &amp;&amp; material<br><a target="_blank" rel="noopener" href="https://github.com/akveo/ngx-admin">https://github.com/akveo/ngx-admin</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/06/product/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/06/product/" class="post-title-link" itemprop="url">product</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-06 20:38:56" itemprop="dateCreated datePublished" datetime="2020-03-06T20:38:56+08:00">2020-03-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Product/" itemprop="url" rel="index"><span itemprop="name">Product</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="MVP"><a href="#MVP" class="headerlink" title="MVP"></a>MVP</h2><p>MVP: 最简化可实行产品</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/06/css/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/06/css/" class="post-title-link" itemprop="url">css</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-06 19:53:06" itemprop="dateCreated datePublished" datetime="2020-03-06T19:53:06+08:00">2020-03-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index"><span itemprop="name">CSS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="base"><a href="#base" class="headerlink" title="base"></a>base</h1><p>浏览器会把CSS解析成CSSOM</p>
<h2 id="Route-Map"><a href="#Route-Map" class="headerlink" title="Route-Map"></a>Route-Map</h2><img src="/2020/03/06/css/css_map.jpeg" class="">
<h3 id="RWD"><a href="#RWD" class="headerlink" title="RWD"></a>RWD</h3><p>Responsive Web Design：响应式 Web 布局</p>
<blockquote>
<p>响应式这个词源自于建筑学领域，原本指的是建筑物本身会“响应”实际的使用情况，来自我调整。在Web开发领域，“响应式”的意思就变成了，我们开发的 Web 页面会“响应”用户的设备尺寸而自动调整布&gt;局。在这篇文章中提到过，我们可以基于 流体网格（Fluid Grids）、灵活的图片（Flexible Images）和媒体查询（Media Queries） 三种技术来构建一个响应式 Web 网站或 Web 应用。</p>
</blockquote>
<h3 id="IWD"><a href="#IWD" class="headerlink" title="IWD"></a>IWD</h3><p>Intrinsic Web Design：内在 Web 设计<br>以最少的代码量来实现复杂的 Web 设计。<br>浮动（float）还是引用外部第三方 CSS 框架（CSS Frameworks）和库（比如Bootstrap）将内容放置在 Web 页面上想要的任何位置（即布局），几乎都有一些 Hack 的身影存在！</p>
<blockquote>
<p>内在 Web 设计（Intrinsic Web Design）不是内容以设计为导向（Content Design-Driven），而是只专注于让设计受内容驱动（Design Content-Driven）。</p>
</blockquote>
<h3 id="CDWD"><a href="#CDWD" class="headerlink" title="CDWD"></a>CDWD</h3><p>Component-Driven Web Design：组件驱动式Web设计<br>一种新的响应式<br>基于组件驱动的开发，即CSS新增的特性将直接基于组件而不是基于页面注入式响应能力</p>
<h2 id="技术术语"><a href="#技术术语" class="headerlink" title="技术术语"></a>技术术语</h2><h3 id="Web坐标轴"><a href="#Web坐标轴" class="headerlink" title="Web坐标轴"></a>Web坐标轴</h3><h4 id="平面"><a href="#平面" class="headerlink" title="平面"></a>平面</h4><img src="/2020/03/06/css/coord.png" class="">

<h4 id="三维"><a href="#三维" class="headerlink" title="三维"></a>三维</h4><p>除平面画布中的 x 和 y 轴, 还有三维度的 z 轴<br>transform 绘制 3D 图形或使用第三维度从前往后对对象进行分层：</p>
<img src="/2020/03/06/css/z.png" class="">
<p>在定位元素（显式使用position 属性值为非 static 的元素）上使用 z-index 控制其层叠的顺序（z 轴上的层叠顺序），它表示的是用户与屏幕的这条看不见的垂直线：</p>
<img src="/2020/03/06/css/z2.png" class="">

<p>内联与块元素</p>
<h3 id="容器和容器空间"><a href="#容器和容器空间" class="headerlink" title="容器和容器空间"></a>容器和容器空间</h3><p>HTML 的每一个元素在 CSS 中都是一个盒子，这个盒子又被称为 容器<br>容器的称呼也会有不同。它主要由 CSS 的 display 属性的值来决定：</p>
<ul>
<li>block 时称为块容器；</li>
<li>inline 时称为内联容器；</li>
<li>flex 或 inline-flex 时称为Flexbox容器；</li>
<li>grid 或 inline-grid 时称为 Grid 容器（网格容器）。</li>
</ul>
<p>外边距：元素与元素之间的间距，margin 或 gap<br>内边距：元素内容与元素边框，padding</p>
<h3 id="逻辑属性"><a href="#逻辑属性" class="headerlink" title="逻辑属性"></a>逻辑属性</h3><p>多语言</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.thumb</span> &#123;</span><br><span class="line">    <span class="attribute">margin-inline-end</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>文档排版无论从左还是右，都可以兼容</p>
<h2 id="initial-amp-inherit"><a href="#initial-amp-inherit" class="headerlink" title="initial &amp; inherit"></a>initial &amp; inherit</h2><p>initial 初始值或默认值<br>inherit 继承父元素</p>
<h2 id="引用CSS样式方式"><a href="#引用CSS样式方式" class="headerlink" title="引用CSS样式方式"></a>引用CSS样式方式</h2><p>内联式 &gt; 嵌入式 &gt; 外部式</p>
<h2 id="color"><a href="#color" class="headerlink" title="color"></a>color</h2><p>cascading style sheets<br>css提供了一种方法来告诉浏览器页面中的元素如何显示</p>
<p>#000000 十六进制</p>
<h2 id="a标签"><a href="#a标签" class="headerlink" title="a标签"></a>a标签</h2><p>无下划线<br>text-decoration:none;</p>
<h2 id="不能加分号"><a href="#不能加分号" class="headerlink" title="不能加分号"></a>不能加分号</h2><p>样式显示不出来，也不会报错</p>
<img src="/2020/03/06/css/semicolon.png" class="">

<h2 id="文字修饰"><a href="#文字修饰" class="headerlink" title="文字修饰"></a>文字修饰</h2><p>text-decoration-line<br>文本修饰的位置, 如下划线underline，删除线line-through<br>text-decoration-color<br>文本修饰的颜色<br>text-decoration-style<br>文本修饰的样式, 如波浪线wavy实线solid虚线dashed<br>text-decoration-thickness<br>文本修饰线的粗细</p>
<p>text-indent 首行缩进</p>
<h2 id="font-family"><a href="#font-family" class="headerlink" title="font-family"></a>font-family</h2><p>font-family: tahoma, arial, 宋体, sans-serif;<br>sans-serif: 如果其他字体都找不到，就使用浏览器默认字体</p>
<h2 id="vertical-align"><a href="#vertical-align" class="headerlink" title="vertical-align"></a>vertical-align</h2><p>一个元素属于inline或是inline-block水平，其身上的vertical-align属性才会起作用。</p>
<p>所谓inline-block水平的元素，就是既可以“吸”又可以“咬”的元素，既可以与inline水平元素混排，又能设置高宽属性的元素。哪些元素呢，例如图片，按钮，单复选框，单行/多行文本框等HTML控件，只有这些元素默认情况下会对vertical-align属性起作用。</p>
<p>baseline，默认。元素的基线与父元素的基线对齐。</p>
<h2 id="字间距"><a href="#字间距" class="headerlink" title="字间距"></a>字间距</h2><p>letter-spacing</p>
<h2 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h2><p>transform: rotate(90deg);</p>
<h2 id="伪类"><a href="#伪类" class="headerlink" title="伪类"></a>伪类</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&amp;<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">px2rem</span>(<span class="number">18px</span>);</span><br><span class="line">  <span class="attribute">height</span>: <span class="built_in">px2rem</span>(<span class="number">10px</span>);</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#006889</span>;</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="built_in">px2rem</span>(<span class="number">10px</span>);</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="built_in">px2rem</span>(<span class="number">10px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="display-inline-block"><a href="#display-inline-block" class="headerlink" title="display:inline-block"></a>display:inline-block</h2><p>div  display: inline-block;<br>会多出margin值</p>
<p>使用display：flex</p>
<h2 id="text-align"><a href="#text-align" class="headerlink" title="text-align"></a>text-align</h2><p>微信文章两端对其，justify</p>
<h2 id="font-weight"><a href="#font-weight" class="headerlink" title="font-weight"></a>font-weight</h2><p>normal<br>正常粗细。与400等值。<br>bold<br> 加粗。 与700等值。<br>lighter<br>比从父元素继承来的值更细(处在字体可行的粗细值范围内)。<br>bolder<br>比从父元素继承来的值更粗 (处在字体可行的粗细值范围内)。<br><number><br>一个介于 1 和 1000 (包含) 之间的 <number> 类型值。更大的数值代表字体重量粗于更小的数值 (或一样粗)。一些常用的数值对应于通用的字体重量名称，如章节常见粗细值名称和数值对应所描述。</p>
<h2 id="calc"><a href="#calc" class="headerlink" title="calc()"></a>calc()</h2><p>calc() 此 CSS 函数允许在声明 CSS 属性值时执行一些计算。它可以用在如下场合：<length>、<frequency>, <angle>、<time>、<percentage>、<number>、或 <integer>。</p>
<h1 id="浏览器兼容"><a href="#浏览器兼容" class="headerlink" title="浏览器兼容"></a>浏览器兼容</h1><h2 id="前缀"><a href="#前缀" class="headerlink" title="前缀"></a>前缀</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-webkit-<span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">3deg</span>); <span class="comment">/*为Chrome/Safari*/</span></span><br><span class="line">-moz-<span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">3deg</span>); <span class="comment">/*为Firefox*/</span>  <span class="comment">/*已经认标准写法*/</span></span><br><span class="line">-ms-<span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">3deg</span>); <span class="comment">/*为IE*/</span></span><br><span class="line">-o-<span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">3deg</span>); <span class="comment">/*为Opera*/</span>    <span class="comment">/*欧朋已经换webkit内核*/</span></span><br><span class="line"><span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br></pre></td></tr></table></figure>




<h1 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h1><h2 id="不同大小的字体底部对齐"><a href="#不同大小的字体底部对齐" class="headerlink" title="不同大小的字体底部对齐"></a>不同大小的字体底部对齐</h2><p>display: flex<br>align-items: baseline;</p>
<h2 id="超出部分省略号"><a href="#超出部分省略号" class="headerlink" title="超出部分省略号"></a>超出部分省略号</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden; // 超出的文本隐藏</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis; // 溢出用省略号显示</span><br><span class="line"><span class="attribute">white-space</span>: nowrap; // 溢出不换行</span><br></pre></td></tr></table></figure>

<h2 id="超出部分自动换行"><a href="#超出部分自动换行" class="headerlink" title="超出部分自动换行"></a>超出部分自动换行</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">word-wrap</span>: break-word;</span><br></pre></td></tr></table></figure>

<h2 id="英文-数字-换行"><a href="#英文-数字-换行" class="headerlink" title="英文/数字 换行"></a>英文/数字 换行</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">word-break</span>: break-all;</span><br></pre></td></tr></table></figure>

<h2 id="无序列表样式"><a href="#无序列表样式" class="headerlink" title="无序列表样式"></a>无序列表样式</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/list-style">https://developer.mozilla.org/zh-CN/docs/Web/CSS/list-style</a></p>
<p>li+li {<br>  margin-left: 152px;<br>}</p>
<h2 id="长单词换行"><a href="#长单词换行" class="headerlink" title="长单词换行"></a>长单词换行</h2><p>word-wrap: break-word;</p>
<h2 id="placeholder-颜色"><a href="#placeholder-颜色" class="headerlink" title="placeholder 颜色"></a>placeholder 颜色</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  &amp;::-webkit-input-placeholder &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::-moz-placeholder &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::-ms-input-placeholder &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="背景色透明"><a href="#背景色透明" class="headerlink" title="背景色透明"></a>背景色透明</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-color</span>: transparent;</span><br></pre></td></tr></table></figure>

<h2 id="背景色渐变"><a href="#背景色渐变" class="headerlink" title="背景色渐变"></a>背景色渐变</h2><p>linear-gradient() 函数用于创建一个表示两种或多种颜色线性渐变的图片<br><gradient> 是一种<image>CSS数据类型的子类型，用于表现两种或多种颜色的过渡转变。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">#e66465</span>, <span class="number">#9198e5</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#3494e6</span>, <span class="number">#ec6ead</span>);</span><br></pre></td></tr></table></figure>

<h2 id="display-flex"><a href="#display-flex" class="headerlink" title="display:flex"></a>display:flex</h2><h3 id="justify-content-space-between"><a href="#justify-content-space-between" class="headerlink" title="justify-content: space-between;"></a>justify-content: space-between;</h3><p>均匀排列每个元素，首个元素放置于起点，末尾元素放置于终点</p>
<h2 id="移动端input-内阴影"><a href="#移动端input-内阴影" class="headerlink" title="移动端input 内阴影"></a>移动端input 内阴影</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>,</span><br><span class="line"><span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>; <span class="comment">/* 方法1 */</span></span><br><span class="line">  -webkit-appearance: none; <span class="comment">/* 方法2 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="background-size"><a href="#background-size" class="headerlink" title="background-size"></a>background-size</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/background-size">https://developer.mozilla.org/zh-CN/docs/Web/CSS/background-size</a></p>
<h2 id="列表最后一项去除margin-right"><a href="#列表最后一项去除margin-right" class="headerlink" title="列表最后一项去除margin-right"></a>列表最后一项去除margin-right</h2><p>不用给item再加类名，item-right, 再加样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&amp;<span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>n) &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>p:nth-child(odd){} //奇数行<br>p:nth-child(even){} //偶数行</p>
<h2 id="区域事件失效"><a href="#区域事件失效" class="headerlink" title="区域事件失效"></a>区域事件失效</h2><p>pointer-events: none;</p>
<h2 id="css-盒子模型"><a href="#css-盒子模型" class="headerlink" title="css 盒子模型"></a>css 盒子模型</h2><p>IE怪异盒子  和 标准盒子<br>box-sizing：<br>border-box<br>width = border + padding + 内容的宽度</p>
<p>content-box<br>width = width</p>
<p>应用场景<br>希望子元素整个盒子撑满父元素的内容区域</p>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><p>transition: all .3s linear</p>
<h2 id="可见性"><a href="#可见性" class="headerlink" title="可见性"></a>可见性</h2><p>visibility: visible</p>
<h2 id="flexd"><a href="#flexd" class="headerlink" title="flexd"></a>flexd</h2><p>display: flex; // 错了<br>position: fixed;</p>
<h2 id="高度"><a href="#高度" class="headerlink" title="高度"></a>高度</h2><p>document.body.clientHeight ==&gt; BODY对象高度<br>document.documentElement.clientHeight ==&gt; 可见区域高度<br>window.innerHeight，内部的高度<br>window.screen.height，用户屏幕的高度</p>
<h3 id="window和document区别"><a href="#window和document区别" class="headerlink" title="window和document区别"></a>window和document区别</h3><p>Window对象表示浏览器中打开的窗口；window对象可以省略。比如alert()、window.alert()。<br>Document对象是Window对象的一部分。那么document.body 我们可以写成window.document.body；浏览器的HTML文档成为Document对象。</p>
<h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2c3e50</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;Roboto&#x27;</span>, sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Webkit 实现了名为-webkit-font-smoothing的相似属性。这个属性仅在 Mac OS X/macOS 下生效。</p>
<ul>
<li>none - 关闭字体平滑；展示有锯齿边缘的文字。</li>
<li>antialiased - 平滑像素级别的字体，而不是子像素。从亚像素渲染切换到黑暗背景上的浅色文本的抗锯齿使其看起来更轻。</li>
<li>subpixel-antialiased - 在大多数非视网膜显示器上，这将会提供最清晰的文字。</li>
</ul>
<p>Firefox 实现了名为 -moz-osx-font-smoothing 的相似属性。这个属性仅在 Mac OS X / macOS 下生效。</p>
<ul>
<li>auto - 允许浏览器选择字体平滑的优化方式，通常为grayscale。</li>
<li>grayscale - 用灰度抗锯齿渲染文本，而不是子像素。从亚像素渲染切换到黑暗背景上的浅色文本的抗锯齿使其看起来更轻。</li>
<li>inherit</li>
<li>unset</li>
</ul>
<h2 id="长度"><a href="#长度" class="headerlink" title="长度"></a>长度</h2><p>length</p>
<ul>
<li>相对长度单位<ul>
<li>字体相对长度<ul>
<li>rem</li>
</ul>
</li>
<li>视口(Viewport)比例长度<ul>
<li>vh  视口的初始包含块的高度的1%</li>
<li>vw  视口的初始包含块的宽度的1%</li>
</ul>
</li>
</ul>
</li>
<li>绝对长度单位<ul>
<li>px</li>
</ul>
</li>
</ul>
<h3 id="fr"><a href="#fr" class="headerlink" title="fr"></a>fr</h3><p>fr：fraction，分数<br>网格剩余空间比例单位</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="platform-client-皮卡堂公告-字体在多设备显示不一致问题"><a href="#platform-client-皮卡堂公告-字体在多设备显示不一致问题" class="headerlink" title="platform-client 皮卡堂公告 字体在多设备显示不一致问题"></a>platform-client 皮卡堂公告 字体在多设备显示不一致问题</h3><p>由于网页会根据屏幕宽度调整布局，所以不能使用绝对宽度的布局，也不能使用具有绝对宽度的元素。<br>width:xxx px;</p>
<p>安卓机,千奇百怪,各种尺寸的机型都有,而且有1倍屏,2倍屏，3倍屏之分</p>
<p>rem是一个相对单位，1rem等于html元素上字体设置的大小。</p>
<p>根据不同设备的分辨率设置字体。</p>
<p> @media screen and (max-width:980px) {<br>      html {<br>        font-size: 50px;<br>      }<br>    }</p>
<h3 id="px2rem"><a href="#px2rem" class="headerlink" title="px2rem"></a>px2rem</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Convert to REM function</span></span><br><span class="line"><span class="keyword">@function</span> px2rem(<span class="variable">$px</span>) &#123;</span><br><span class="line">  <span class="variable">$rem</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="keyword">@return</span> (<span class="variable">$px</span> / <span class="variable">$rem</span> / <span class="number">2</span>) + rem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="div水平剧中"><a href="#div水平剧中" class="headerlink" title="div水平剧中"></a>div水平剧中</h2><p>网易</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">width: 56.25vh;</span><br><span class="line">height: 100vh;</span><br><span class="line">position: absolute;</span><br><span class="line">left: 50%;</span><br><span class="line">-webkit-transform: translateX(-50%);</span><br><span class="line">transform: translateX(-50%);</span><br><span class="line">overflow: hidden;</span><br><span class="line">background-color: #448aff;</span><br><span class="line">background-image: url(./resource/neteaselogo.png);</span><br><span class="line">background-position: center center;</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line">background-size: 35.625vh 11.71875vh;</span><br></pre></td></tr></table></figure>

<h3 id="水平垂直剧中"><a href="#水平垂直剧中" class="headerlink" title="水平垂直剧中"></a>水平垂直剧中</h3><p>retryEle.style.cssText = ‘display: inline-block; padding: 6px 16px; background: #4d37b3; color: #ffffff; border-radius: 10px; position: absolute; left: 50%; transform: translateX(-50%); top: 50%;’;</p>
<h2 id="无滚动条，列表"><a href="#无滚动条，列表" class="headerlink" title="无滚动条，列表"></a>无滚动条，列表</h2><p>顶部悬浮<br>其余部分列表</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.app</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">	<span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="selector-class">.top</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">308</span>rpx;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.list-wrap</span>&#123;</span><br><span class="line">    <span class="attribute">min-height</span>: calc(<span class="number">100vh</span> - <span class="number">308</span>rpx) <span class="meta">!important</span>;</span><br><span class="line">    fix: <span class="number">1</span>; <span class="comment">// 也可以，剩余空间放大</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>fix: 1;<br>flex-grow : 1;    ➜ The div will grow in same proportion as the window-size<br>flex-shrink : 1;  ➜ The div will shrink in same proportion as the window-size<br>flex-basis : 0;</p>
<h1 id="适配"><a href="#适配" class="headerlink" title="适配"></a>适配</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">css: &#123;</span><br><span class="line">  loaderOptions: &#123;</span><br><span class="line">    postcss: &#123;</span><br><span class="line">      plugins: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">&#x27;postcss-px-to-viewport&#x27;</span>)(&#123;</span><br><span class="line">          unitToConvert: <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">          viewportWidth: <span class="number">750</span>,</span><br><span class="line">          unitPrecision: <span class="number">3</span>,</span><br><span class="line">          propList: [<span class="string">&#x27;*&#x27;</span>],</span><br><span class="line">          viewportUnit: <span class="string">&#x27;vw&#x27;</span>,</span><br><span class="line">          fontViewportUnit: <span class="string">&#x27;vw&#x27;</span>,</span><br><span class="line">          selectorBlackList: [],</span><br><span class="line">          minPixelValue: <span class="number">1</span>,</span><br><span class="line">          mediaQuery: false,</span><br><span class="line">          replace: true,</span><br><span class="line">          exclude: /(\/|\\)(node_modules)(\/|\\)/</span><br><span class="line">        &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="input-问题"><a href="#input-问题" class="headerlink" title="input 问题"></a>input 问题</h2><p>ios 光标变大<br>原因：</p>
<ul>
<li>Chrome：该行无文字时，光标高度与line-height一致；该行有文字时，光标高度从input顶部到文字底部(这两种情况都是在有设定line-height的时候)，如果没有line-height，则是与font-size一致。</li>
<li>IOS中情况和Chrome 相似。</li>
</ul>
<p>方法：<br>设置字体大小和行高一致，然后通过 padding 撑开大小</p>
<p>ios placeholder 位置偏上</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>::-webkit-input-placeholder &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="viewport"><a href="#viewport" class="headerlink" title="@viewport"></a>@viewport</h2><p>viewport-fit<br>auto<br>此值不影响初始布局视图端口，并且整个web页面都是可查看的。<br>contain<br>视图端口按比例缩放，以适合显示内嵌的最大矩形。<br>cover<br>视图端口被缩放以填充设备显示。强烈建议使用 safe area inset 变量，以确保重要内容不会出现在显示之外。</p>
<h2 id="input-focus-边框"><a href="#input-focus-边框" class="headerlink" title="input focus 边框"></a>input focus 边框</h2><p>style=”outline:none;”属性即可去掉边框。</p>
<h1 id="css3-动画"><a href="#css3-动画" class="headerlink" title="css3 动画"></a>css3 动画</h1><h2 id="transition-过渡"><a href="#transition-过渡" class="headerlink" title="transition 过渡"></a>transition 过渡</h2><p>石器时代<br>在 CSS3 出现之前，网页上的动画都是靠 JavaScript 来实现的，在这个时代，你可能会经常看见这样的代码片段：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timeout = <span class="built_in">setTimeout</span>(test, <span class="number">2000</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;test&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> += <span class="number">0.1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>css3时代</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>过渡是css3中颠覆性特征之一，可以不用Flash动画或JavaScript，当元素从一种样式变换为另一种样式时为元素添加效果</p>
<p>过渡动画：是从一个状态 渐渐的过渡到另一个状态</p>
<ul>
<li>经常与<code>:hover</code>一起 搭配使用</li>
<li>如果要过渡多个属性，用逗号分割</li>
</ul>
<p>四个属性 （后两个可以省略）</p>
<h3 id="transition-property-过渡属性"><a href="#transition-property-过渡属性" class="headerlink" title="transition-property 过渡属性"></a>transition-property 过渡属性</h3><p>需要过度的 数字量化的 css属性</p>
<p>颜色系，如color，background-color，border-color，outline-color等</p>
<p>数字系，实在太多了，如width，height，top，right，bottom，left，zoom，opacity，line-height，background-position，word-spacing，font-weight，vertical-align，outline-outset，z-index等。</p>
<p>01系，如visibility（0表示隐藏，1表示显示）</p>
<p>如果要所有的属性都过渡，写：all</p>
<p>使用过渡口诀：谁做过渡给谁加</p>
<h3 id="transition-duration-延时时间，花费时间"><a href="#transition-duration-延时时间，花费时间" class="headerlink" title="transition-duration 延时时间，花费时间"></a>transition-duration 延时时间，花费时间</h3><p>过渡需要的时间，单位可指定s秒。默认是0, 表示立刻变化</p>
<h3 id="transition-timing-function-过渡方法，运动曲线"><a href="#transition-timing-function-过渡方法，运动曲线" class="headerlink" title="transition-timing-function 过渡方法，运动曲线"></a>transition-timing-function 过渡方法，运动曲线</h3><img src="/2020/03/06/css/timing-function.png" class="">
<p>看贝赛尔曲线就知道了，linear是匀速过渡，ease是先快再慢的节奏，ease-in是加速冲刺的节奏，ease-out是减速到停止的节奏，ease-in-out是先加速后减速的节奏。</p>
<h3 id="transition-delay-过渡延迟，何时开始"><a href="#transition-delay-过渡延迟，何时开始" class="headerlink" title="transition-delay 过渡延迟，何时开始"></a>transition-delay 过渡延迟，何时开始</h3><p>延迟开始过渡的时间，默认值是0，表示不延迟，立即开始过渡动作。单位是s秒或ms毫秒。</p>
<h3 id="eg"><a href="#eg" class="headerlink" title="eg"></a>eg</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="transform-转型，变形"><a href="#transform-转型，变形" class="headerlink" title="transform 转型，变形"></a>transform 转型，变形</h2><p>transform本质上是一系列变形函数，分别是translate位移，scale缩放，rotate旋转，skew扭曲，matrix矩阵。</p>
<p>我们应该都知道二八法则(巴莱多定律)，即任何一组东西中，最重要的只占其中一小部分，约20%，其余80%的尽管是多数，却是次要的。如果你有上述的感觉，那你就属于那80%, 一抓一大把，没有特色的页面仔。</p>
<h3 id="translate-平移"><a href="#translate-平移" class="headerlink" title="translate 平移"></a>translate 平移</h3><p>设置元素在 X轴或者 Y轴上的平移变换</p>
<h3 id="scale-缩放"><a href="#scale-缩放" class="headerlink" title="scale 缩放"></a>scale 缩放</h3><p>/* 等同于变换: scaleX(2) scaleY(2);*/<br>transform: scale(2);</p>
<h3 id="rotate-旋转"><a href="#rotate-旋转" class="headerlink" title="rotate 旋转"></a>rotate 旋转</h3><p>transform: rotate(45deg); 顺时针旋转 45度</p>
<h3 id="skew-倾斜"><a href="#skew-倾斜" class="headerlink" title="skew 倾斜"></a>skew 倾斜</h3><p> skew() 函数指定一个或两个参数，它们表示在每个方向上应用的倾斜量。<br>transform: skew(10deg, 10deg);</p>
<h3 id="matrix-矩阵"><a href="#matrix-矩阵" class="headerlink" title="matrix 矩阵"></a>matrix 矩阵</h3><p>matrix(1, 2, 3, 4, 5, 6);</p>
<h2 id="animation-动画"><a href="#animation-动画" class="headerlink" title="animation 动画"></a>animation 动画</h2><table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">name</td>
<td align="left">用来调用@keyframes定义好的动画，与@keyframes定义的动画名称一致</td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">指定元素播放动画所持续的时间，默认 0</td>
</tr>
<tr>
<td align="left">timing-function</td>
<td align="left">规定速度效果的速度曲线，默认 ease ；是针对每一个小动画所在时间范围的变换速率</td>
</tr>
<tr>
<td align="left">delay</td>
<td align="left">延迟时间, 默认0；定义在浏览器开始执行动画之前等待的时间，值整个animation执行之前等待的时间</td>
</tr>
<tr>
<td align="left">iteration-count</td>
<td align="left">定义动画的播放次数，默认 1 ; 可选具体次数或者无限(infinite)</td>
</tr>
<tr>
<td align="left">direction</td>
<td align="left">默认 normal ；设置动画播放方向：normal(按时间轴顺序),reverse(时间轴反方向运行),alternate(轮流，即来回往复进行),alternate-reverse(动画先反运行再正方向运行，并持续交替运行)</td>
</tr>
<tr>
<td align="left">play-state</td>
<td align="left">默认 running ；控制元素动画的播放状态，通过此来控制动画的暂停和继续，两个值：running(继续)，paused(暂停)</td>
</tr>
<tr>
<td align="left">fill-mode</td>
<td align="left">默认 none ；控制动画结束后，元素的样式，有四个值：none(回到动画没开始时的状态)，forwards(动画结束后动画停留在结束状态)，backwords(动画回到第一帧的状态)，both(根据animation-direction轮流应用forwards和backwards规则)，注意与iteration-count不要冲突(动画执行无限次)</td>
</tr>
</tbody></table>
<h3 id="animation-direction"><a href="#animation-direction" class="headerlink" title="animation-direction"></a>animation-direction</h3><p>normal<br>每个循环内动画向前循环，换言之，每个动画循环结束，动画重置到起点重新开始，这是默认属性。<br>alternate<br>动画交替反向运行，反向运行时，动画按步后退，同时，带时间功能的函数也反向，比如，ease-in 在反向时成为ease-out。计数取决于开始时是奇数迭代还是偶数迭代<br>reverse<br>反向运行动画，每周期结束动画由尾到头运行。<br>alternate-reverse<br>反向交替， 反向开始交替<br>动画第一次运行时是反向的，然后下一次是正向，后面依次循环。决定奇数次或偶数次的计数从1开始。</p>
<h3 id="帧"><a href="#帧" class="headerlink" title="帧"></a>帧</h3><p>帧就是视频或动画中的每一张画面<br>只要一秒钟记录15帧画面，观众看起来就会觉得它是运动的，是「动画」。</p>
<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><h2 id="进度条-transition"><a href="#进度条-transition" class="headerlink" title="进度条 transition"></a>进度条 transition</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.line-c</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: width <span class="number">1s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.line-c</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h1><p>块格式化上下文（Block Formatting Context，BFC） 是Web页面的可视CSS渲染的一部分，是块盒子的布局过程发生的区域，也是浮动元素与其他元素交互的区域。</p>
<h2 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h2><p>早期对html不熟练 会使用 &amp;nbsp<br>缺点：<br>连接两个单词的时候，会把它认为是一个单；在排版的时候会出现分词的问题。<br>看起来能显示出来，但实际破坏了语义。</p>
<p>建议使用：css属性，white-space 去控制空格被显示出来<br>white-space: pre;<br>white-space CSS 属性是用来设置如何处理元素中的 空白。</p>
<h2 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h2><p>Responsive Web Design，简称 RWD，响应式 Web 设计<br>响应式这个词源自于建筑学领域，原本指的是建筑物本身会“响应”实际的使用情况，来自我调整。在Web开发领域，“响应式”的意思就变成了，我们开发的 Web 页面会“响应”用户的设备尺寸而自动调整布局。在这篇文章中提到过，我们可以基于 流体网格（Fluid Grids）、灵活的图片（Flexible Images）和媒体查询（Media Queries） 三种技术来构建一个响应式 Web 网站或 Web 应用。</p>
<h1 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h1><h2 id="table"><a href="#table" class="headerlink" title="table"></a>table</h2><p>由于浏览器使用流式布局，对Render Tree的计算通常只需要遍历一次就可以完成，但table及其内部元素除外，他们可能需要多次计算，通常要花3倍于同等元素的时间，这也是为什么要避免使用table布局的原因之一。</p>
<h1 id="新项目初始化"><a href="#新项目初始化" class="headerlink" title="新项目初始化"></a>新项目初始化</h1><h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><h3 id="页面语言设置"><a href="#页面语言设置" class="headerlink" title="页面语言设置"></a>页面语言设置</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-cmn-Hans&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: inherit;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.cursor-pointer</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="待定"><a href="#待定" class="headerlink" title="待定"></a>待定</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-sizing</span>: border-box;</span><br></pre></td></tr></table></figure>

<h3 id="公共样式导入项目"><a href="#公共样式导入项目" class="headerlink" title="公共样式导入项目"></a>公共样式导入项目</h3><p>vue<br>main.js 中</p>
<h1 id="特效"><a href="#特效" class="headerlink" title="特效"></a>特效</h1><h2 id="彩带"><a href="#彩带" class="headerlink" title="彩带"></a>彩带</h2><p><a target="_blank" rel="noopener" href="https://www.kirilv.com/canvas-confetti/">https://www.kirilv.com/canvas-confetti/</a></p>
<h1 id="Future"><a href="#Future" class="headerlink" title="Future"></a>Future</h1><p>子网格（subgrid）、容器查询 和 父选择器 :has()<br>Shapes 能帮助我们打破矩形的布局模式，CSS 的多列布局能让我们在 Web 中实现报纸排版的效果<br><a target="_blank" rel="noopener" href="https://2021.stateofcss.com/en-US/opinions/#currently_missing_from_css_wins">CSS发展报告</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">kil</p>
  <div class="site-description" itemprop="description">心如止水，潜心修行</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">83</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/kilfront" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kilfront" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kaifaweb@163.com" title="E-Mail → mailto:kaifaweb@163.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class=""></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kil</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//code.jquery.com/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
