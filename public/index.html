<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"b2t":false,"scrollpercent":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="心如止水，潜心修行">
<meta property="og:type" content="website">
<meta property="og:title" content="Kil Notes">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Kil Notes">
<meta property="og:description" content="心如止水，潜心修行">
<meta property="og:locale">
<meta property="article:author" content="kil">
<meta property="article:tag" content="Hexo, NexT">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>Kil Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Kil Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Quick notes</p>
      <a>
        <img class="custom-logo-image" src="[object Object]" alt="Kil Notes">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/12/frame/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/12/frame/" class="post-title-link" itemprop="url">frame</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-04-12 16:11:25" itemprop="dateCreated datePublished" datetime="2023-04-12T16:11:25+08:00">2023-04-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><p>前端三大框架的目标：利用数据驱动页面</p>
<img src="/2023/04/12/frame/target.png" class="">
<p>核心问题，数据发生变化后，我们怎么去通知页面更新。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/13/Java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/13/Java/" class="post-title-link" itemprop="url">Java</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-13 10:29:08" itemprop="dateCreated datePublished" datetime="2023-02-13T10:29:08+08:00">2023-02-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><h2 id="执行命令"><a href="#执行命令" class="headerlink" title="执行命令"></a>执行命令</h2><p>文件名要与类名一致，区分大小写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># c compiler 编译器</span><br><span class="line">$ javac HelloWorld.java </span><br><span class="line">$ java HelloWorld</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>
<h2 id="权限修饰符"><a href="#权限修饰符" class="headerlink" title="权限修饰符"></a>权限修饰符</h2><table>
<thead>
<tr>
<th align="left"></th>
<th align="center">private</th>
<th align="center">default(默认权限，不写)</th>
<th align="center">protected</th>
<th align="center">public</th>
</tr>
</thead>
<tbody><tr>
<td align="left">本类</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="left">同包</td>
<td align="center"></td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="left">子类</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="left">所有类</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">Y</td>
</tr>
</tbody></table>
<h2 id="数据放在内存中"><a href="#数据放在内存中" class="headerlink" title="数据放在内存中"></a>数据放在内存中</h2><p>数据库对应地址修改，要重新跑一下项目</p>
<h2 id="工具类-方法"><a href="#工具类-方法" class="headerlink" title="工具类/方法"></a>工具类/方法</h2><h3 id="StringUtils"><a href="#StringUtils" class="headerlink" title="StringUtils"></a>StringUtils</h3><p>isNotBlank<br>StringUtils.isNotBlank(“ “) = false</p>
<p>isNotEmpty<br>StringUtils.isNotEmpty(“ “) = true</p>
<h3 id="BeanConvertUtils"><a href="#BeanConvertUtils" class="headerlink" title="BeanConvertUtils"></a>BeanConvertUtils</h3><p>BeanConvertUtils.trimBean(request);<br>request.name = “ ki l “ =&gt; request.name = “kil”</p>
<h2 id="引入包"><a href="#引入包" class="headerlink" title="引入包"></a>引入包</h2><p>在 项目的 service 目录下 的 pom.xml 插入配置文件，点击刷新</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.eth.framework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>framework-jwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.3.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Doc"><a href="#Doc" class="headerlink" title="Doc"></a>Doc</h1><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>基本数据类型</p>
<ul>
<li>整型 int x = 1</li>
<li>浮点型 float a = 3.14</li>
<li>字符类型 char zh = “中”</li>
<li>布尔类型 boolean b1 = true</li>
</ul>
<p>引用类型</p>
<ul>
<li>字符串 String s = “hello”<br>  final修饰符，常量</li>
<li>数组 int[] a = new int[]{1,2} , 简写 int[] a = {1,2}</li>
</ul>
<h3 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h3><p>int -&gt; Long<br>10 -&gt; 10L</p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h3><p>equals() 方法接受一个对象作为参数，并返回一个布尔值，表示当前对象是否与参数对象相等。如果两个对象相等，那么 equals() 方法返回 true，否则返回 false。<br>默认情况下，Java 中的对象比较都是基于引用比较的，也就是说，如果没有重写 equals() 方法，那么它默认的行为就是比较两个对象的地址是否相等。</p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><h3 id="Id"><a href="#Id" class="headerlink" title="@Id"></a>@Id</h3><p>声明一个属性将映射到数据库主键的字段<br>数据库主键，指的是一个列或多列的组合，其值能唯一地标识表中的每一行</p>
<h3 id="GeneratedValue"><a href="#GeneratedValue" class="headerlink" title="@GeneratedValue"></a>@GeneratedValue</h3><p>指示如何生成实体类的主键。主键是一个唯一标识实体的属性，每个实体类都必须有一个主键。<br>参数</p>
<ul>
<li>GenerationType.AUTO：让 JPA 自动选择适合数据库的主键生成策略，这是默认值。</li>
<li>GenerationType.IDENTITY：使用自增长字段生成主键，通常适用于 MySQL、SQL Server 等数据库。</li>
<li>GenerationType.SEQUENCE：使用序列生成主键，通常适用于 Oracle、PostgreSQL 等数据库。</li>
<li>GenerationType.TABLE：使用一个特定的数据库表来存储生成的主键值。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Id</span></span><br><span class="line"><span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line"><span class="keyword">private</span> Long id;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Pattern"><a href="#Pattern" class="headerlink" title="@Pattern"></a>@Pattern</h3><p>对一个字符串类型的字段或参数进行验证，以确保它符合指定的正则表达式模式<br>需要将一个字符串类型的正则表达式模式作为参数传递给它</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Pattern(message = &quot;手机号格式不对&quot;, regexp = &quot;^[1-9][0-9]&#123;10&#125;$&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String mobile;</span><br></pre></td></tr></table></figure>

<h2 id="数据库事务"><a href="#数据库事务" class="headerlink" title="数据库事务"></a>数据库事务</h2><p>Transaction<br>由若干个SQL语句构成的一个操作序列，数据库系统保证在一个事务中的所有SQL要么全部执行成功，要么全部不执行，具有ACID特性：</p>
<ul>
<li>Atomicity：原子性</li>
<li>Consistency：一致性</li>
<li>Isolation：隔离性</li>
<li>Durability：持久性</li>
</ul>
<h1 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h1><h2 id="mapper"><a href="#mapper" class="headerlink" title="mapper"></a>mapper</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertAdminRole&quot;</span>&gt;</span></span><br><span class="line">    insert into admin_role (admin_id,role_id,create_time,update_time) VALUES</span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;roleIds&quot;</span> <span class="attr">item</span>=<span class="string">&quot;item&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span>&gt;</span></span><br><span class="line">        (#&#123;adminId&#125; ,#&#123;item&#125; ,#&#123;now&#125; ,#&#123;now&#125; )</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;createAdmin&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;admin.id&quot;</span>&gt;</span></span><br><span class="line">    insert into admin (amid,mobile,pwd,real_name,salt,add_time,dept_id,email) VALUES (#&#123;admin.amid&#125; ,#&#123;admin.mobile&#125; ,#&#123;admin.pwd&#125; ,#&#123;admin.realName&#125; ,#&#123;admin.salt&#125; ,#&#123;admin.addTime&#125; ,#&#123;admin.deptId&#125; ,#&#123;admin.email&#125; )</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="service"><a href="#service" class="headerlink" title="service"></a>service</h2><h3 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AdminService</span> &#123;</span><br><span class="line">    R <span class="title function_">createAdmin</span><span class="params">(CreateAdmRequest request)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="implements"><a href="#implements" class="headerlink" title="implements"></a>implements</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AdminServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AdminService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AdminMapper adminMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">createAdmin</span><span class="params">(CreateAdmRequest request)</span>&#123;</span><br><span class="line">        <span class="comment">// 业务逻辑</span></span><br><span class="line">        <span class="type">Admin</span> <span class="variable">admin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Admin</span>();</span><br><span class="line">        admin.setName(request.getName());</span><br><span class="line">        adminMapper.createAdmin(admin);</span><br><span class="line">        <span class="keyword">return</span> R.ok(GlobalRetCode.成功.code, msg: ok, data: <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Route"><a href="#Route" class="headerlink" title="Route"></a>Route</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Adm</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AdminService adminService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 创建用户</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">     <span class="meta">@PostMapping(&quot;/user/create&quot;)</span></span><br><span class="line">     <span class="meta">@ApiOperation(value = &quot;创建用户&quot;)</span></span><br><span class="line">     <span class="meta">@Validated</span></span><br><span class="line">     <span class="keyword">public</span> R <span class="title function_">createAdmin</span><span class="params">(<span class="meta">@RequestBody</span> CreateAdmRequest request)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;&gt;&gt;&gt; 创建用户 request &#123;&#125;&quot;</span>, JSON.toJSONString(request));</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// 必填基本判断：非空</span></span><br><span class="line">            <span class="keyword">return</span> adminService.createAdmin(request);</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            log.error(<span class="string">&quot;&#123;&#125;&quot;</span>, e);</span><br><span class="line">            <span class="keyword">return</span> R.fail(GlobalRetCode.服务器内部错误.code, GlobalRetCode.服务器内部错误.name(), <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="IDEA"><a href="#IDEA" class="headerlink" title="IDEA"></a>IDEA</h1><h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><p>全局<br>command + shift + r<br>局部<br>command + r</p>
<h2 id="多光标同时编辑"><a href="#多光标同时编辑" class="headerlink" title="多光标同时编辑"></a>多光标同时编辑</h2><p>shift + alt + 鼠标左键</p>
<h2 id="设置代理"><a href="#设置代理" class="headerlink" title="设置代理"></a>设置代理</h2><p>Appearance &amp; Beahvior -&gt; System Settings -&gt; HTTP Proxy<br>配置后，check 按钮</p>
<h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><p>创建项目<br>mvn archetype:generate -DgroupId=com.example -DartifactId=myproject -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</p>
<h1 id="Issues"><a href="#Issues" class="headerlink" title="Issues"></a>Issues</h1><h2 id="Java-implements-Serializable-什么意思"><a href="#Java-implements-Serializable-什么意思" class="headerlink" title="Java implements Serializable 什么意思"></a>Java implements Serializable 什么意思</h2><p>Java中的Serializable接口是一个标记接口，用于指示一个类的对象可以被序列化为字节流并在网络上传输或存储在磁盘上。一个类只需要实现Serializable接口，就可以使它的对象可序列化。<br>当一个类实现了Serializable接口，编写的Java代码可以使用对象输出流(ObjectOutputStream)将对象序列化为字节流，而对象输入流(ObjectInputStream)可以将字节流反序列化为原始对象。这个过程允许Java应用程序在网络上传输对象，或将对象永久存储在磁盘上以备将来使用。<br>需要注意的是，实现Serializable接口的类可能会存在安全风险，因为它们允许对象在网络上传输或在磁盘上存储。因此，开发人员需要小心谨慎地处理序列化和反序列化的过程，以防止对程序的安全造成潜在的威胁。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/11/22/python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/22/python/" class="post-title-link" itemprop="url">python</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-22 22:01:02" itemprop="dateCreated datePublished" datetime="2022-11-22T22:01:02+08:00">2022-11-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><h2 id="查看系统版本"><a href="#查看系统版本" class="headerlink" title="查看系统版本"></a>查看系统版本</h2><p>python -c “import platform;print(platform.architecture()[0]);print(platform.machine())”</p>
<h2 id="在线"><a href="#在线" class="headerlink" title="在线"></a>在线</h2><p>colab.research.google.com</p>
<h2 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h2><p>pip install aliyun-python-sdk-core==2.13.3<br>pip uninstall aliyun-python-sdk-core</p>
<p>pip升级包命令：pip install –upgrade packagename<br>pip检测更新命令：pip list –outdated</p>
<p>pip –version<br>pip install –upgrade pip</p>
<p>更新 pip：pip install –upgrade pip</p>
<p>安装了那些包<br>pip list</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>python.org download</p>
<p>python3 -V<br>pip3 -V</p>
<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><p>删除Python 3.7 框架，打开终端，输入<br>sudo rm -rf /Library/Frameworks/Python.framework/Versions/3.7</p>
<p>删除 Python 3.7 应用目录<br>cd /Applications<br>sudo rm -rf Python 3.7</p>
<p>删除/usr/local/bin 目录下指向的Python3.7 的连接<br>cd /usr/local/bin/</p>
<p>ls -l /usr/local/bin</p>
<p>rm Python3.7相关的文件和链接</p>
<p>#Python3.7相关的文件和链接需要自行确认是否删除</p>
<ol start="5">
<li>删除 Python 的环境路径</li>
</ol>
<p>vi ~/.bash_profile</p>
<ol start="6">
<li>确认python 是否已经删除</li>
</ol>
<p>python3.7</p>
<p>-bash: python3.7: command not found</p>
<h2 id="查看当前环境安装了哪些py程序包"><a href="#查看当前环境安装了哪些py程序包" class="headerlink" title="查看当前环境安装了哪些py程序包"></a>查看当前环境安装了哪些py程序包</h2><p>pip freeze</p>
<p>将这个命令的输出保存到文件中，以备将来需要安装相同版本的包时使用。例如，您可以运行以下命令来将输出保存到名为 requirements.txt 的文件中：<br>pip freeze &gt; requirements.txt</p>
<h2 id="requirements-txt-管理套件相依性"><a href="#requirements-txt-管理套件相依性" class="headerlink" title="requirements.txt 管理套件相依性"></a>requirements.txt 管理套件相依性</h2><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h2 id="pyenv"><a href="#pyenv" class="headerlink" title="pyenv"></a>pyenv</h2><p>Python版本管理</p>
<h3 id="安装pyenv"><a href="#安装pyenv" class="headerlink" title="安装pyenv"></a>安装pyenv</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">brew install pyenv </span><br><span class="line"># 或</span><br><span class="line">git clone https://github.com/pyenv/pyenv.git ~/.pyenv</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &#x27;export PYENV_ROOT=&quot;$HOME/.pyenv&quot;&#x27; &gt;&gt; ~/.zshrc</span><br><span class="line">echo &#x27;export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;&#x27; &gt;&gt; ~/.zshrc</span><br><span class="line">echo -e &#x27;if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then\n eval &quot;$(pyenv init -)&quot;\nfi&#x27; &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure>

<p>echo 命令的含义是：将引号中内容写入某文件中<br>请注意，以上的三条 echo 命令的最后一条长长的命令，请你保证它引号中的内容处于 ~/.bashrc 或者 ~/.zshrc 的最底部。<br>因为在 pyenv 初始化期间会操作 path 环境变量，导致不可预测的行为。</p>
<h3 id="卸载pyenv"><a href="#卸载pyenv" class="headerlink" title="卸载pyenv"></a>卸载pyenv</h3><p>如果是手动安装的<br>rm -rf ~/.pyenv<br>vim .zshrc 删除pyenv配置</p>
<h3 id="CLI-1"><a href="#CLI-1" class="headerlink" title="CLI"></a>CLI</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 查看当前版本</span><br><span class="line">pyenv version</span><br><span class="line"></span><br><span class="line"># 查看所有版本</span><br><span class="line">pyenv versions</span><br><span class="line"></span><br><span class="line"># 查看所有可安装的版本</span><br><span class="line">pyenv install --list</span><br><span class="line"></span><br><span class="line"># 安装指定版本</span><br><span class="line">pyenv install 3.6.5</span><br><span class="line"># 安装新版本后rehash一下</span><br><span class="line">pyenv rehash</span><br><span class="line"></span><br><span class="line"># 删除指定版本</span><br><span class="line">pyenv uninstall 3.5.2</span><br><span class="line"></span><br><span class="line"># 指定全局版本</span><br><span class="line">pyenv global 3.6.5</span><br><span class="line"></span><br><span class="line"># 指定多个全局版本, 3版本优先</span><br><span class="line">pyenv global 3.6.5 2.7.14</span><br><span class="line"></span><br><span class="line"># 实际上当你切换版本后, 相应的pip和包仓库都是会自动切换过去的</span><br></pre></td></tr></table></figure>

<h3 id="install-太慢问题"><a href="#install-太慢问题" class="headerlink" title="install 太慢问题"></a>install 太慢问题</h3><p>进入源码页面下载<code>.tar.xz</code>文件，<a target="_blank" rel="noopener" href="https://www.python.org/downloads/source/">https://www.python.org/downloads/source/</a></p>
<p>将下载的 Python 版本压缩包放到 pyenv 的缓存文件夹: <code>~/.pyenv/cache</code></p>
<p>执行安装命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ pyenv install 3.9.15</span><br><span class="line">python-build: use openssl@1.1 from homebrew</span><br><span class="line">Downloading readline-8.1.tar.gz...</span><br><span class="line">-&gt; https://ftpmirror.gnu.org/readline/readline-8.1.tar.gz</span><br><span class="line">Installing readline-8.1...</span><br><span class="line">Installed readline-8.1 to /Users/qkil/.pyenv/versions/3.9.15</span><br><span class="line"></span><br><span class="line">Installing Python-3.9.15...</span><br><span class="line">python-build: use zlib from xcode sdk</span><br><span class="line">WARNING: The Python lzma extension was not compiled. Missing the lzma lib?</span><br><span class="line">Installed Python-3.9.15 to /Users/qkil/.pyenv/versions/3.9.15</span><br></pre></td></tr></table></figure>

<h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><ul>
<li>高级编程语言</li>
<li>解释型语言（翻译）<br>C：编译型语言，执行前先编译，再汇编，再链接，更接近机器执行的代码。比python速度更快，执行效率更高</li>
<li>语法和自然语言很像</li>
</ul>
<h2 id="运行特定版本"><a href="#运行特定版本" class="headerlink" title="运行特定版本"></a>运行特定版本</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">python3.9 -V</span><br><span class="line">python3.10 -V</span><br><span class="line"></span><br><span class="line"># 查看python3 多少位</span><br><span class="line">$ python3</span><br><span class="line">Python 3.11.0 (v3.11.0:deaf509e8f, Oct 24 2022, 14:43:23) [Clang 13.0.0 (clang-1300.0.29.30)] on darwin</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line">&gt;&gt;&gt; import platform</span><br><span class="line">&gt;&gt;&gt; platform.architecture()</span><br><span class="line">(&#x27;64bit&#x27;, &#x27;&#x27;)</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<h2 id="交互式运行"><a href="#交互式运行" class="headerlink" title="交互式运行"></a>交互式运行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -i 2.py</span><br><span class="line">Hello world!</span><br><span class="line">&gt;&gt;&gt; print(&#x27;h&#x27;)</span><br><span class="line">h</span><br><span class="line"></span><br><span class="line">非交互式运行</span><br><span class="line">$ python3 -i 2.py</span><br><span class="line">Hello world!</span><br></pre></td></tr></table></figure>

<h1 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h1><ul>
<li><p>创建项目目录</p>
</li>
<li><p>创建虚拟环境<br>python -m venv venv</p>
</li>
<li><p>激活虚拟环境<br>source venv/bin/activate</p>
</li>
<li><p>创建 requirements.txt 文件<br>pip freeze &gt; requirements.txt</p>
</li>
<li><p>创建主程序文件，main.py</p>
</li>
<li><p>编写代码，Hello World; print(“Hello, World!”)</p>
</li>
<li><p>运行项目<br>python main.py</p>
</li>
<li><p>启一个服务，pip install uvicorn<br>uvicorn main:app –reload</p>
</li>
</ul>
<h2 id="添加服务"><a href="#添加服务" class="headerlink" title="添加服务"></a>添加服务</h2><ul>
<li>pip install fastapi</li>
</ul>
<h2 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"> <span class="comment"># 连接到 MySQL 数据库</span></span><br><span class="line">    connect = pymysql.connect(user=<span class="string">&#x27;dev&#x27;</span>, password=<span class="string">&#x27;xx&#x27;</span>,</span><br><span class="line">                                    host=<span class="string">&#x27;xx&#x27;</span>,</span><br><span class="line">                                    database=<span class="string">&#x27;niekaifa&#x27;</span>)</span><br><span class="line">    cursor = connect.cursor()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 执行 SQL 查询语句</span></span><br><span class="line">    sql = <span class="string">&quot;SELECT * FROM t_convert&quot;</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取所有结果</span></span><br><span class="line">    results = cursor.fetchall()</span><br><span class="line">    columns = [column[<span class="number">0</span>] <span class="keyword">for</span> column <span class="keyword">in</span> cursor.description] <span class="comment"># 获取列名</span></span><br><span class="line">    row_dict = [<span class="built_in">dict</span>(<span class="built_in">zip</span>(columns, row)) <span class="keyword">for</span> row <span class="keyword">in</span> results]</span><br><span class="line">    <span class="built_in">print</span>(row_dict)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 关闭游标和数据库连接</span></span><br><span class="line">    cursor.close()</span><br><span class="line">    connect.close()</span><br></pre></td></tr></table></figure>


<h1 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 程序运行时所在的目录</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># 获取当前工作目录</span></span><br><span class="line">current_dir = os.getcwd()</span><br><span class="line"><span class="comment"># 打印当前工作目录</span></span><br><span class="line"><span class="built_in">print</span>(current_dir)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前工作目录</span></span><br><span class="line">current_dir = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印当前工作目录</span></span><br><span class="line"><span class="built_in">print</span>(current_dir)</span><br></pre></td></tr></table></figure>
<h2 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var=<span class="built_in">input</span>()</span><br><span class="line"><span class="built_in">print</span>(var)</span><br></pre></td></tr></table></figure>

<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><ul>
<li>整数 int 8</li>
<li>浮点数 float 8.8</li>
<li>字符串 str ‘8’</li>
<li>布尔值 bool True,False</li>
</ul>
<h3 id="判断类型"><a href="#判断类型" class="headerlink" title="判断类型"></a>判断类型</h3><p>type(8)<br>type(‘8’)<br>type(“8”)<br>type(True)</p>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>int(‘8’)<br>str(123)<br>bool(123) //非0返回True</p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先第一行写程序用来做什么的</span></span><br></pre></td></tr></table></figure>

<h2 id="int"><a href="#int" class="headerlink" title="int"></a>int</h2><p>n += 1</p>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="长度"><a href="#长度" class="headerlink" title="长度"></a>长度</h3><p>len(str)</p>
<h3 id="取值"><a href="#取值" class="headerlink" title="取值"></a>取值</h3><p>单个：str[0]<br>多个：str[0:4] /不包含4<br>后面：str[-1]</p>
<h3 id="判断是否在字符串中"><a href="#判断是否在字符串中" class="headerlink" title="判断是否在字符串中"></a>判断是否在字符串中</h3><p>‘1’ in ‘123’<br>‘0’ not in ‘123’</p>
<h3 id="分割"><a href="#分割" class="headerlink" title="分割"></a>分割</h3><p>data.split(‘|’)</p>
<h3 id="去除"><a href="#去除" class="headerlink" title="去除"></a>去除</h3><p>line.strip(‘\n’)</p>
<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>存储内容，不可变更<br>（1, 10) &gt; (2, 20)<br>看成：110 &gt; 220</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>)</span><br><span class="line">b=<span class="number">4</span></span><br><span class="line"><span class="built_in">list</span> <span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x &lt; b, a) <span class="comment">#取出a中小于4的元素</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串模版"><a href="#字符串模版" class="headerlink" title="字符串模版"></a>字符串模版</h3><p>‘%s 年的生肖是 %s’ %(year, s)</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = []</span><br><span class="line"><span class="built_in">list</span>.append(<span class="string">&#x27;X&#x27;</span>) <span class="comment">#新增</span></span><br><span class="line"><span class="built_in">list</span>.remove(<span class="string">&#x27;X&#x27;</span>) <span class="comment">#删除</span></span><br></pre></td></tr></table></figure>

<h2 id="逻辑判断"><a href="#逻辑判断" class="headerlink" title="逻辑判断"></a>逻辑判断</h2><h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">&#x27;abcd&#x27;</span></span><br><span class="line"><span class="keyword">if</span> x == <span class="string">&#x27;abc&#x27;</span> :</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;相等&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> x == <span class="string">&#x27;xyz&#x27;</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;xyz&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;都不相等&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><h4 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a>while语句</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 表达式：<span class="comment"># 表达式如果为真，会一直执行, 直到表达式为假</span></span><br><span class="line">  代码块</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">  <span class="keyword">break</span> <span class="comment"># 终断</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">num = <span class="number">5</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  num = num + <span class="number">1</span></span><br><span class="line">  <span class="keyword">if</span> num == <span class="number">10</span>:</span><br><span class="line">    <span class="keyword">continue</span> <span class="comment"># 跳过本次</span></span><br><span class="line">  <span class="built_in">print</span>(num)</span><br><span class="line">  time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h4 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a>for语句</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 迭代变量 <span class="keyword">in</span> 可迭代对象：</span><br><span class="line">  代码块</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]:</span><br><span class="line">  <span class="built_in">print</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">13</span>): <span class="comment"># range(13) 1,--12; 不包含最后一个数</span></span><br><span class="line">  <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">arr = [&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;, &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">25</span>&#125;]</span><br><span class="line"><span class="comment"># 遍历数组</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> arr:</span><br><span class="line">    <span class="comment"># 获取并打印每项里面的 name 属性</span></span><br><span class="line">    <span class="built_in">print</span>(item[<span class="string">&quot;name&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出：</span></span><br><span class="line"><span class="comment"># Alice</span></span><br><span class="line"><span class="comment"># Bob</span></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名称</span>():</span><br><span class="line">  代码</span><br><span class="line">  <span class="keyword">return</span> 需要返回的内容</span><br></pre></td></tr></table></figure>

<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><p>函数名称()</p>
<h1 id="Issuse"><a href="#Issuse" class="headerlink" title="Issuse"></a>Issuse</h1><h2 id="Missing-dependencies-for-SOCKS-support"><a href="#Missing-dependencies-for-SOCKS-support" class="headerlink" title="Missing dependencies for SOCKS support"></a>Missing dependencies for SOCKS support</h2><p>环境变量中则设置了 socks5 的代理; ~/.zshrc<br>Python 本身在没有安装 pysocks 时并不支持 socks5 代理<br>取消代理后，安装<br>pip install pysocks</p>
<h1 id="轮子"><a href="#轮子" class="headerlink" title="轮子"></a>轮子</h1><h2 id="随机不重复字符串"><a href="#随机不重复字符串" class="headerlink" title="随机不重复字符串"></a>随机不重复字符串</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义字符集，用于生成随机字符串</span></span><br><span class="line">charset = <span class="string">&quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成随机字符串</span></span><br><span class="line">random_str = <span class="string">&quot;&quot;</span>.join(random.choice(charset) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">16</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印字符串</span></span><br><span class="line"><span class="built_in">print</span>(random_str)</span><br></pre></td></tr></table></figure>

<h1 id="fastapi"><a href="#fastapi" class="headerlink" title="fastapi"></a>fastapi</h1><h2 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a>文件处理</h2><p>image</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@router.post(<span class="params"><span class="string">&quot;/ocr-test&quot;</span>,  name=<span class="string">&quot;test&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">ocrTest</span>(<span class="params"></span></span><br><span class="line"><span class="params">    file: UploadFile = File(<span class="params">...</span>)</span></span><br><span class="line"><span class="params"></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;file&quot;</span>, file)</span><br><span class="line">    contents = <span class="keyword">await</span> file.read()</span><br><span class="line">    random_str = <span class="string">&quot;&quot;</span>.join(random.choice(charset) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">16</span>))</span><br><span class="line">    save_path = <span class="string">&quot;./assets/test/&quot;</span> + random_str + <span class="string">&quot;.png&quot;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(save_path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f: <span class="comment"># write() 是同步</span></span><br><span class="line">        f.write(contents)</span><br></pre></td></tr></table></figure>

<h1 id="研究"><a href="#研究" class="headerlink" title="研究"></a>研究</h1><h2 id="NLP"><a href="#NLP" class="headerlink" title="NLP"></a>NLP</h2><p>NLP：Natural Language Processing，自然语言处理<br>将人类之间交流沟通所用的语言经过处理转化为机器所能理解的机器语言。<br>目的就是让机器理解并生成人类的语言，从而和人类平等流畅地沟通交流。</p>
<h3 id="两种方向"><a href="#两种方向" class="headerlink" title="两种方向"></a>两种方向</h3><ul>
<li>自然语言理解（Natural Language Understanding, NLU）【如何理解文本】</li>
<li>自然语言生成（Natural Language Generation, NLG）【理解文本后如何生成自然文本】</li>
</ul>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><p>作为人工智能领域的底层技术，自然语言处理常常与智能语音、知识图谱等技术方向衔接捆绑。通过语音识别、语音合成、语义分析等细化技术的互相组合，以对话式AI、机器翻译、文字审核、知识库等类型的产品和应用出现。<br>在实际应用层面，则常常用以满足较为复杂的社交网络文本情感分析、客户信息挖掘等的需求，比如电商平台中构建知识图谱实现智能导购，挖掘客户兴趣以实现精准营销；客服场景中智能机器人提供客服服务、翻译机器人在跨境电商业务中对商品信息、广告词等进行翻译。</p>
<p>由于自然语言作为人类社会信息的载体，使得NLP不只是计算机科学的专属。在医疗健康、金融、法律、教育等领域，同样存在着海量的文本，NLP也就成为了重要支持技术。</p>
<h4 id="医疗行业"><a href="#医疗行业" class="headerlink" title="医疗行业"></a>医疗行业</h4><ul>
<li>从病历、检验单、医嘱等医疗文本中提取患者的性别年龄、临床症状等关键信息，将非结构化数据转化成一致、统一的表格等形式的结构化数据</li>
<li>基于提取出的信息，并且让机器掌握医生具备的医疗知识，构建出显示各类医疗信息之间关系的知识图谱，比如患者症状、药物、疾病诊疗等</li>
<li>知识图谱可以根据患者的症状诊断疾病，或者根据特定的疾病推断出未来可能出现的症状</li>
</ul>
<h2 id="Issuse-1"><a href="#Issuse-1" class="headerlink" title="Issuse"></a>Issuse</h2><h3 id="应用领域？"><a href="#应用领域？" class="headerlink" title="应用领域？"></a>应用领域？</h3><ul>
<li>电子医生 -&gt; 智能辅助诊疗</li>
<li>Siri手机助手</li>
<li>智能客服</li>
</ul>
<h1 id="OCR"><a href="#OCR" class="headerlink" title="OCR"></a>OCR</h1><p>OCR：Optical Character Recognition，光学字符识别<br>指电子设备（例如扫描仪或数码相机）检查纸上打印的字符，通过检测暗、亮的模式确定其形状，然后用字符识别方法将形状翻译成计算机文字的过程</p>
<p>在NLP的相关产品中，OCR扮演着不可或缺的角色，主要是在关于文档处理的一些场景中，例如，pdf等格式的文档抽取、文档审核、文档比对等。</p>
<h2 id="应用-1"><a href="#应用-1" class="headerlink" title="应用"></a>应用</h2><ul>
<li>银行卡拍照识别</li>
<li>快递信息拍照，自动录入</li>
</ul>
<h1 id="Paddle"><a href="#Paddle" class="headerlink" title="Paddle"></a>Paddle</h1><p>人工智能 &gt; 机器学习 &gt; 深度学习</p>
<h1 id="包"><a href="#包" class="headerlink" title="包"></a>包</h1><h2 id="cv2"><a href="#cv2" class="headerlink" title="cv2"></a>cv2</h2><p>cv2是Python语言的一个计算机视觉库，用于图像处理和计算机视觉领域的开发。它是OpenCV库的Python语言绑定，提供了许多图像处理和计算机视觉的算法和方法，使得Python开发者可以方便地实现图像处理和计算机视觉的功能。</p>
<p>cv2库提供了常用的图像处理和计算机视觉算法，例如图像分割、目标检测、图像分类、视频分析等。它还提供了一些图像处理和计算机视觉的工具，例如图像显示、图像读取、图像保存等。</p>
<p>使用Python的cv2包，开发者可以快速实现图像处理和计算机视觉功能，并且可以通过深度学习模型来提高算法的性能。</p>
<h1 id="Issuse-2"><a href="#Issuse-2" class="headerlink" title="Issuse"></a>Issuse</h1><h2 id="pycharm报错提示：无法加载文件-venv-Scripts-activate-ps1"><a href="#pycharm报错提示：无法加载文件-venv-Scripts-activate-ps1" class="headerlink" title="pycharm报错提示：无法加载文件\venv\Scripts\activate.ps1"></a>pycharm报错提示：无法加载文件\venv\Scripts\activate.ps1</h2><p>此系统上禁止运行脚本<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/freedomofu/article/details/126537492">https://blog.csdn.net/freedomofu/article/details/126537492</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/25/cocos/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/25/cocos/" class="post-title-link" itemprop="url">cocos</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-05-25 14:29:17" itemprop="dateCreated datePublished" datetime="2022-05-25T14:29:17+08:00">2022-05-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><h2 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h2><p>隐藏<br>cc.director.setDisplayStats(false)</p>
<h2 id="Sprite"><a href="#Sprite" class="headerlink" title="Sprite"></a>Sprite</h2><h3 id="SizeMode"><a href="#SizeMode" class="headerlink" title="SizeMode"></a>SizeMode</h3><ul>
<li>CUSTOM 预设的尺寸</li>
<li>TRIMMED 裁剪后的尺寸</li>
<li>RAW 原图</li>
</ul>
<h2 id="wechat"><a href="#wechat" class="headerlink" title="wechat"></a>wechat</h2><p>入口</p>
<ul>
<li>微信小游戏：game.json</li>
<li>微信小程序：app.json</li>
</ul>
<h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><p><a target="_blank" rel="noopener" href="https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html">https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html</a></p>
<h2 id="onLoad"><a href="#onLoad" class="headerlink" title="onLoad"></a>onLoad</h2><h2 id="start"><a href="#start" class="headerlink" title="start"></a>start</h2><h2 id="update"><a href="#update" class="headerlink" title="update"></a>update</h2><h1 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h1><h2 id="自身节点"><a href="#自身节点" class="headerlink" title="自身节点"></a>自身节点</h2><p>this.node</p>
<h2 id="子节点"><a href="#子节点" class="headerlink" title="子节点"></a>子节点</h2><p>1.直接获取列表<br>this.node.children;</p>
<p>2.getChildByName<br>this.node.getChildByName(“Cannon 01”);</p>
<p>3.子节点的层次较深，可以使用cc.find<br>cc.find(“Cannon 01/Barrel/SFX”, this.node);</p>
<h2 id="自身节点上的其他组件"><a href="#自身节点上的其他组件" class="headerlink" title="自身节点上的其他组件"></a>自身节点上的其他组件</h2><img src="/2022/05/25/cocos/other_component.png" class="">
<p>1.使用函数 <code>getComponent</code></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> label = <span class="variable language_">this</span>.<span class="title function_">getComponent</span>(cc.<span class="property">Label</span>);</span><br><span class="line"><span class="comment">// this.node.getComponent(cc.Label)</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;started&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Change the text in Label Component</span></span><br><span class="line">label.<span class="property">string</span> = text;</span><br></pre></td></tr></table></figure>

<p>2.函数可以直接传入一个类名（对用户定义的组件而言，类名就是脚本的文件名，并且区分大小写。）</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rotate = <span class="variable language_">this</span>.<span class="title function_">getComponent</span>(<span class="string">&quot;SinRotate&quot;</span>);</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/09/uniapp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/09/uniapp/" class="post-title-link" itemprop="url">uniapp</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-09 15:39:49" itemprop="dateCreated datePublished" datetime="2022-04-09T15:39:49+08:00">2022-04-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uniapp/" itemprop="url" rel="index"><span itemprop="name">uniapp</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><h2 id="基座"><a href="#基座" class="headerlink" title="基座"></a>基座</h2><p>自定义调试基座是使用开发者申请的第三方SDK配置生成的基座应用，用于HBuilder/HBuilderX开发应用时实时在真机/模拟器上查看运行效果。（注：iOS仅支持真机运行自定义基座，不能使用xcode模拟器运行自定义基座）<br>基座：<a target="_blank" rel="noopener" href="https://ask.dcloud.net.cn/article/35115">https://ask.dcloud.net.cn/article/35115</a><br>keystore生成：<a target="_blank" rel="noopener" href="https://ask.dcloud.net.cn/article/35777">https://ask.dcloud.net.cn/article/35777</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -alias testalias -keyalg RSA -keysize 2048 -validity 36500 -keystore test.keystore</span><br></pre></td></tr></table></figure>

<p>就是一个壳子，包含manifest里面的所有设置，还有HBuilderX版本</p>
<h3 id="云打包模式"><a href="#云打包模式" class="headerlink" title="云打包模式"></a>云打包模式</h3><ol>
<li>安心打包，不会上传开发者证书代码</li>
<li>传统云打包，没有mac需要打ios包的开发者，代码和证书上传到DCloud的mac打包服务器<h2 id="两套开发模式"><a href="#两套开发模式" class="headerlink" title="两套开发模式"></a>两套开发模式</h2></li>
<li>HBuilderX 可视化界面</li>
<li>cli创建项目</li>
</ol>
<h2 id="启动界面"><a href="#启动界面" class="headerlink" title="启动界面"></a>启动界面</h2><p>android: 自定义启动图<br>ios：自定义storyboard</p>
<h2 id="判断平台"><a href="#判断平台" class="headerlink" title="判断平台"></a>判断平台</h2><p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- #ifdef APP-PLUS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- #endif --&gt;</span></span><br><span class="line"></span><br><span class="line">其他：MP-WEIXIN </span><br></pre></td></tr></table></figure>

<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">UNI_PLATFORM</span> === <span class="string">&quot;h5&quot;</span>) &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">UNI_PLATFORM</span> === <span class="string">&quot;app-plus&quot;</span>) &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">UNI_PLATFORM</span> === <span class="string">&quot;mp-weixin&quot;</span>) &#123;&#125;</span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">UNI_PLATFORM</span> === <span class="string">&quot;mp-baidu&quot;</span>) &#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="内置方法"><a href="#内置方法" class="headerlink" title="内置方法"></a>内置方法</h2><p>uni.hideKeyboard() //隐藏软键盘</p>
<h2 id="http-request"><a href="#http-request" class="headerlink" title="http request"></a>http request</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ureq =&gt;</span><br><span class="line">uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;&#125;,</span><br><span class="line">  <span class="attr">fail</span>: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">  <span class="attr">complete</span>: <span class="function">() =&gt;</span> &#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;../info/info?id=&#x27;</span> + id</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="page"><a href="#page" class="headerlink" title="page"></a>page</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;app-plus&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bounce&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span> <span class="comment">// 将回弹属性关掉</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><h3 id="不支持的选择器"><a href="#不支持的选择器" class="headerlink" title="不支持的选择器"></a>不支持的选择器</h3><p>非H5端不支持*选择器；<br>body的元素选择器请改为page，同样，div和ul和li等改为view、span和font改为text、a改为navigator、img改为image…</p>
<h3 id="scoped"><a href="#scoped" class="headerlink" title="scoped"></a>scoped</h3><p>非H5端默认并未启用 scoped，如需要隔离组件样式可以在 style 标签增加 scoped 属性，H5端为了隔离页面间的样式默认启用了 scoped</p>
<h2 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h2><p>小程序要求连接的网址都要配白名单</p>
<ul>
<li>不能使用浏览器自带对象，document、window、localstorage、cookie等</li>
<li>不同的端，每个平台的专有api，比如wx.、plus.等api可以分别在微信下和app下使用</li>
<li>推荐使用flex布局模型，支持多平台</li>
<li>位置坐标系统一为国测局坐标系gcj02，这种坐标系可以被多端支持</li>
</ul>
<h2 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h2><p>跨域是浏览器的专用概念<br>做App、小程序等非H5平台，是不涉及跨域问题<br>iOS的 wkWebview ，会产生跨域</p>
<h2 id="跨端"><a href="#跨端" class="headerlink" title="跨端"></a>跨端</h2><p>组件内（页面除外）不支持 onLoad、onShow 等页面生命周期。</p>
<h2 id="分包"><a href="#分包" class="headerlink" title="分包"></a>分包</h2><p>小游戏<br>小程序 工具 vendor.js过大</p>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>赋值：getApp().globalData.text = ‘test’<br>取值：console.log(getApp().globalData.text) // ‘test’</p>
<h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><p>main.js 挂载 Vuex<br>import store from ‘./store’<br>Vue.prototype.$store = store</p>
<h2 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h2><p>uni.storage的键值对存储，全端支持。</p>
<h2 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h2><p>HBuilderX升级后，其自带的app运行基座、uni-app编译器、云打包配套引擎会同步升级。但在开发者使用cli创建项目、使用自定义基座、使用5+sdk离线打包时，就需要手动维护版本更新。</p>
<p>小程序，提交代码到小程序后台<br>app，ios去appstore，android直接下载apk，只要包名和证书不变，就可以覆盖安装。</p>
<p>App升级，也可使用uniCloud。</p>
<h1 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h1><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><ul>
<li><input disabled="" type="checkbox"> 环境变量（最少三个环境）</li>
<li><input disabled="" type="checkbox"> 公共样式</li>
<li><input disabled="" type="checkbox"> http请求封装</li>
<li><input disabled="" type="checkbox"> mock数据</li>
<li><input disabled="" type="checkbox"> 状态栏适配</li>
<li><input disabled="" type="checkbox"> 支付</li>
<li><input disabled="" type="checkbox"> 基座</li>
<li><input disabled="" type="checkbox"> 打包</li>
<li><input disabled="" type="checkbox"> 热更新</li>
<li><input disabled="" type="checkbox"> 上下架</li>
<li><input disabled="" type="checkbox"> 网络模块（上传、下载、加密、重试、缓存、请求以及任务管理）</li>
<li><input disabled="" type="checkbox"> 音视频模块（滤镜、播放、裁剪、合生、AV数据采集。图片处理、视频处理、渲染处理。）</li>
<li><input disabled="" type="checkbox"> 基础框架（String、Array、Dictionary、TableView、Date等原生框架的补充）</li>
<li><input disabled="" type="checkbox"> 数据（同步、读写、升级、清除缓存）</li>
<li><input disabled="" type="checkbox"> 弹窗（toast、alert）</li>
<li><input disabled="" type="checkbox"> 消息通知</li>
<li><input disabled="" type="checkbox"> 消息通知</li>
<li><input disabled="" type="checkbox"> 导航栏 <a target="_blank" rel="noopener" href="https://ask.dcloud.net.cn/article/34921">https://ask.dcloud.net.cn/article/34921</a></li>
</ul>
<h1 id="热更新"><a href="#热更新" class="headerlink" title="热更新"></a>热更新</h1><p>iOS的wgt更新肯定是违反apple政策的，注意事项：</p>
<ul>
<li>审核期间请不要弹窗升级</li>
<li>升级完后尽量不要自行重启</li>
<li>尽量使用静默更新</li>
</ul>
<h2 id="uni-admin"><a href="#uni-admin" class="headerlink" title="uni admin"></a>uni admin</h2><p>项目名：uni-admin（不要改其他名字）<br>登录账号密码在：<a target="_blank" rel="noopener" href="https://unicloud.dcloud.net.cn/">https://unicloud.dcloud.net.cn/</a><br>云数据库 - uni-id-users 库里面。忘记密码删除重新注册</p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h1 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5+"></a>HTML5+</h1><p>HTML5+标准规范，是对HTML5的一种扩展，扩展后的HTML5可以达到原生的功能和体验。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/12/vue3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/12/vue3/" class="post-title-link" itemprop="url">vue3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-12 16:42:22" itemprop="dateCreated datePublished" datetime="2022-02-12T16:42:22+08:00">2022-02-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Frame/" itemprop="url" rel="index"><span itemprop="name">Frame</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><p>技术选型<br>vue生态 + 工程化的最佳实践</p>
<p>阅读源码</p>
<p>vue3 + TypeScript + pinia(Vuex5) + vue-router</p>
<p>工程化：（循序渐进）<br>Vite + pnpm + eslint + 各种规范（自动化测试）</p>
<p>复杂度够高的一个项目，不是页面多</p>
<p>Composition 组合 API、基于 Proxy 的响应式系统、自定义渲染器</p>
<p>一个项目 增删改查 实现功能</p>
<ol>
<li>数据量大（过万条数据），复杂（5层以上）的场景</li>
<li>完成增删改查后，研发效率的提升（组件库，自动化发布部署CI/CD，写了小工具plugin，团队项目规范）</li>
<li>性能（跑的更快，首屏渲染提高，交互更流畅）</li>
<li>用户体验</li>
<li>项目质量和稳定性</li>
</ol>
<p>技术选型</p>
<ol>
<li>框架vue3</li>
<li>语言 Typescript</li>
<li>包管理 pnpm</li>
<li>路由 vue-router</li>
<li>数据管理 pinia</li>
<li>vue的工具库 vueuse</li>
<li>组件库：（自己封装一些组件）element3 elementplus naiveui antd-vue</li>
<li>构建工具 vite</li>
<li>css预编译器 sass</li>
<li>网络请求：axios（使用ts的类型限制）</li>
<li>代码规范：eslint prettier（尽可能的松散）</li>
<li>git的规范 分支管理，hook来做eslint或者单测</li>
<li>代码的部署 github action（纯前端的部署）</li>
<li>自动化测试 vitest // 封装组件时才用</li>
<li>工具函数 lodash</li>
<li>日期处理 dayjs</li>
</ol>
<h2 id="构建项目"><a href="#构建项目" class="headerlink" title="构建项目"></a>构建项目</h2><p>pnpm：没有最快只有更快</p>
<p>npm install -g pnpm</p>
<p>pnpm create vite</p>
<p>安装依赖包<br>pnpm i<br>Progress: resolved 111, reused 111, downloaded 0, added 111, done<br>reused 复用的模块</p>
<h3 id="项目初始化"><a href="#项目初始化" class="headerlink" title="项目初始化"></a>项目初始化</h3><p>删除app.vue里面的内容<br>安装 vue 提示插件：volar</p>
<h3 id="Options-API-改为-Composition-API"><a href="#Options-API-改为-Composition-API" class="headerlink" title="Options API 改为 Composition API"></a>Options API 改为 Composition API</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 声明响应式</span></span><br><span class="line">    <span class="keyword">let</span> count = <span class="title function_">ref</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="comment">// 深层响应式</span></span><br><span class="line">    <span class="keyword">const</span> state = <span class="title function_">reactive</span>(&#123; <span class="attr">count</span>: <span class="number">0</span> &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">      count.<span class="property">value</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;count,add&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写。使用构建工具简化上面操作</span></span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span> setup&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> val = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment">// ref定义的，取值都要.value</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(val.<span class="property">value</span>)</span><br></pre></td></tr></table></figure>

<h3 id="ts类型"><a href="#ts类型" class="headerlink" title="ts类型"></a>ts类型</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span> setup&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="comment">// 第一种方式:范型  推荐使用</span></span><br><span class="line"><span class="keyword">let</span> val = ref&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种方式</span></span><br><span class="line"><span class="keyword">import</span> &#123; ref, <span class="title class_">Ref</span> &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">val</span>:<span class="title class_">Ref</span> = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><h3 id="todomvc"><a href="#todomvc" class="headerlink" title="todomvc"></a>todomvc</h3><p>基本的增删改查，所有的框架都建议先写一个todo mvc</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// computed 读和写不同的操作</span></span><br><span class="line"><span class="keyword">let</span> allDone = computed&lt;<span class="built_in">boolean</span>&gt;(&#123;</span><br><span class="line">  <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> active.<span class="property">value</span> === todos.<span class="property">value</span>.<span class="property">length</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">set</span>(<span class="params">value:<span class="built_in">boolean</span></span>)&#123;</span><br><span class="line">    todos.<span class="property">value</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">todo</span> =&gt;</span> todo.<span class="property">done</span> = value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="DOC"><a href="#DOC" class="headerlink" title="DOC"></a>DOC</h1><h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h2><h3 id="根组件"><a href="#根组件" class="headerlink" title="根组件"></a>根组件</h3><p>传入 <code>createApp</code> 的对象实际上是一个组件，应用需要一个“根组件”和多个字组件<br>单文件组件可以使用导入的方式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 从一个单文件组件中导入根组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br></pre></td></tr></table></figure>

<h3 id="挂载应用"><a href="#挂载应用" class="headerlink" title="挂载应用"></a>挂载应用</h3><p>应用实例必须在调用了 <code>.mount()</code> 方法后才会渲染出来。该方法接收一个“容器”参数，可以是一个实际的 DOM 元素或是一个 CSS 选择器字符串。<br>app.mount(‘#app’)</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p><code>.conifg</code>对象配置一些应用级的选项<br>例如：捕获所有字组件上的错误</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="property">config</span>.<span class="property">errorHandler</span> = <span class="function">(<span class="params">err</span>)=&gt;</span>&#123;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="api"><a href="#api" class="headerlink" title="api"></a>api</h2><h3 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h3><p>以“组件实例”的概念为中心 (this)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">      this.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    console.log(`The initial count is $&#123;this.count&#125;.`)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;increment&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Composition"><a href="#Composition" class="headerlink" title="Composition"></a>Composition</h3><p>核心思想：直接在函数作用域内定义响应式状态变量，并将从多个函数中得到的状态组合起来处理复杂问题。更自由。<br>导入API函数<br>组合式API Composition 与 <code>&lt;script setup&gt;&lt;/script&gt;</code> 配合使用；setup 属性，是一个标识。<br>与cocos组件类似</p>
<p>优点：</p>
<ol>
<li>逻辑复用</li>
<li>自由灵活</li>
<li>类型推导</li>
<li>生产包小</li>
</ol>
<p>但：<br>需要对 Vue 的响应式系统有更深的理解才能高效使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line">const count = ref(0)</span><br><span class="line"></span><br><span class="line">function increment() &#123;</span><br><span class="line">  count.value++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 生命周期钩子</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  console.log(`The initial count is $&#123;count.value&#125;.`)</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button @click=&quot;increment&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>Composition代码组织<br>因为 ref 和 computed 等功能都可以从 Vue 中全局引入，所以我们就可以把组件进行任意颗粒度的拆分和组合，这样就大大提高了代码的可维护性和复用性。<br>可以任意拆分组件的功能，抽离出独立的工具函数，大大提高了代码的可维护性。<br>例子：追踪鼠标位置，utils方法</p>
<h3 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h3><p>推荐用<code>计算属性</code>来描述依赖响应式状态的复杂逻辑</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 之前 --&gt;</span><br><span class="line">&lt;span&gt;&#123;&#123; books.length &gt; 0 ? &#x27;Yes&#x27; : &#x27;No&#x27; &#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;!-- 现在 --&gt;</span><br><span class="line">&lt;span&gt;&#123;&#123;show&#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  const show = computed(()=&gt;&#123;</span><br><span class="line">    return books.length &gt; 0 &#x27;Yes&#x27;: &#x27;No&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>注意：<br>计算属性的 getter 应只做计算而没有任何其他的副作用，这一点非常重要，请务必牢记。举例来说，不要在 getter 中做异步请求或者更改 DOM！</p>
<h3 id="类与样式绑定"><a href="#类与样式绑定" class="headerlink" title="类与样式绑定"></a>类与样式绑定</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 方式一 --&gt;</span><br><span class="line">&lt;div</span><br><span class="line">  class=&quot;static&quot;</span><br><span class="line">  :class=&quot;&#123; active: isActive, &#x27;text-danger&#x27;: hasError &#125;&quot;</span><br><span class="line">&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 方式二 --&gt;</span><br><span class="line">&lt;div :class=&quot;classObject&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const classObject = reactive(&#123;</span><br><span class="line">    active: true,</span><br><span class="line">    &#x27;text-danger&#x27;: false</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 方式三 --&gt;</span><br><span class="line">&lt;div :class=&quot;[activeClass, errorClass]&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">const activeClass = ref(&#x27;active&#x27;)</span><br><span class="line">const errorClass = ref(&#x27;text-danger&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="绑定内联样式"><a href="#绑定内联样式" class="headerlink" title="绑定内联样式"></a>绑定内联样式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div :style=&quot;&#123; color: activeColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><p>展示过滤或排序后的结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;n in evenNumbers&quot;&gt;&#123;&#123; n &#125;&#125;&lt;/li&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const numbers = ref([1, 2, 3, 4, 5])</span><br><span class="line">  const evenNumbers = computed(() =&gt; &#123;</span><br><span class="line">    return numbers.value.filter((n) =&gt; n % 2 === 0)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Route"><a href="#Route" class="headerlink" title="Route"></a>Route</h2><h3 id="简单路由，不使用路由库"><a href="#简单路由，不使用路由库" class="headerlink" title="简单路由，不使用路由库"></a>简单路由，不使用路由库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;a href=&quot;#/&quot;&gt;首页 hello&lt;/a&gt; </span><br><span class="line">  &lt;a href=&quot;#/about&quot; style=&quot;margin-left:10px&quot;&gt;about&lt;/a&gt;</span><br><span class="line">  &lt;component :is=&quot;currentView&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; computed, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import About from &#x27;./components/About.vue&#x27;</span><br><span class="line">import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line">const count = ref(1)</span><br><span class="line">const routes=&#123;</span><br><span class="line">  &#x27;/&#x27;: HelloWorld,</span><br><span class="line">  &#x27;/about&#x27;:About</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const currentPath = ref(window.location.hash)</span><br><span class="line">window.addEventListener(&#x27;hashchange&#x27;,()=&gt;&#123;</span><br><span class="line">  currentPath.value=window.location.hash</span><br><span class="line">&#125;)</span><br><span class="line">const currentView=computed(()=&gt;&#123;</span><br><span class="line">  return routes[currentPath.value.slice(1) || &#x27;/&#x27;] || NotFound</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><h3 id="选项式-vs-组合式"><a href="#选项式-vs-组合式" class="headerlink" title="选项式 vs 组合式"></a>选项式 vs 组合式</h3><p>mounted vs onMounted</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h1><p>JavaScript变量是没有响应式概念的。js代码自上而下执行</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> double = count * <span class="number">2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(double) <span class="comment">// 2</span></span><br><span class="line">count = <span class="number">2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(double) <span class="comment">// 2。结果不会随着count的值改变而改变</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// doube 能够跟着 count 的变化而变化</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">1</span></span><br><span class="line"><span class="comment">// 计算过程封装成函数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">getDouble</span> = n=&gt;n*<span class="number">2</span> <span class="comment">//箭头函数</span></span><br><span class="line"><span class="keyword">let</span> double = <span class="title function_">getDouble</span>(count)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(double) <span class="comment">// 2</span></span><br><span class="line">count = <span class="number">2</span></span><br><span class="line"><span class="comment">// 重新计算double，这里我们不能自动执行对double的计算</span></span><br><span class="line">double = <span class="title function_">getDouble</span>(count)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(double) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>double的值自动计算，getDouble函数自动执行</p>
<img src="/2022/02/12/vue3/xiangyingshi01.png" class="">
<p>图解：我们使用 JavaScript 的某种机制，把 count 包裹一层，每当对 count 进行修改时，就去同步更新 double 的值，那么就有一种 double 自动跟着 count 的变化而变化的感觉，这就算是响应式的雏形</p>
<h2 id="响应式原理"><a href="#响应式原理" class="headerlink" title="响应式原理"></a>响应式原理</h2><h3 id="vue2-defineProperty"><a href="#vue2-defineProperty" class="headerlink" title="vue2 defineProperty"></a>vue2 defineProperty</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">getDouble</span> = n=&gt;n*<span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> double = <span class="title function_">getDouble</span>(count)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;count&#x27;</span>,&#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">val</span>)&#123;</span><br><span class="line">        count = val</span><br><span class="line">        double = <span class="title function_">getDouble</span>(val)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(double)  <span class="comment">// 打印2</span></span><br><span class="line">obj.<span class="property">count</span> = <span class="number">2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(double) <span class="comment">// 打印4  有种自动变化的感觉</span></span><br></pre></td></tr></table></figure>

<p>缺陷<br>删除 obj.count 属性，set 函数就不会执行，double 还是之前的数值。</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="单页面中使用"><a href="#单页面中使用" class="headerlink" title="单页面中使用"></a>单页面中使用</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;count++&quot;</span>&gt;</span>Count is: &#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> &#123; createApp &#125; = <span class="title class_">Vue</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">count</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="后台管理，更新记录"><a href="#后台管理，更新记录" class="headerlink" title="后台管理，更新记录"></a>后台管理，更新记录</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">updateDialog</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item&#x27;</span>, item);</span><br><span class="line">    <span class="comment">// 此方法会导致，第二条记录改成第一条记录</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialogForm</span> = item;</span><br><span class="line">    <span class="comment">// 正确做法</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialogForm</span> = &#123;</span><br><span class="line">        <span class="attr">id</span>: item.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">clientId</span>: item.<span class="property">clientId</span>,</span><br><span class="line">        <span class="attr">wxTemplateId</span>: item.<span class="property">wxTemplateId</span>,</span><br><span class="line">        <span class="attr">wxTemplateTitle</span>: item.<span class="property">wxTemplateTitle</span>,</span><br><span class="line">        <span class="attr">content</span>: item.<span class="property">content</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dialogVisible</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/09/game/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/09/game/" class="post-title-link" itemprop="url">game</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-09 10:39:33" itemprop="dateCreated datePublished" datetime="2022-02-09T10:39:33+08:00">2022-02-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><h2 id="从2D游戏开始"><a href="#从2D游戏开始" class="headerlink" title="从2D游戏开始"></a>从2D游戏开始</h2><p>2D 游戏涉及最基本的图形、图像知识。从画面方面考虑，开发 2D 游戏只需要你知道 X 和 Y 的位置即可，其他深层次的知识，引擎都可以替你完成。想要制作 3D 画面，你需要掌握更多的知识，特别是几何知识，这是毋庸置疑的。对于初学者来说，我们首先需要掌握核心的开发流程，至于过于细节的知识，可以在有了一定基础之后再进行拓展学习。<br>2D 游戏涉及最核心的网络呈现过程。网络数据在客户端和服务器端之间传输，经过服务器端计算的数据返回给客户端，客户端进行呈现。比如，从“一颗炸弹消灭几个敌人”，就能知道网络是否有延迟，服务器计算是否正确等等。</p>
<h2 id="2D-游戏的类型"><a href="#2D-游戏的类型" class="headerlink" title="2D 游戏的类型"></a>2D 游戏的类型</h2><ol>
<li>横版游戏（超级玛丽、魂斗罗）：左右两侧画面</li>
<li>俯视视角游戏（GTA2）：可以移动8个方向</li>
<li>斜45度角的视角游戏（“伪 3D”游戏）（网页游戏、Flash游戏）</li>
</ol>
<h2 id="背景知识"><a href="#背景知识" class="headerlink" title="背景知识"></a>背景知识</h2><p><code>游戏的开发逻辑和实现细节</code></p>
<p>不管何种类型、何种平台的游戏，其开发的顺序和手段几乎是一样的。而对于初学游戏开发的人来说，首先需要掌握的是开发流程，在有了一定基础之后，再学习细节的知识，就会如虎添翼。</p>
<p>要做出一款好的 2D 游戏，要比 3D 游戏下更多的功夫，特别是在游戏的内涵、创意、音乐和细节上面。因为 2D 游戏先天只能呈现 2D 画面，所以玩家在入手游戏后，会很快对游戏有一个总体的评价，因此，开发者会想方设法留住用户。而一些 3D 游戏创意和游戏内容其实都不是非常优秀，只是由于画面突出，效果卓绝，也能吸引不少玩家战斗到最后一关。</p>
<p><code>游戏的本质</code>就是供人娱乐，给人各种开心的、刺激的、恐怖的感官刺激</p>
<h2 id="游戏引擎"><a href="#游戏引擎" class="headerlink" title="游戏引擎"></a>游戏引擎</h2><p>游戏引擎是一整套的游戏开发程序接口和开发组件，可以让你更方便、更专注于游戏的开发。</p>
<p>游戏引擎：是发动机，是心脏。为游戏设计者提供各种编写游戏所需的各种交互、组件工具，让游戏设计者能容易和快速地做出游戏程序而不用由零开始。<br>游戏引擎包含以下系统：渲染引擎、物理引擎、碰撞检测系统、音效、脚本引擎、电脑动画、人工智能、网络引擎以及场景管理。</p>
<p>游戏引擎到底是什么，以及它究竟能干什么。</p>
<ol>
<li>图形引擎</li>
<li>一整套游戏解决方案</li>
<li>一整套编程接口</li>
</ol>
<p>游戏引擎其实也包括游戏开发的一系列工具，也就是诸如地图编辑器、关卡编辑器、人物编辑器、资源编辑器等。美术、策划、制作人等，这些开发流程中的责任人，可以往工具内填入需要的东西，制作出需要的内容。</p>
<p>游戏引擎背后的工作方式是：</p>
<ul>
<li>在代码层面，游戏引擎是对绘图接口、操作系统、音频等接口进行的代码层面的封装；</li>
<li>在工具层面，游戏引擎是一整套游戏内容的制作工具，方便你制作针对这个引擎的游戏内容。</li>
</ul>
<p>自研引擎并不是一个不可能完成的任务，但是要看公司的财力和程序员的实力。</p>
<p>天下没有不重构的引擎，请不要用这个点来喷任何一个引擎<br>随着互联网产品的游戏化，游戏引擎早就超脱了游戏的范畴。游戏产品不仅作为游戏娱乐服务，还承担了很多的社会内容。目前来看，我们都不再说cocos，ue，unity这样的引擎为游戏引擎，它们是：数字内容创作工具。</p>
<p>你可以选择高大上的发展路线，上手就是ue4，啃各种图形算法，渲染算法，成为行业专家。<br>你也可以选择u3d，毕竟目前u3d是目前开发者体量最大的引擎，像极了语言领域的java。<br>你当然也可以选择cocos，cocos以轻量入行，但如今是覆盖行业最广，覆盖平台最多，轻中重兼容最强的引擎。<br>每个引擎都有自己明显的长度和短板，择善而从，不要跟风。</p>
<p>引擎和语言都是工具<br>工具是为自己要做的事情服务的我们应该先选择要做的事情，再选择工具。而不是先选择工具，再看看工具能做什么，自己就做什么。<br>1、如果自己想走技术路线，以后要做aaa项目，就选ue4。<br>2、如果自只想做游戏，做3d，以后可能会拉投资创业搞游戏，那选择u3d。<br>3、如果想做游戏的同时兼顾一些风口浪尖上的需求，想要投融资（比如小游戏，h5，在线教育，物联网，车机，数字孪生，智慧城市，工业互联网等等）那么cocos。</p>
<h3 id="购买商业引擎"><a href="#购买商业引擎" class="headerlink" title="购买商业引擎"></a>购买商业引擎</h3><ol>
<li>引擎中包含的开发工具基本没有通用性可言。就算吃透了工具，对你今后的能力提升和职业规划也没有明显的帮助；</li>
<li>如果引擎升级或者更换引擎，就需要从头再学一次工具，会耗费大量时间和精力。当然会有一些优秀的商业引擎支持通用工具制作的内容导出和转换，直接在引擎中可以使用，当然这种引擎的购买费用也会更高；</li>
<li>另外，商业引擎本身也会存在一些隐藏得很深的 bug。在游戏发布后，这些 bug 可能会影响到游戏本身的质量和口碑。引擎出问题，游戏一定出问题，这也是购买商业引擎需要考量的一个风险。</li>
</ol>
<p>熟知游戏引擎的开发逻辑，能很快定位问题所在。</p>
<h3 id="游戏引擎是用什么编写的？"><a href="#游戏引擎是用什么编写的？" class="headerlink" title="游戏引擎是用什么编写的？"></a>游戏引擎是用什么编写的？</h3><p>游戏引擎并没有一种固定的开发语言，就看你所制作游戏的目标平台是什么。</p>
<ol>
<li><p>C/C++<br>如果你在 Windows 或者 Linux 下开发游戏，游戏引擎 99% 都是使用 C/C++ 或者汇编语言编写。由于 C/C++ 和汇编运行效率高，所以在 Windows 下的执行效率也非常高。你看到的 Python 游戏引擎、Ruby 游戏引擎等脚本语言引擎，都是在 C/C++ 的基础上进行封装的。这样可以方便程序员将专注力放在游戏逻辑上，而不是在处理底层问题上。</p>
</li>
<li><p>JavaScript/TypeScript<br>如果是 HTML5 游戏，游戏引擎的编程接口 99% 是使用 JavaScript 完成的。比如耳熟能详的 Cocos2d 引擎、白鹭引擎等等。至于其他配套的开发工具，可以使用任意软件开发语言进行编写。</p>
</li>
<li><p>.NET<br>经过微软的努力和版本迭代，在 Windows 下，.NET 的运行效率和开发效率已经提高了好几个等级。由于和 Windows 紧密结合，现在的.NET 的运行效率只比 C/C++ 编写的代码低一点。在电脑配置比较高的情况下，用户基本不会有太多的感知。而.NET 对于 Windows 底层的调用和控制，比 C/C++ 更方便，编程也更容易，所以现在已经出现了一些引擎是使用.NET 编写的。这对于.NET 开发者来说是一件好事。</p>
</li>
<li><p>Java<br>和.NET 一样，使用 Java 编写的游戏引擎并不多。虽然 Java 的运行效率已经有了质的提升，但是对于编写大型游戏来说还是有相当大的瓶颈。随着电脑硬件配置的提升，使用 Java 编写游戏也不再是一件不可能的事情。比如大火的《我的世界》，就是使用 Java 编写的。</p>
</li>
</ol>
<h3 id="什么时候可以跳过引擎"><a href="#什么时候可以跳过引擎" class="headerlink" title="什么时候可以跳过引擎"></a>什么时候可以跳过引擎</h3><p>简单的游戏，对图形渲染没有要求，如：象棋围棋、扫雷、文字游戏</p>
<h2 id="底层绘图接口"><a href="#底层绘图接口" class="headerlink" title="底层绘图接口"></a>底层绘图接口</h2><ol>
<li>OpenGL</li>
<li>DirectX</li>
<li>SDL</li>
<li>GDI</li>
<li>GDI+</li>
</ol>
<h1 id="游戏思考"><a href="#游戏思考" class="headerlink" title="游戏思考"></a>游戏思考</h1><h2 id="果园"><a href="#果园" class="headerlink" title="果园"></a>果园</h2><p>蚂蚁森林主打的环保理念是对用户精神层面的激励，拼多多推出的多多果园主要侧重的便是对用户物质层的奖励，实实在在的水果收入囊中。<br>我们没法简单评判说哪种方式更优，但很明显从效果上来说，多多果园更胜一筹。（对此有异议的，先思考是否把自己的视角触达到了五环外的人群：）<br>友商也开始追随模仿：京东推出了“东东农场”，美团推出了“小美果园”…..</p>
<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><ol>
<li>多多果园的产品目标和用户动机是什么？</li>
<li>此类小游戏的底层逻辑和内核是什么？</li>
</ol>
<p>从产品角度出发，小游戏的引入能提升大体量产品的用户留存和用户活跃2个核心指标。<br>大体量的平台产品已经逐渐脱离增量竞争，转而进入存量时代的竞争。到了这个阶段，我们不再以每日新增用户数为维度考量，而是转变为对<code>用户注意力</code>（2022217老板说让用户花更多时间留在我们平台就没有精力去竞品那边）的争夺。</p>
<p>养成类小游戏很好的满足了这点，既能吸引用户注意，还能让他们在趣味感十足的体验下，持续性的登录产品，甚至能让用户通过每日浇水形成对产品的使用习惯，激活大批用户。<br>对用户来说，动机很明确的就是要获得奖励。</p>
<p>根据马斯洛需求层次理论来看，奖励主要分为两种，一种是外在奖励（物质奖励），收获实在利益，一种是内在奖励（精神奖励），主要是满足用户的自我实现感、荣誉感、虚荣心等。</p>
<p>多多果园就是承袭了拼多多的基因——真实的让利和物质利益。</p>
<p>实际上，每个互联网产品都有“多多果园”的影子，比如过去屡见不鲜的签到机制、积分系统等。</p>
<p>所以我一直认为，多多果园们就是签到机制等娱乐升级版。他们的底层逻辑和内核是相通的。</p>
<p>都是一个产品通过提供激励/收益来激发用户的参与动机，用户为获得奖励而在产品内产生特定用户行为并创造价值的过程。</p>
<h4 id="任务中心"><a href="#任务中心" class="headerlink" title="任务中心"></a>任务中心</h4><p>任务中心的设计原则总结如下几点：</p>
<p>1、明确的奖励和低操作门槛；<br>用户想法很简单，同样也很精明。他们自己会快速在脑中过一遍这件事的投入产出比，在得知每天动动手指点一点就能得到真实的水果后，他们欣然加入。<br>为了提高用户的参与意愿，产品设计者首先要考虑的是用户的行为成本，包括了游戏的参与入口是否明显、任务完成的可操作性是否够强、指定的用户行为是否简单、所需的心理成本和实际成本是否够低等等。<br>比如美团将“免费领水果”的入口放置于首页的核心位置，十分明显。果园种树只需用户点击右下角水滴浇水即可，操作简单，且无需消耗成本（几kb的流量就不说了）。邀请好友浇水的心理成本较高，但相应的奖励也更高。<br>比如多多果园里，果树下方总会有“距离成功所剩的次数”，刺激用户持续活跃。大众点评的会员等级里明确展示着各个等级所能享受的权益。</p>
<p>2、结合产品主张；<br>从产品定位和核心主张出发，设计任务体系。<br>蚂蚁森林提倡环保，所以无论是从任务还是奖励都围绕着绿色能量进行。用户步行替代开车、在线缴纳水电煤等等可以节省碳排放的行为都会收获能量，而当能量积累到一定程度时，虚拟树长成，平台会在沙漠地区种上一棵附有用户昵称的真树。</p>
<p>3、结合产品核心功能；<br>说到底，这是个交换的过程，是多多果园们拿出一定的物质价值与用户可能产生的商业价值进行交换的过程。<br>平台若想价值最大化，必会将指定的用户行为与平台希望用户高频发生的行为尽量画上等号，也就是结合产品的核心功能设计任务。<br>比如支付宝的核心功能就是支付，只要用户今天完成了一笔支付交易，就有一次能量增加的机会。<br>比如拼多多作为电商平台，GMV就是它最看重的核心指标之一。用户下单、收藏商品、加入购物车都是正向行为，是平台鼓励的行为，因此都会获得水滴。<br>比如大众点评，不仅是团购优惠网站，还是基于点评和评分系统的生活服务推荐系统，想要形成一个足以智能和全面的机制，就需要大量真实的用户点评数据。所以你能看到，会员等级的晋升与点评数量和质量直接挂钩。</p>
<p>4、加入与好友关系有关的互动机制实现裂变；<br>无论是从拉新，还是从促活最大化的角度看，任务设计中加入好友关系链都是不可缺少的。<br>联入网络的参与节点越多，多多果园们的网络效应越多，游戏的生命周期也会相应更长。<br>不仅如此，好友共同参与能增加现有用户的参与认同感，引入社交排名更能刺激用户的自我实现心理。<br>我们常见的火爆小游戏几乎都包含了社交分享裂变的机制，有助于病毒营销。比如偷菜偷能量、微信“跳一跳”排名等等。</p>
<h4 id="积分兑换"><a href="#积分兑换" class="headerlink" title="积分兑换"></a>积分兑换</h4><p>种树的用户不仅仅是薅羊毛，本身的价值也很高，通过游戏兑换优惠券和红包的概率高达60%-70%，而平台的普通活动兑换率只有20%。</p>
<p>而高兑换率带来的是高消费率……</p>
<p>说来说去，平台满意了，消费者开心了，这些小游戏们带来的是双赢啊~</p>
<h4 id="多多果园"><a href="#多多果园" class="headerlink" title="多多果园"></a>多多果园</h4><p>1、诱导<br>在人类的视觉中，动的比静的吸引人，图片比文字吸引人。这也是短视频为什么能火起来的原因。<br>多多果园页面上有几个会动的图标，分别是多多牧场、多多农场、助力领水，是相对高频且核心的功能。<br>每个图标上都有标记，可能每一个标记都有不同的功能，但核心还是引导用户进行点击，用户转化的漏斗就逐步建立起来了。</p>
<p>2、滚动提示<br>气泡是很常见的一种手段，一般是“XXX已经领到了”，“XXX完成了”之类的任务，旨在给用户暗示，奖励确实有，而且你不是一个人，乌合之众的效应在这块很直观的体现。<br>从众心理</p>
<p>据拼多多透露，2019年一季度尝试“多多果园”游戏以来，拼多多日活比年初增加了1100万，日活跃用户达到了5000多万，每天送出的免费水果远超100万斤，目前仍在保持高速增长。在多多果园的带动下，前不久农货节期间，拼多多平台的农产品订单超过1.1亿笔，其中七成销往了一二线城市，预计2019年农产品上行规模将超过1200亿元。上个月，拼多多还宣布，与褚橙进行战略合。</p>
<h4 id="成本"><a href="#成本" class="headerlink" title="成本"></a>成本</h4><p>笔者身边一朋友就曾在美团的“小美果园”种了一棵芒果树并且成功领到免费芒果，询问了该朋友才知道，她前前后后大概种了三个月，才领到三个芒果。没错，只有三个，但是朋友觉得挺有意思，就是花点时间玩玩，反正是免费的。</p>
<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><p>经久不衰的休闲小游戏，除了种菜、收集衣服，消消乐也是其中之一~<br>果园是浇水、农场是种菜、牧场是养小动物<br>打牌</p>
<p>鱼塘、餐厅</p>
<h1 id="game"><a href="#game" class="headerlink" title="game"></a>game</h1><h2 id="羊"><a href="#羊" class="headerlink" title="羊"></a>羊</h2><p>分关，复杂度抽到后台配置<br>算法抽报文通过后台生成<br>覆盖层偏移<br>行为记录，算法加密<br>从底部浮层的方式，嵌入业务内容</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/08/%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/08/%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-08 23:01:26" itemprop="dateCreated datePublished" datetime="2022-02-08T23:01:26+08:00">2022-02-08</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="base"><a href="#base" class="headerlink" title="base"></a>base</h1><h2 id="为什么学算法"><a href="#为什么学算法" class="headerlink" title="为什么学算法"></a>为什么学算法</h2><ul>
<li>面试刚需</li>
<li>计算机世界的基本规则，构建思维方式（与架构师的区别：操作系统，设计模式）</li>
<li>实际中用到的框架，需要了解原理的时候就要用到</li>
</ul>
<h2 id="leetCode-200题"><a href="#leetCode-200题" class="headerlink" title="leetCode 200题"></a>leetCode 200题</h2><h2 id="知识"><a href="#知识" class="headerlink" title="知识"></a>知识</h2><p>时间复杂度 比 空间复杂度 重要！（存储便宜，时间有限）</p>
<p>判断边界条件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!head)&#123;</span><br><span class="line">  <span class="keyword">return</span> head</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p>数据结构的增删改查</p>
<h3 id="链表和数组"><a href="#链表和数组" class="headerlink" title="链表和数组"></a>链表和数组</h3><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>[1,2,3,4,5]<br>场景：排队买票，第几个第几个</p>
<p>查：<br>arr[0] arr[1] 随机访问复杂度 O(1)</p>
<p>增：<br>[1,2,3,4,5] =&gt; [1,2, ,3,4,5] =&gt; [1,2,6,3,4,5]<br>复杂度：O(n)</p>
<p>删：<br>跟新增一样</p>
<h4 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h4><p>1指向2<br>1=&gt;2=&gt;3=&gt;4=&gt;5<br>场景：犯罪分子，不知道第几个是谁，只能通过第一个同学说你的下线是谁</p>
<p>随机访问的复杂度是 O(n)</p>
<p>删：<br>删2<br>1 X 2=&gt;3=&gt;4=&gt;5  断掉<br>建立一个新的指向链接<br>1=&gt;3=&gt;4=&gt;5 </p>
<p>随机访问的复杂度：O(n)<br>删除和插入元素复杂度：O(1)</p>
<h3 id="用js生成链表结构"><a href="#用js生成链表结构" class="headerlink" title="用js生成链表结构"></a>用js生成链表结构</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 生成一个链表结构：1=&gt;2=&gt;3=&gt;4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 指向Class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">val</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">val</span> = val</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">next</span> = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkNodeList</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">head</span> = <span class="literal">null</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">length</span> = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 新定义一个节点</span></span><br><span class="line">  <span class="title function_">append</span>(<span class="params">val</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">length</span> ++</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">new</span> <span class="title class_">Node</span>(val)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断是否有头节点</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="property">head</span>) &#123;</span><br><span class="line">      <span class="comment">// 如果没有head节点，链表是空的，把要创建的节点，赋值给head</span></span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">head</span> = node</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 找到链表最后一个节点，把这个节点的.next属性赋值为node</span></span><br><span class="line">    <span class="comment">// 缓存head节点, 一个临时变量</span></span><br><span class="line">    <span class="keyword">let</span> p = <span class="variable language_">this</span>.<span class="property">head</span></span><br><span class="line">    <span class="keyword">while</span>(p.<span class="property">next</span>)&#123;</span><br><span class="line">      p = p.<span class="property">next</span></span><br><span class="line">    &#125;</span><br><span class="line">    p.<span class="property">next</span> = node</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">print</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> p = <span class="variable language_">this</span>.<span class="property">head</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="property">head</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;empty&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ret = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">      ret += (p.<span class="property">val</span> + <span class="string">&#x27;=&gt;&#x27;</span>)</span><br><span class="line">      p=p.<span class="property">next</span></span><br><span class="line">    &#125;<span class="keyword">while</span>(p.<span class="property">next</span>)</span><br><span class="line">    ret+=p.<span class="property">val</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ret);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> linkList = <span class="keyword">new</span> <span class="title class_">LinkNodeList</span>()</span><br><span class="line"></span><br><span class="line">linkList.<span class="title function_">append</span>(<span class="number">1</span>)</span><br><span class="line">linkList.<span class="title function_">append</span>(<span class="number">2</span>)</span><br><span class="line">linkList.<span class="title function_">append</span>(<span class="number">3</span>)</span><br><span class="line">linkList.<span class="title function_">append</span>(<span class="number">4</span>)</span><br><span class="line">linkList.<span class="title function_">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(linkList.<span class="property">length</span>);</span><br></pre></td></tr></table></figure>

<h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><p>&lt;&lt; &gt;&gt; &amp; | 位运算，二进制位置上的计算</p>
<p>&lt;&lt; 左移动一位 意味着：乘以2<br>1&lt;&lt;1 = 2<br>2&lt;&lt;1 = 4<br>3&lt;&lt;2 = 3<em>2</em>2 = 12</p>
<blockquote>
<blockquote>
<p>右移一位 意味着：整除以2<br>8&gt;&gt;1 = 4<br>9&gt;&gt;1 = 4</p>
</blockquote>
</blockquote>
<p>&amp;  按位与 两个同时是1的时候，结果是1 否则是0<br>｜ 按位或 两个同时是0的时候，结果是0 否则是1</p>
<p>文本，html标签，组件<br>text = 001<br>element = 010<br>component = 100<br>在二进制位上标记某个属性是1</p>
<p>| 进行授权<br>&amp; 进行校验<br>cms中运用到权限管理：超级管理员，管理员，经理，运营<br>同时拥有文本，html两个属性<br>let target1 = text | element<br>001<br>010<br>011</p>
<p>target1 &amp; text<br>011 &amp; 001<br>结果：001，证明有text这个权限</p>
<p>target1 &amp; element<br>011 &amp; 010<br>结果：010，证明有element这个权限 </p>
<p>target1 &amp; component<br>011 &amp; 100<br>结果：000 没有这个权限</p>
<h1 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h1><h2 id="两数之和"><a href="#两数之和" class="headerlink" title="两数之和"></a>两数之和</h2><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/two-sum/">https://leetcode-cn.com/problems/two-sum/</a></p>
<p>方法一：<br>复杂度：<br>    用O表示<br>    数组长度是n  算法大概执行了多少次<br>    时间复杂度：O(n^2)<br>    空间复杂度：需要的额外空间/变量 i和j都是一个普通的数字 O(1)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> twoSum = <span class="keyword">function</span>(<span class="params">nums, target</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; nums.<span class="property">length</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] + nums[j] == target &amp;&amp; i !== j) &#123;</span><br><span class="line">                <span class="keyword">return</span> [i, j]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法二：空间换时间<br>复杂度：<br>数组长度是n，时间复杂度是O(n)<br>空间复杂度 O(n)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> twoSum = <span class="keyword">function</span>(<span class="params">nums, target</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;; <span class="comment">//相亲登记表</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> num = nums[i];</span><br><span class="line">        <span class="keyword">let</span> n = target - num;</span><br><span class="line">        <span class="keyword">if</span> (num <span class="keyword">in</span> obj) &#123;</span><br><span class="line">            <span class="keyword">return</span> [i, obj[num]]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj[n] = i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="移除链表元素"><a href="#移除链表元素" class="headerlink" title="移除链表元素"></a>移除链表元素</h2><p>leetcode203</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> removeElements = <span class="keyword">function</span>(<span class="params">head, val</span>) &#123;</span><br><span class="line">    <span class="comment">//方法一：递归</span></span><br><span class="line">    <span class="comment">// 判断边界条件</span></span><br><span class="line">    <span class="keyword">if</span>(!head)&#123;</span><br><span class="line">        <span class="keyword">return</span> head</span><br><span class="line">    &#125;</span><br><span class="line">    head.<span class="property">next</span> = <span class="title function_">removeElements</span>(head.<span class="property">next</span>, val)</span><br><span class="line">    <span class="keyword">return</span> head.<span class="property">val</span> === val ? head.<span class="property">next</span> : head</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方法二：朴实无华</span></span><br><span class="line">    <span class="comment">// 前面设置一个哨兵：哨兵=&gt;1=&gt;2=&gt;3=&gt;4</span></span><br><span class="line">    <span class="keyword">let</span> ele = &#123;</span><br><span class="line">        <span class="attr">next</span>:head</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> p = ele</span><br><span class="line">    <span class="keyword">while</span>(p.<span class="property">next</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p.<span class="property">next</span>.<span class="property">val</span> === val)&#123;</span><br><span class="line">            p.<span class="property">next</span> = p.<span class="property">next</span>.<span class="property">next</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            p = p.<span class="property">next</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ele.<span class="property">next</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="环形链表"><a href="#环形链表" class="headerlink" title="环形链表"></a>环形链表</h2><p>leetcode141</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hasCycle = <span class="keyword">function</span>(<span class="params">head</span>) &#123;</span><br><span class="line">    <span class="comment">// 链表里面的值是唯一的吗</span></span><br><span class="line">    <span class="comment">// 方法一：O(n)</span></span><br><span class="line">    <span class="keyword">while</span>(head.<span class="property">next</span>) 这种就不行了</span><br><span class="line">    设置一个存储集合</span><br><span class="line">    <span class="keyword">let</span> cache = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">    <span class="keyword">while</span>(head)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cache.<span class="title function_">has</span>(head))&#123;</span><br><span class="line">            <span class="comment">// 有环</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cache.<span class="title function_">add</span>(head)</span><br><span class="line">            head = head.<span class="property">next</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方法二：快慢双指针 O(1)</span></span><br><span class="line">    <span class="comment">// 场景：跑圈，如果没有环两者不会遇见，如果有环两者会遇见</span></span><br><span class="line">    <span class="keyword">let</span> slow = head</span><br><span class="line">    <span class="keyword">let</span> fast = head</span><br><span class="line">    <span class="keyword">while</span>(fast &amp;&amp; fast.<span class="property">next</span>)&#123;</span><br><span class="line">        fast = fast.<span class="property">next</span>.<span class="property">next</span></span><br><span class="line">        slow = slow.<span class="property">next</span></span><br><span class="line">        <span class="keyword">if</span>(slow === fast) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span> </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="LruCache"><a href="#LruCache" class="headerlink" title="LruCache"></a>LruCache</h2><p>Least Recently Used 近期最少使用算法</p>
<p>vue keep-alive 中使用，组件缓存，数据结构原理是基于链表做的<br>目标：保存组件的状态<br>设计：缓存固定数量的模块<br>组件淘汰机制用的最多就是 LRU-cache</p>
<h3 id="淘汰机制"><a href="#淘汰机制" class="headerlink" title="淘汰机制"></a>淘汰机制</h3><h4 id="先进先出"><a href="#先进先出" class="headerlink" title="先进先出"></a>先进先出</h4><p>first in, first out<br>任务队列有四个数据，第五个数据来了后，添加到第一个，淘汰最后一个<br>[1,2,3,4] -&gt; [5,1,2,3]</p>
<h4 id="L"><a href="#L" class="headerlink" title="L"></a>L</h4><p>{<br>  a:1,<br>  b:3,<br>  c:5,<br>  d:10<br>}<br>如果来了一个e，现在要把最少的踢掉<br>{<br>  b:3,<br>  c:5,<br>  d:10,<br>  e:1<br>}<br>太耗计算量和内存，要做计算统计</p>
<h4 id="LruCache-1"><a href="#LruCache-1" class="headerlink" title="LruCache"></a>LruCache</h4><p>[1,2,3,4] 来了一个3 -&gt; [3,1,2,4]<br>[1,2,3,4] 来了一个5 -&gt; [5,1,2,3]</p>
<p>用的链表<br>删除、新增比较多</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue 源码：lru-cache</span></span><br><span class="line"><span class="keyword">if</span> (max &amp;&amp; keys.<span class="property">size</span> &gt; <span class="built_in">parseInt</span>(max <span class="keyword">as</span> <span class="built_in">string</span>, <span class="number">10</span>)) &#123;</span><br><span class="line">  <span class="title function_">pruneCacheEntry</span>(keys.<span class="title function_">values</span>().<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/24/tool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/24/tool/" class="post-title-link" itemprop="url">tool</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-01-24 11:54:14" itemprop="dateCreated datePublished" datetime="2022-01-24T11:54:14+08:00">2022-01-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="css"><a href="#css" class="headerlink" title="css"></a>css</h1><p>Autoprefixer</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/20/babel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/20/babel/" class="post-title-link" itemprop="url">babel</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-01-20 22:15:09" itemprop="dateCreated datePublished" datetime="2022-01-20T22:15:09+08:00">2022-01-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tool/" itemprop="url" rel="index"><span itemprop="name">Tool</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="base"><a href="#base" class="headerlink" title="base"></a>base</h1><p>babel是一个转译器</p>
<h2 id="编译器和转译器"><a href="#编译器和转译器" class="headerlink" title="编译器和转译器"></a>编译器和转译器</h2><p>编译的定义就是从一种编程语言转成另一种编程语言。主要指的是高级语言到低级语言。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">kil</p>
  <div class="site-description" itemprop="description">心如止水，潜心修行</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">83</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/kilfront" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kilfront" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kaifaweb@163.com" title="E-Mail → mailto:kaifaweb@163.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class=""></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kil</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//code.jquery.com/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
