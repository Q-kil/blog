<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"b2t":false,"scrollpercent":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="心如止水，潜心修行">
<meta property="og:type" content="website">
<meta property="og:title" content="Kil Notes">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Kil Notes">
<meta property="og:description" content="心如止水，潜心修行">
<meta property="og:locale">
<meta property="article:author" content="kil">
<meta property="article:tag" content="Hexo, NexT">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>Kil Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Kil Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Quick notes</p>
      <a>
        <img class="custom-logo-image" src="[object Object]" alt="Kil Notes">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/30/advanced-exercise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/30/advanced-exercise/" class="post-title-link" itemprop="url">advanced-exercise</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-30 22:58:37" itemprop="dateCreated datePublished" datetime="2020-07-30T22:58:37+08:00">2020-07-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Front-End/" itemprop="url" rel="index"><span itemprop="name">Front-End</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="UTF8-编码"><a href="#UTF8-编码" class="headerlink" title="UTF8 编码"></a>UTF8 编码</h1><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>string -&gt; utf8<br>character -&gt; unicode编码：<br>str.codePointAt();</p>
<p>unicode -&gt; binary<br>unicode.toString(2);</p>
<p>二进制补位</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">0xxxxxxx</span><br><span class="line"></span><br><span class="line">110xxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">1110xxxx 10xxxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</span><br><span class="line"></span><br><span class="line">1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</span><br></pre></td></tr></table></figure>

<p>我们先举个简单的例子。把英文字母”A”转为UTF8编码。<br>1、“A”的charCode为65<br>2、65位于0-127的区间，所以“A”占一个字节<br>3、UTF8中一个字节的补位为0xxxxxxx，x表示的是空位，是用来补位的。<br>4、将65转为二进制得到1000001<br>5、将1000001按照从前到后的顺序，依次补到1xxxxxxx的空位中，得到01000001<br>6、将11000001转为字符串，得到”A”<br>7、最终，”A”为UTF8编码之后“A”</p>
<p>通过这个小例子，我们是否再次验证了UTF-8是Unicode的超集！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &quot;中&quot;的charCode为20013</span></span><br><span class="line"><span class="keyword">var</span> code = <span class="number">20013</span>;</span><br><span class="line">code.<span class="title function_">toString</span>(<span class="number">2</span>); </span><br><span class="line"><span class="comment">// =&gt; 100111000101101 等同于 01001110 00101101</span></span><br></pre></td></tr></table></figure>
<p>然后，我们按照上面“A”补位的方法，来给”中”补位。<br>将01001110 00101101按照从前到后的顺序依此补位到1110xxxx 10xxxxxx 10xxxxxx上.得到11100100 10111000 10101101.</p>
<p>通过上面的步骤，我们得到了”中”的三个UTF8字节，11100100 10111000 10101101。<br>我们将每个字节转为16进制，得到0xE4 0xB8 0xAD;<br>那么这个0xE4 0xB8 0xAD就是我们最终得到的UTF8编码了。</p>
<h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>我们使用nodejs的buffer来验证一下是否正确。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buffer = <span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="string">&#x27;中&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buffer.<span class="property">length</span>); <span class="comment">// =&gt; 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buffer); <span class="comment">// =&gt; &lt;Buffer e4 b8 ad&gt;</span></span><br><span class="line"><span class="comment">// 最终得到三个字节 0xe4 0xb8 0xad</span></span><br></pre></td></tr></table></figure>

<h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><span class="label yellow">只会转义非英文字符</span>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;中&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> code = <span class="built_in">encodeURI</span>(str);</span><br><span class="line"> </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(code); <span class="comment">// =&gt; %E4%B8%AD</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面我们将%E4%B8%AD转为一个number数组。</span></span><br><span class="line"><span class="keyword">var</span> codeList = code.<span class="title function_">split</span>(<span class="string">&#x27;%&#x27;</span>);</span><br><span class="line"> </span><br><span class="line">codeList = codeList.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">parseInt</span>(item,<span class="number">16</span>));</span><br><span class="line"> </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(codeList); <span class="comment">// =&gt; [228, 184, 173]</span></span><br></pre></td></tr></table></figure>

<h2 id="二进制转换十六进制"><a href="#二进制转换十六进制" class="headerlink" title="二进制转换十六进制"></a>二进制转换十六进制</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">&#x27;11100100&#x27;</span>;</span><br><span class="line">x = <span class="built_in">parseInt</span>(x, <span class="number">2</span>); <span class="comment">//2进制转10进制</span></span><br><span class="line">x = x.<span class="title function_">toString</span>(<span class="number">16</span>); <span class="comment">//10进制转16进制</span></span><br></pre></td></tr></table></figure>

<h2 id="十进制转2进制"><a href="#十进制转2进制" class="headerlink" title="十进制转2进制"></a>十进制转2进制</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> b = <span class="number">4</span>;</span><br><span class="line">b.<span class="title function_">toString</span>(<span class="number">2</span>);</span><br><span class="line"><span class="string">&quot;100&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="解析回来"><a href="#解析回来" class="headerlink" title="解析回来"></a>解析回来</h2><p>用decodeURI/decodeURIComponent就可以了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> codeList = [<span class="number">228</span>, <span class="number">184</span>, <span class="number">173</span>];</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> code = codeList.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="string">&#x27;%&#x27;</span>+item.<span class="title function_">toString</span>(<span class="number">16</span>)).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">decodeURI</span>(code); <span class="comment">// =&gt; 中</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/themagickeyjianan/article/details/80725606">参考链接</a></p>
<h1 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h1><h2 id="不准使用正则表达式，纯粹用-JavaScript-的逻辑实现：在一个字符串中，找到字符“ab”"><a href="#不准使用正则表达式，纯粹用-JavaScript-的逻辑实现：在一个字符串中，找到字符“ab”" class="headerlink" title="不准使用正则表达式，纯粹用 JavaScript 的逻辑实现：在一个字符串中，找到字符“ab”"></a>不准使用正则表达式，纯粹用 JavaScript 的逻辑实现：在一个字符串中，找到字符“ab”</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findAB</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; str.<span class="property">length</span>; i++)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;i&#x27;</span>, i, str[i]);</span><br><span class="line">    <span class="keyword">if</span> (str[i] === <span class="string">&#x27;a&#x27;</span> &amp;&amp; str[i + <span class="number">1</span>] === <span class="string">&#x27;b&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ab&#x27;</span>, str[i] + str[i + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">findAB</span>(<span class="string">&#x27;sdsdab&#x27;</span>);</span><br></pre></td></tr></table></figure>
<span class="label yellow">注意，作业错误，此处应为：str.length - 1</span>
<p>助教点评：<br>最后一个字符就是i = 4<br>str[i + 1]取得是什么？</p>
<h3 id="优秀作业"><a href="#优秀作业" class="headerlink" title="优秀作业"></a>优秀作业</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">find</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> step = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> c <span class="keyword">of</span> str) &#123; <span class="comment">// of 作用在str上就是把每个字符取出来</span></span><br><span class="line">    <span class="keyword">if</span> (c=== <span class="string">&#x27;a&#x27;</span>) &#123;</span><br><span class="line">      step = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (step === <span class="number">1</span> &amp;&amp; c === <span class="string">&#x27;b&#x27;</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      step = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="状态机查找abcabx"><a href="#状态机查找abcabx" class="headerlink" title="状态机查找abcabx"></a>状态机查找abcabx</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> status = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foundB</span>(<span class="params">c</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (c === <span class="string">&#x27;c&#x27;</span> &amp;&amp; !status) &#123;</span><br><span class="line">      status = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">return</span> foundC;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c === <span class="string">&#x27;x&#x27;</span> &amp;&amp; status) &#123;</span><br><span class="line">      <span class="keyword">return</span> end</span><br><span class="line">  &#125; <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">start</span>(c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>助教点评：不正确 不符合状态机没有副作用的特性<br>状态机不应该用全局变量<br>只能用输入参数<br>Q：程序不是 最好不要重复写相同的方法嘛<br>A：这就是状态机 你可能需要再理解和感受一下</p>
<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="子节点翻转"><a href="#子节点翻转" class="headerlink" title="子节点翻转"></a>子节点翻转</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reversalChildren</span>(<span class="params">nodeEle</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> children = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(nodeEle.<span class="property">childNodes</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// for(let child of children) &#123;</span></span><br><span class="line">  <span class="comment">//   nodeEle.removeChild(child);</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  nodeEle.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;nodeEle&#x27;</span>, nodeEle);</span><br><span class="line">  </span><br><span class="line">  children.<span class="title function_">reverse</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> child <span class="keyword">of</span> children) &#123;</span><br><span class="line">    nodeEle.<span class="title function_">appendChild</span>(child);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三次重排</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reversalChildren2</span>(<span class="params">nodeEle</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> l = nodeEle.<span class="property">childNodes</span>.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">while</span>(l-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    nodeEle.<span class="title function_">appendChild</span>(nodeEle.<span class="property">childNodes</span>[l]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 两次重排 框架使用次方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reversalChildren3</span>(<span class="params">nodeEle</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> range = <span class="keyword">new</span> <span class="title class_">Range</span>();</span><br><span class="line">  range.<span class="title function_">selectNodeContents</span>(nodeEle);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> fragment = range.<span class="title function_">extractContents</span>();</span><br><span class="line">  <span class="keyword">let</span> l = fragment.<span class="property">childNodes</span>.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">while</span>(l-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    fragment.<span class="title function_">appendChild</span>(fragment.<span class="property">childNodes</span>[l]);</span><br><span class="line">  &#125;</span><br><span class="line">  nodeEle.<span class="title function_">appendChild</span>(fragment);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/10/advanced/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/10/advanced/" class="post-title-link" itemprop="url">advanced</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-10 18:18:35" itemprop="dateCreated datePublished" datetime="2020-07-10T18:18:35+08:00">2020-07-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Front-End/" itemprop="url" rel="index"><span itemprop="name">Front-End</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="#HTML">跳转到本文HTML</a><br><a href="#CSS">跳转到本文CSS</a><br><a href="#%E7%BC%96%E7%A8%8B%E4%B8%8E%E7%AE%97%E6%B3%95%E8%AE%AD%E7%BB%83">跳转到本文编程与算法训练</a><br><a href="#%E7%BB%84%E4%BB%B6%E5%8C%96">跳转到本文组件化</a><br><a href="#%E5%B7%A5%E5%85%B7%E9%93%BE">跳转到本文工具链</a><br><a href="#%E5%8F%91%E5%B8%83%E7%B3%BB%E7%BB%9F">跳转到本文发布系统</a></p>
<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><h2 id="语言通识"><a href="#语言通识" class="headerlink" title="语言通识"></a>语言通识</h2><img src="/2020/07/10/advanced/language.png" class="">

<img src="/2020/07/10/advanced/type.png" class="">

<img src="/2020/07/10/advanced/js01.png" class="">

<h2 id="乔姆斯基谱系"><a href="#乔姆斯基谱系" class="headerlink" title="乔姆斯基谱系"></a>乔姆斯基谱系</h2><p>乔姆斯基谱系：是计算机科学中刻画形式文法表达能力的一个分类谱系，是由诺姆·乔姆斯基于 1956 年提出的。它包括四个层次：<br>0- 型文法（无限制文法或短语结构文法）包括所有的文法。<br>1- 型文法（上下文相关文法）生成上下文相关语言。<br>2- 型文法（上下文无关文法）生成上下文无关语言。<br>3- 型文法（正规文法）生成正则语言。</p>
<h2 id="BNF"><a href="#BNF" class="headerlink" title="BNF"></a>BNF</h2><p>巴科斯范式 Backus Normal Form</p>
<p>是一种用于表示上下文无关文法的语言，上下文无关文法描述了一类形式语言。它是由约翰·巴科斯（John Backus）和彼得·诺尔（Peter Naur）首先引入的用来描述计算机语言语法的符号集。</p>
<img src="/2020/07/10/advanced/bnf.png" class="">
<img src="/2020/07/10/advanced/bnf02.png" class="">

<h3 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/huiyenashen/p/4445676.html">链接</a><br>BNF 规定是推导规则(产生式)的集合，写为：</p>
<p>&lt;符号&gt; ::= &lt;使用符号的表达式&gt;<br>这里的 &lt;符号&gt; 是非终结符，而表达式由一个符号序列，或用指示选择的竖杠’|’ 分隔的多个符号序列构成，每个符号序列整体都是左端的符号的一种可能的替代。从未在左端出现的符号叫做终结符。</p>
<p>基本原理<br>      BNF类似一种数学游戏：从一个符号开始（叫做起始标志，实例中常用S表示），然后给出替换前面符号的规则。BNF语法定义的语言只不过是一个字符串集合，你可以按照下述规则书写，这些规则叫做书写规范（生产式规则），形式如下：<br>      symbol := alternative1 | alternative2 …<br>      每条规则申明:=左侧的符号必须被右侧的某一个可选项代替。替换项用“|”分割（有时用“::=”替换“:=”，但意思是一样的）。替换项通常有两个符号和终结符构成。之所以叫做终结符是因为没有针对他们的书写规范，他们是书写过程的终止（符号通常被叫做非终止符，也有人叫非终端）。</p>
<pre><code>   BNF就是巴科特·瑙尔式的缩写， 在计算机的史前时代（1950s)，曾有一位大师，他奠定了现代计算机的基础，在他老人家的诸多成就之中，包括了对形式语言的研究，和发明了高级语言：FORTRAN。 为了纪念他老人家，我们把他提出的一套描述语言的方法叫做BNF。它以递归方式描述语言中的各种成分，凡遵守其规则的程序就可保证语法上的正确性。BNF由于其简洁、明了、科学而被广泛接受，成为描述各种程序设计语言的最常用的工具。
   其实BNF很简单，::=表示定义     |表示或    尖括号(&lt;&gt;)括起来的是非终结符 
</code></pre>
<p>　　所谓非终结符就是语言中某些抽象的概念不能直接出现在语言中的符号，终结符就是可以直接出现在语言中的符号。<br>　　比如：C语言的声明语句可以用BNF这样描述：<br>　　&lt;声明语句&gt; ::= &lt;类型&gt;&lt;标识符&gt;; | &lt;类型&gt;&lt;标识符&gt;[&lt;数字&gt;];<br>　　这一句中&lt;声明语句&gt;这个非终结符被定义成了两种形式（上面用|隔开的两部分），同时在这里引入了三个终结符: 分号; 左方括号[，右方括号 ]。<br>　　&lt;类型&gt; ::= &lt;简单类型&gt; | &lt;指针类型&gt; | &lt;自定义类型&gt;<br>　　&lt;指针类型&gt; ::= &lt;简单类型&gt; * | &lt;自定义类型&gt; *<br>　　&lt;简单类型&gt; ::= int|char|double|float|long|short|void<br>　　&lt;自定义类型&gt; ::= enum&lt;标识符&gt;|struct&lt;标识符&gt;|union&lt;标识符&gt;|&lt;标识符&gt;<br>　　到这里就基本上把&lt;类型&gt;定义清楚了。</p>
<p>　　&lt;数字&gt; ::= 0x&lt;十六进制数字串&gt; | 0&lt;八进制数字串&gt; | &lt;十进制数字串&gt;<br>　　&lt;十六进制数字串&gt; ::= &lt;十六进制数字&gt; | &lt;十六进制数字串&gt;&lt;十六进制数字&gt;<br>　　&lt;八进制数字串&gt; ::= &lt;八进制数字&gt; | &lt;八进制数字串&gt;&lt;八进制数字&gt;<br>　　&lt;十进制数字串&gt; ::= &lt;十进制数字&gt; | &lt;十进制数字串&gt;&lt;十进制数字&gt;<br>　　&lt;十六进制数字&gt; ::= &lt;十进制数字&gt; | A | B | C | D | E | F<br>　　&lt;十进制数字&gt; ::= &lt;八进制数字&gt; | 8 | 9<br>　　&lt;八进制数字&gt; ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7<br>　　到这里就把&lt;数字&gt;定义清楚了 </p>
<p>　　&lt;标识符&gt; ::= &lt;字母&gt; | &lt;标识符&gt; &lt;字母数字串&gt;<br>　　&lt;字母数字串&gt; ::= &lt;字母&gt;|&lt;十进制数字&gt;|&lt;字母数字串&gt;&lt;字母&gt;|&lt;字母数字串&gt;&lt;十进制数字&gt;<br>　　&lt;字母&gt; ::= _ | &lt;大写字母&gt; | &lt;小写字母&gt;<br>　　&lt;小写字母&gt; ::= a|b|c|d|e|f|g|h|i|j ……<br>　　&lt;大写字母&gt; ::= A|B|C|D|E|F|G|H|I|J ……<br>　　到此为止整个声明语句就定义完了（就是说已经没有非终结符了）。</p>
<pre><code>     虽然看起来很繁，但前面定义的各种非终结符都可以很容易的在别的地方重用。比如，函数声明可以定义成下面的样子： 
</code></pre>
<p>　　&lt;函数声明语句&gt; ::= &lt;类型&gt;&lt;标识符&gt;(&lt;形参表&gt;);<br>　　&lt;形参表&gt; ::= &lt;类型&gt;&lt;标识符&gt; | &lt;形参表&gt;,&lt;形参表&gt;<br>　　只用两句就描述完了，所以BNF实际上比用自然语言要简练得多（整个C语言只用一二百句就可以描述清楚），而且相当的精确，不会有自然语言中那种模棱两可的表达。如果你对BNF比较敏感的话，会发现C里面的标识符不能由数字开头，而且在C里面下划线是被当做字母看待的（也就是说能用字母的地方都可以用下划线）。</p>
<h2 id="产生式"><a href="#产生式" class="headerlink" title="产生式"></a>产生式</h2><p> 在计算机中指 Tiger 编译器将源程序经过词法分析（Lexical Analysis）和语法分析（Syntax Analysis）后得到的一系列符合文法规则（Backus-Naur Form，BNF）的语句</p>
<p>几种结构的组合产生一个新的结构，叫语法定义也叫语法产生式。</p>
<h2 id="终结符"><a href="#终结符" class="headerlink" title="终结符"></a>终结符</h2><p>终结符： 最终在代码中出现的字符（ <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/">https://zh.wikipedia.org/wiki/</a> 終結符與非終結符)</p>
<p>不是代码终止的意思</p>
<h1 id="JS类型"><a href="#JS类型" class="headerlink" title="JS类型"></a>JS类型</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><img src="/2020/07/10/advanced/code.png" class="">
<p>ASCII 0-127个字符 ；出来的较早，计算机的基础<br>Unicode 世界编码集<br>GB 国标里的字符码点跟Unicode码点不一致</p>
<p>UTF8<br>8个比特位，1个字节，默认用一个字节表示一个字符</p>
<p>UTF16<br>16个比特位，2个字节表示一个字符</p>
<img src="/2020/07/10/advanced/utf.png" class="">

<p>控制位</p>



<h1 id="浏览器工作原理"><a href="#浏览器工作原理" class="headerlink" title="浏览器工作原理"></a>浏览器工作原理</h1><h2 id="浏览器总论"><a href="#浏览器总论" class="headerlink" title="浏览器总论"></a>浏览器总论</h2><img src="/2020/07/10/advanced/browser.png" class="">
<p>最后显示在计算机上的是图片的形式 Bitmap，最后传给显卡驱动设备，转换成人眼可识别的光信号。</p>
<p>浏览器目标：<br>从URL -&gt; Bitmap （过程是浏览器渲染的基础流程）</p>
<h2 id="状态机"><a href="#状态机" class="headerlink" title="状态机"></a>状态机</h2><p>有限状态机<strong>处理字符串</strong></p>
<img src="/2020/07/10/advanced/state.png" class="">

<p>意义：在各个状态加入自己的逻辑，处理业务</p>
<p>debug 添加监视</p>
<img src="/2020/07/10/advanced/state02.png" class="">

<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>浏览器的第一步：http状态解析</p>
<ul>
<li>http状态</li>
<li>header</li>
</ul>
<h3 id="网络模型"><a href="#网络模型" class="headerlink" title="网络模型"></a>网络模型</h3><img src="/2020/07/10/advanced/http.jpg" class="">

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Request</span>(&#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,     <span class="comment">// TCP 层</span></span><br><span class="line">  <span class="attr">host</span>: <span class="string">&quot;127.0.0.1&quot;</span>,  <span class="comment">// IP 层</span></span><br><span class="line">  <span class="attr">post</span>: <span class="string">&quot;8088&quot;</span>        <span class="comment">// TCP 层</span></span><br><span class="line">  <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>        <span class="comment">// method 和 path 都是HTTP协议要求的</span></span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    [<span class="string">&quot;X-Foo2&quot;</span>]: <span class="string">&quot;customed&quot;</span>  <span class="comment">// HTTP协议要求</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="TCP与IP的一些基础知识"><a href="#TCP与IP的一些基础知识" class="headerlink" title="TCP与IP的一些基础知识"></a>TCP与IP的一些基础知识</h3><ul>
<li><p>流</p>
</li>
<li><p>端口<br>每一个软件都会从网卡去拿数据，哪一个数据是分配给哪一个软件的，需要用到端口概念</p>
</li>
<li><p>node 对应 require(‘net’)</p>
</li>
<li><p>包<br>TCP 传输的就是一个一个数据包的概念</p>
</li>
<li><p>IP 地址<br>数据包 从那到那</p>
</li>
<li><p>node没有，node 调用C++ 库。libnet/libpcap<br>libnet: 负责构造IP包并且发送<br>libpcap: 负责从网卡抓所有的流经你的网卡的IP包</p>
</li>
</ul>
<h3 id="HTTP-1"><a href="#HTTP-1" class="headerlink" title="HTTP"></a>HTTP</h3><ul>
<li>request</li>
<li>response</li>
</ul>
<p>必须先由客户端发起一个 request，服务端发送一个 response</p>
<p>HTTP 协议是文本型的协议，所有内容都是字符串</p>
<p>method: GET/POST</p>
<h4 id="http协议-request"><a href="#http协议-request" class="headerlink" title="http协议 request"></a>http协议 request</h4><img src="/2020/07/10/advanced/request.png" class="">

<p>第一步HTTP请求总结</p>
<ul>
<li>设计一个HTTP请求的类</li>
<li>content type是一个必要的字段，要有默认值</li>
<li>body是kv格式</li>
<li>不同的content-type影响body的格式</li>
<li>content length</li>
</ul>
<p>第二步send函数编写</p>
<ul>
<li>在Request的构造器中收集必要的信息</li>
<li>设计一个send函数，把请求真实发送到服务器</li>
<li>send函数应该是异步的，所以返回Promise</li>
</ul>
<p>response 格式</p>
<img src="/2020/07/10/advanced/response.png" class="">

<p>第三步发送请求到服务端（重要）</p>
<ul>
<li>设计支持已有的connection或者自己新建connection</li>
<li>收到数据传给parser</li>
<li>根据parser的状态resolve Promise</li>
</ul>
<p>第四步response解析（重要）</p>
<ul>
<li>Response必须分段构造，所以我们要用一个 ResponseParser来 “装配”</li>
<li>ResponseParser分配处理ResponseText，我们用状态机来分析文本的结构</li>
</ul>
<p>最后一步response body解析</p>
<ul>
<li>Resonse的body可能根据Content-Type有不同的结构，因此我们会采用子Parser的结构来解决问题</li>
<li>以TrunkBodyParser为例，我们同样用状态机来处理body的格式</li>
</ul>
<h4 id="HTML解析"><a href="#HTML解析" class="headerlink" title="HTML解析"></a>HTML解析</h4><p>第一步 Parse模块的文件拆分</p>
<ul>
<li>为了方便文件管理，把parser单独拆到文件中</li>
<li>parser接受HTML文本作为参数，返回一颗DOM树</li>
</ul>
<p>第二步 用FSM实现HTML的分析</p>
<ul>
<li>用FSM来实现HTML的分析</li>
<li>在HTML标准中，已经规定了HTML的状态 <a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/parsing.html#tokenization">whatwg</a></li>
<li>Toy-Browser只挑选其中一部分状态，完成一个最简版本</li>
</ul>
<p>第三步 解析标签<br>三种tag：</p>
<ul>
<li>开始标签</li>
<li>结束标签</li>
<li>自封闭标签</li>
</ul>
<p>总结：</p>
<ul>
<li>主要的标签有：开始标签，结束标签和自封闭标签</li>
<li>在这一步我们暂时忽略属性</li>
</ul>
<p>第四步 创建元素</p>
<ul>
<li>在状态机中，除了状态迁移，我们还会要加入业务逻辑</li>
<li>我们在标签结束状态提交标签token</li>
</ul>
<p>第五步 处理属性</p>
<ul>
<li>属性值分为单引号、双引号、无引号三种写法，因此需要较多状态处理</li>
<li>处理属性的方式跟标签类似</li>
<li>属性结束时，把属性加到标签Token上</li>
</ul>
<p>第六步 用token构建DOM树<br>Tree construction 第一步</p>
<ul>
<li>从标签构建DOM树的基本技巧是使用栈</li>
<li>遇到开始标签时创建元素并入栈，遇到结束标签时出栈</li>
<li>自封闭节点可视为入栈后立即出栈</li>
<li>任何元素的父元素是它入栈前的栈顶</li>
</ul>
<p>第七步 将文本节点加到DOM树</p>
<ul>
<li>文本节点与自封闭标签处理类似</li>
<li>多个文本节点需要合并</li>
</ul>
<h4 id="CSS计算"><a href="#CSS计算" class="headerlink" title="CSS计算"></a>CSS计算</h4><p>环境准备：<br>npm install css (css == css parser, 把css的代码变成 AST抽象语法树)<br>根据这颗抽象语法树，抽出各种CSS规则，应用到HTML元素上</p>
<p>第一步 收集CSS规则</p>
<ul>
<li>遇到style标签时，我们把CSS规则保存起来</li>
<li>这里我们调用CSS Parser来分析CSS规则</li>
<li>仔细研究此库分析CSS规则的格式</li>
</ul>
<p>第二步 添加调用<br>计算CSS时机</p>
<ul>
<li>创建一个元素后，立即计算CSS</li>
<li>理论上，当我们分析一个元素时，所有CSS规则已经收集完毕</li>
<li>在真实浏览器中，可能遇到写在body的style标签，需要重新CSS计算的情况，这里我们忽略</li>
</ul>
<p>第三步 获取父元素序列</p>
<ul>
<li>在computeCSS函数中，我们必须知道元素的所有父元素才能判断元素与规则是否匹配</li>
<li>我们从上一步骤的stack，可以获取本元素所有的父元素</li>
<li>因此我们首先获取的是 ”当前元素“，所以我们获取得和计算父元素匹配的顺序是从内向外</li>
</ul>
<p>第四步 选择器与元素的匹配</p>
<ul>
<li>选择器也要从当前元素向外排列</li>
<li>复杂选择器拆成针对单个元素的选择器，用循环匹配父元素队列</li>
</ul>
<p>第五步 计算选择器与元素匹配</p>
<ul>
<li>根据选择器的类型和元素属性，计算是否与当前元素匹配</li>
<li>这里仅仅实现了三种基本选择器，实际的浏览器中要处理复合选择器</li>
<li>可选：实现复合选择器，实现支持空格的Class选择器</li>
</ul>
<p>第六步 生成computed属性</p>
<ul>
<li>一旦选择匹配，就应用选择器到元素上，形成computedStyle</li>
</ul>
<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h2 id="总论"><a href="#总论" class="headerlink" title="总论"></a>总论</h2><p>第一步：找到一条好的线索，建立一个基础知识的骨架结构<br>线索：学习一门语言，先从语法入手</p>
<p>语法<br>• <a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS21/grammar.html#q25.0">css2.1</a><br>• <a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-syntax-3">https://www.w3.org/TR/css-syntax-3</a></p>
<h2 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h2><p>普通规则和@规则</p>
<img src="/2020/07/10/advanced/css.png" class="">
<h3 id="At-rules"><a href="#At-rules" class="headerlink" title="At-rules"></a>At-rules</h3><p>• @charset : <a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a><br>• @import :<a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-cascade-4/">https://www.w3.org/TR/css-cascade-4/</a><br>• @media :<a target="_blank" rel="noopener" href="https://www.w3.org/TR/css3-conditional/">https://www.w3.org/TR/css3-conditional/</a> 【重要】<br>• @page : <a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-page-3/">https://www.w3.org/TR/css-page-3/</a><br>• @counter-style :<a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-counter-styles-3">https://www.w3.org/TR/css-counter-styles-3</a><br>• @keyframes :<a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-animations-1/">https://www.w3.org/TR/css-animations-1/</a> 【重要】<br>• @fontface :<a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-fonts-3/">https://www.w3.org/TR/css-fonts-3/</a> 【重要】<br>• @supports :<a target="_blank" rel="noopener" href="https://www.w3.org/TR/css3-conditional/">https://www.w3.org/TR/css3-conditional/</a><br>• @namespace :<a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-namespaces-3/">https://www.w3.org/TR/css-namespaces-3/</a></p>
<h3 id="css-rule"><a href="#css-rule" class="headerlink" title="css-rule"></a>css-rule</h3><img src="/2020/07/10/advanced/css01.png" class="">

<ul>
<li>Selector<ul>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a> </li>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a> 制定中</li>
</ul>
</li>
<li>Key<ul>
<li>Properties</li>
<li>Variables: <a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-variables/">https://www.w3.org/TR/css-variables/</a></li>
</ul>
</li>
<li>Value<ul>
<li><a target="_blank" rel="noopener" href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a></li>
</ul>
</li>
</ul>
<h3 id="完整的标准列表"><a href="#完整的标准列表" class="headerlink" title="完整的标准列表"></a>完整的标准列表</h3><h4 id="收集标准"><a href="#收集标准" class="headerlink" title="收集标准"></a>收集标准</h4><p>爬虫抓取w3c网站上的内容<br><a target="_blank" rel="noopener" href="https://www.w3c.org/TR/">w3c所有的标准和草稿</a><br><a target="_blank" rel="noopener" href="https://www.w3c.org/TR/?tag=css">w3c css标准</a></p>
<h4 id="标题和url提取出来"><a href="#标题和url提取出来" class="headerlink" title="标题和url提取出来"></a>标题和url提取出来</h4><p>控制台中输入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#container&#x27;</span>).<span class="property">children</span>).<span class="title function_">filter</span>(<span class="function"><span class="params">e</span> =&gt;</span> </span><br><span class="line">  e.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-tag&#x27;</span>).<span class="title function_">match</span>(<span class="regexp">/css/</span>)).<span class="title function_">map</span>(<span class="function"><span class="params">e</span> =&gt;</span></span><br><span class="line">  (&#123;<span class="attr">name</span>: e.<span class="property">children</span>[<span class="number">1</span>].<span class="property">innerText</span>, <span class="attr">url</span>: e.<span class="property">children</span>[<span class="number">1</span>].<span class="property">children</span>[<span class="number">0</span>].<span class="property">href</span>&#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>JSON.stringify() 一下</p>
<h3 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h3><p>爬取w3c css的一些内容，并且做一些过滤<br>推荐学习方法：面对大量的信息的时候，用一些自动化的手段（程序员的老本行），帮助我们做一些枯燥的收集工作</p>
<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><h4 id="简单选择器"><a href="#简单选择器" class="headerlink" title="简单选择器"></a>简单选择器</h4><ul>
<li><ul>
<li>（通用选择器，可以选中任何的元素，相当于没有选择器）</li>
</ul>
</li>
<li>div svg|a （div 叫做type selector 类型选择器，选择的是元素的tagName属性）</li>
<li>.class （可以用空白做分隔符，指定多个class，只要匹配一个就可以）</li>
<li>#id （严格匹配）</li>
<li>[attr=value] （属性选择器，等号前面加浪线，就表示像class一样，可以支持拿空格分隔的值的序列，如果前面加单竖线表示这个属性以这个值开头即可，属性选择器强大，如果对优先级没有考虑可以代替class id</li>
<li>:hover （伪类选择器，元素的特殊状态，跟HTML属性也没有关系，多半来自于交互；带函数的伪类选择器）</li>
<li>::before (伪元素选择器，选中一些原本不存在的元素，如果不选就不存在一个元素)</li>
</ul>
<p>注：<br>HTML命名空间</p>
<ul>
<li>HTML</li>
<li>SVG</li>
<li>MathML<br>如果想选SVG里面的特定元素或MathML里面特定的元素，必须要用到单竖线（命名空间分隔符）<br>HTML命名空间分隔符是冒号<br>SVG 标签里面有一个跟HTML重名的a标签</li>
</ul>
<h4 id="复合选择器"><a href="#复合选择器" class="headerlink" title="复合选择器"></a>复合选择器</h4><ul>
<li>&lt;简单选择器&gt;&lt;简单选择器&gt;&lt;简单选择器&gt;</li>
<li><ul>
<li>或者 div 必须写在最前面</li>
</ul>
</li>
</ul>
<h4 id="复杂选择器"><a href="#复杂选择器" class="headerlink" title="复杂选择器"></a>复杂选择器</h4><ul>
<li>&lt;复合选择器&gt; <sp> &lt;复合选择器&gt;</li>
<li>&lt;复合选择器&gt; “ &gt; “ &lt;复合选择器&gt;</li>
<li>&lt;复合选择器&gt; “ ~ “ &lt;复合选择器&gt;</li>
<li>&lt;复合选择器&gt; “ + “ &lt;复合选择器&gt;</li>
<li>&lt;复合选择器&gt; “ || “ &lt;复合选择器&gt;</li>
</ul>
<h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><img src="/2020/07/10/advanced/css02.png" class="">

<h3 id="伪类"><a href="#伪类" class="headerlink" title="伪类"></a>伪类</h3><p>链接/行为</p>
<ul>
<li>:any-link</li>
<li>:link :visited</li>
<li>:hover</li>
<li>:active</li>
<li>:focus</li>
<li>:target</li>
</ul>
<p>树结构</p>
<ul>
<li>:empty</li>
<li>:nth-child()</li>
<li>:nth-last-child()</li>
<li>:first-child :last-child :only-child</li>
</ul>
<p>逻辑型</p>
<ul>
<li>:not伪类</li>
<li>:where :has</li>
</ul>
<p>选择器写的复杂，意味HTML结构写的不合理</p>
<h3 id="伪元素"><a href="#伪元素" class="headerlink" title="伪元素"></a>伪元素</h3><p>给页面添加修饰性的内容</p>
<ul>
<li>::before</li>
<li>::after</li>
<li>::first-line</li>
<li>::first-letter</li>
</ul>
<img src="/2020/07/10/advanced/css03.png" class="">
<img src="/2020/07/10/advanced/css04.png" class="">

<h2 id="CSS排版"><a href="#CSS排版" class="headerlink" title="CSS排版"></a>CSS排版</h2><h3 id="盒-box"><a href="#盒-box" class="headerlink" title="盒(box)"></a>盒(box)</h3><img src="/2020/07/10/advanced/css05.png" class="">

<h3 id="正常流"><a href="#正常流" class="headerlink" title="正常流"></a>正常流</h3><p>Normal Flow</p>
<p>正常流排版</p>
<ul>
<li>收集盒进行</li>
<li>计算盒在行中的排版</li>
<li>计算行的排布</li>
</ul>
<p>BFC IFC</p>
<img src="/2020/07/10/advanced/css06.png" class="">
<p>正常流里面有两种 Formatting Context</p>
<ul>
<li>块格式化上下文（Block Formatting Context，BFC）</li>
<li>行级格式化上下文（Inline Formatting Context，IFC）</li>
</ul>
<p>文字只能放IFC里</p>
<h4 id="行级排布"><a href="#行级排布" class="headerlink" title="行级排布"></a>行级排布</h4><p>基线对齐</p>
<img src="/2020/07/10/advanced/css07.png" class="">

<h5 id="文字在字体里面的定义"><a href="#文字在字体里面的定义" class="headerlink" title="文字在字体里面的定义"></a>文字在字体里面的定义</h5><p>文字有宽和高，加上基线</p>
<img src="/2020/07/10/advanced/css08.png" class="">
<p>origin 就是基线<br>yMin 就是基线到低缘的距离<br>bearingX 决定了一个默认的字间距<br>advance  整个占的空间</p>
<h5 id="行模型"><a href="#行模型" class="headerlink" title="行模型"></a>行模型</h5><p>line-top<br>text-top<br>base-line    以英文为主，用来对齐的线<br>text-bottom   top,bottom 只要字体大小不变，它们就不变；如果使用多种字体混排，top和bottom是由fontSize最大的一个字体决定的; 文字的上缘下缘是两条固定的线<br>line-bottom   如果行高是大于文字的高度的时候；如果和盒混排会涉及line-top,bottom偏移的问题；盒的先后顺序和盒的尺寸都会影响line-top,bottom这个位置，盒不影响text-top,bottom</p>
<p>第一个特别注意的问题<br>行内盒 inline-block 它的基线是随着自己里面的文字去变化的；不建议给行内盒使用基线对齐的；使用vertical-align</p>
<h4 id="块级排布"><a href="#块级排布" class="headerlink" title="块级排布"></a>块级排布</h4><h5 id="float与clear"><a href="#float与clear" class="headerlink" title="float与clear"></a>float与clear</h5><p>clear：找一块干净的空间，浮动</p>
<p>老一辈用float clear排版<br>重排行为</p>
<h4 id="margin折叠"><a href="#margin折叠" class="headerlink" title="margin折叠"></a>margin折叠</h4><p>从上往下排，受盒模型影响</p>
<img src="/2020/07/10/advanced/css09.png" class="">
<p>叠出来的高度跟最大的margin的高度相等，这个现象叫margin collapse, 也叫留白的折叠现象，也叫边距折叠。<br>古老的印刷行业也是这种排版体系。<br>注意：只会发生在BFC里面</p>
<p>单看float ，单看边距折叠，单看BFC 都不难。如果三个现象叠加到一起，就是古代前端的最大难题。现在面试BFC也是在这里面</p>
<h4 id="BFC合并"><a href="#BFC合并" class="headerlink" title="BFC合并"></a>BFC合并</h4><p>正常流最困难的部分</p>
<h5 id="Block"><a href="#Block" class="headerlink" title="Block"></a>Block</h5><ul>
<li>Block Container: CSS2.1标准里面定义的；里面有BFC的<ul>
<li>能容纳正常流的盒，里面就有BFC</li>
</ul>
</li>
<li>Block-level Box：外面有BFC的</li>
<li>Block Box = Block Container + Block-level Box: 里外都有BFC的<ul>
<li>这个不能理解，就无法理解BFC合并现象</li>
</ul>
</li>
</ul>
<h5 id="Block-Container"><a href="#Block-Container" class="headerlink" title="Block Container"></a>Block Container</h5><p>基本上是一些 display 这样的效果</p>
<ul>
<li>block</li>
<li>inline-block</li>
<li>table-cell (table-row 不是)</li>
<li>flex item (display: flex, 子元素如果没有特殊的display)</li>
<li>grid cell</li>
<li>table-caption (表格的标题)</li>
</ul>
<p>所有能够容纳里面不是特殊的display的模式的，它里面默认就是正常流</p>
<h5 id="Block-level-Box"><a href="#Block-level-Box" class="headerlink" title="Block-level Box"></a>Block-level Box</h5><img src="/2020/07/10/advanced/css10.png" class="">

<h5 id="设立BFC"><a href="#设立BFC" class="headerlink" title="设立BFC"></a>设立BFC</h5><p>什么时候什么样的盒，它会创建BFC呢，Establish BFC</p>
<ul>
<li>floats</li>
<li>absolutely positioned element</li>
<li>block containers(such as inline-blocks, table-cells, and table-captions)<br>that are not block boxes,<ul>
<li>flex items</li>
<li>grid cell</li>
<li>……</li>
</ul>
</li>
<li>and block boxes with ‘overflow’ other than ‘visible’</li>
</ul>
<p>换一个角度记：<br>默认这些能容纳正常流的盒，都认为它会创建 BFC，但是只有一种情况例外，就是 Block Box 里外都是 BFC<br>并且 overflow 是 visible</p>
<h5 id="BFC合并-1"><a href="#BFC合并-1" class="headerlink" title="BFC合并"></a>BFC合并</h5><ul>
<li>block box &amp;&amp; overflow: visible<ul>
<li>BFC合并与float</li>
<li>BFC合并与边距折叠</li>
</ul>
</li>
</ul>
<h3 id="Flex排版"><a href="#Flex排版" class="headerlink" title="Flex排版"></a>Flex排版</h3><ul>
<li>收集盒进行</li>
<li>计算盒在主轴方向的排布</li>
<li>计算盒在交叉轴方向的排布</li>
</ul>
<h2 id="动画与绘制"><a href="#动画与绘制" class="headerlink" title="动画与绘制"></a>动画与绘制</h2><h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><p>CSS控制表现</p>
<ul>
<li>控制元素的位置和尺寸的信息</li>
<li>控制绘制和最后实际看到的渲染的信息</li>
<li>交互与动画的信息</li>
</ul>
<h4 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h4><p>动画</p>
<ul>
<li>@keyframes定义</li>
<li>animation：使用</li>
</ul>
<p>animation 六个属性的集合</p>
<ul>
<li>animation-name 时间曲线</li>
<li>animation-duration 动画的时长</li>
<li>animation-timing-function 动画的时间曲线</li>
<li>animation-delay 动画开始前的延迟</li>
<li>animation-iteration-count 动画的播放次数</li>
<li>animation-direction 动画的方向</li>
</ul>
<p>@keyframes</p>
<ul>
<li>百分比</li>
<li>from to  （from大致相等于 0%；to 100%）</li>
</ul>
<h4 id="Transition"><a href="#Transition" class="headerlink" title="Transition"></a>Transition</h4><p>属性</p>
<ul>
<li>transition-property 要变换的属性</li>
<li>transition-duration 变换的时长</li>
<li>transition-timing-function 时间曲线</li>
<li>transition-delay 延迟</li>
</ul>
<h5 id="timing-function"><a href="#timing-function" class="headerlink" title="timing-function"></a>timing-function</h5><p>来自<a target="_blank" rel="noopener" href="https://cubic-bezier.com/#.17,.67,.83,.67">三次贝塞尔曲线</a><br>一次贝塞尔曲线是直线</p>
<h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><h4 id="HSV"><a href="#HSV" class="headerlink" title="HSV"></a>HSV</h4><h3 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h3><ul>
<li><p>几何图形</p>
<ul>
<li>border</li>
<li>box-shadow</li>
<li>border-radius</li>
</ul>
</li>
<li><p>文字</p>
<ul>
<li>font</li>
<li>text-decoration</li>
</ul>
</li>
<li><p>位图</p>
<ul>
<li>background-image</li>
</ul>
</li>
</ul>
<h4 id="应用技巧"><a href="#应用技巧" class="headerlink" title="应用技巧"></a>应用技巧</h4><ul>
<li>data uri + svg</li>
<li>data:image/svg+xml,<svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg"><ellipse cx="300" cy="150" rx="200" ry="80" style="fill:rgb(200,100,50);
stroke:rgb(0,0,100);stroke-width:2"/></svg></li>
</ul>
<p>svg 专业的矢量图格式<br>svg 支持path</p>
<p>最后分类：layout和render下一层</p>
<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><p>源流来自：XML 、 SGML（两种语言是HTML的超集）<br>H5以后，变成独立的语言</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><h3 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h3><p>DTD：文档类型定义<br><a target="_blank" rel="noopener" href="https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</a></p>
<h3 id="XHTML"><a href="#XHTML" class="headerlink" title="XHTML"></a>XHTML</h3><p><a target="_blank" rel="noopener" href="https://www.w3.org/1999/xhtml/">https://www.w3.org/1999/xhtml/</a></p>
<p>HTML严格写法，每个标签都必须严格闭合，可以写XHTML版本的HTML5</p>
<h3 id="特殊字符-special"><a href="#特殊字符-special" class="headerlink" title="特殊字符 special"></a>特殊字符 special</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="symbol">&amp;#955;</span> <span class="symbol">&amp;#945;</span> <span class="symbol">&amp;#946;</span> <span class="symbol">&amp;#947;</span> <span class="symbol">&amp;#937;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">λ α β γ Ω</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="symbol">&amp;lambda;</span> <span class="symbol">&amp;alpha;</span> <span class="symbol">&amp;beta;</span> <span class="symbol">&amp;gamma;</span> <span class="symbol">&amp;omega;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">λ α β γ ω</span><br></pre></td></tr></table></figure>

<p>必须记住的，如果直接写在html里会报错</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="symbol">&amp;quot;</span> <span class="symbol">&amp;amp;</span> <span class="symbol">&amp;lt;</span> <span class="symbol">&amp;gt;</span> <span class="symbol">&amp;apos;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&quot; &amp; &lt; &gt; &#x27;</span><br></pre></td></tr></table></figure>

<h2 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h2><h2 id="DOM-API"><a href="#DOM-API" class="headerlink" title="DOM API"></a>DOM API</h2><p>DOM 掌握最高标准：灵活运用 range 和 fragment</p>
<h3 id="事件API"><a href="#事件API" class="headerlink" title="事件API"></a>事件API</h3><p>Event：冒泡与捕获<br>先捕获后冒泡</p>
<p>addEventListener 默认监听冒泡事件，false<br>addEventListener 第三个参数 ture，捕获事件</p>
<h4 id="阻止冒泡"><a href="#阻止冒泡" class="headerlink" title="阻止冒泡"></a>阻止冒泡</h4><p>window.event ? window.event.cancelBubble = true : e.stopPropagation();</p>
<h3 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h3><p>操作半个节点或批量节点<br>对DOM树操作，万能的API</p>
<p>range: 范围<br>有起始点和终止点，range是不能跳的</p>
<h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> range = <span class="keyword">new</span> <span class="title class_">Range</span>();</span><br></pre></td></tr></table></figure>

<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p>由于节点换行、缩进，会产生很多空白节点<br>现操作某节点前后</p>
<ul>
<li>range.setStart(node, length)</li>
<li>range.setEnd(node, length)</li>
<li>range.setStartBefore</li>
<li>range.setEndBefore</li>
<li>range.setStartAfter</li>
<li>range.setEndAfter</li>
<li>range.selectNode</li>
<li>range.selectNodeContents</li>
</ul>
<p>取出range里面的内容（删）<br>let fragment = range.extractContents()<br>fragment node的子类</p>
<p>插入新的节点（增）<br>range.insertNode(document.createTextNode(‘aaa’))</p>
<p>移除半个节点，会自动补上标签</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;b&quot;</span>&gt;<span class="number">123</span>&lt;span style=<span class="string">&quot;background-color: pink;&quot;</span>&gt;<span class="number">456789</span>&lt;<span class="regexp">/span&gt;0123456789&lt;/</span>div&gt;</span><br><span class="line">range.<span class="title function_">setStart</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;a&#x27;</span>).<span class="property">childNodes</span>[<span class="number">1</span>].<span class="property">childNodes</span>[<span class="number">0</span>], <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h1 id="编程与算法训练"><a href="#编程与算法训练" class="headerlink" title="编程与算法训练"></a>编程与算法训练</h1><p>包含跟语音特性强相关 和 经典算法题；核心提升编程能力</p>
<h2 id="TicTacToe"><a href="#TicTacToe" class="headerlink" title="TicTacToe"></a>TicTacToe</h2><p>井字棋，三字旗</p>
<p>小技巧：问好表达式，多个条件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">innerText =</span><br><span class="line">  pattern[j][i] == <span class="number">2</span> ? <span class="string">&#x27;❌&#x27;</span> : </span><br><span class="line">  pattern[j][i] == <span class="number">1</span> ？ <span class="string">&#x27;⭕️&#x27;</span>: <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="clone-棋盘"><a href="#clone-棋盘" class="headerlink" title="clone 棋盘"></a>clone 棋盘</h3><p>二维数组<br>let pattern = [<br>    [0, 0, 0],<br>    [0, 0, 0],<br>    [0, 0, 0]<br>  ]<br>用：<br>function clone(pattern){<br>    return JSON.parse(JSON.stringify(pattern));<br>  }</p>
<p>一维数组<br>let pattern = [<br>    0, 0, 0,<br>    0, 0, 0,<br>    0, 0, 0<br>]<br>function clone(pattern){<br>  return Object.create(pattern);<br>}</p>
<h2 id="异步编程"><a href="#异步编程" class="headerlink" title="异步编程"></a>异步编程</h2><h3 id="红绿灯"><a href="#红绿灯" class="headerlink" title="红绿灯"></a>红绿灯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;light&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> time = <span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())/<span class="number">1000</span>;</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> sty = dom.<span class="property">currentStyle</span> || <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(dom, <span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">if</span> (sty.<span class="property">backgroundColor</span> == <span class="string">&#x27;rgb(255, 0, 0)&#x27;</span> &amp;&amp; time + <span class="number">5</span> == <span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())/<span class="number">1000</span>) &#123;</span><br><span class="line">    <span class="title function_">change</span>(<span class="string">&#x27;rgb(0, 128, 0)&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (sty.<span class="property">backgroundColor</span> == <span class="string">&#x27;rgb(255, 255, 0)&#x27;</span> &amp;&amp; time + <span class="number">2</span> == <span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())/<span class="number">1000</span>) &#123;</span><br><span class="line">    <span class="title function_">change</span>(<span class="string">&#x27;rgb(255, 0, 0)&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (sty.<span class="property">backgroundColor</span> == <span class="string">&#x27;rgb(0, 128, 0)&#x27;</span> &amp;&amp; time + <span class="number">10</span> == <span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())/<span class="number">1000</span>) &#123;</span><br><span class="line">    <span class="title function_">change</span>(<span class="string">&#x27;rgb(255, 255, 0)&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">change</span>(<span class="params">color</span>) &#123;</span><br><span class="line">  time = <span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())/<span class="number">1000</span>;</span><br><span class="line">  dom.<span class="property">style</span>.<span class="property">backgroundColor</span> = color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="base"><a href="#base" class="headerlink" title="base"></a>base</h3><p>js异步机制</p>
<ul>
<li>callback</li>
<li>Promise</li>
<li>async/await （实际上也是靠Promise管理的）</li>
</ul>
<h3 id="winter写法"><a href="#winter写法" class="headerlink" title="winter写法"></a>winter写法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">div</span>&#123;&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.green</span><span class="selector-class">.light</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;green&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;yellow&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="callback"><a href="#callback" class="headerlink" title="callback"></a>callback</h4><p>回调地狱</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">go</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">green</span>()</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">yellow</span>()</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="title function_">red</span>()</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">go</span>()</span><br><span class="line">      &#125;, <span class="number">5000</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;, <span class="number">10000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sleep</span>(<span class="params">t</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(resolve, t);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 链式的表达式代替 回调</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">go</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">green</span>();</span><br><span class="line">  <span class="title function_">sleep</span>(<span class="number">1000</span>).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">yellow</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">sleep</span>(<span class="number">200</span>);</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">red</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">sleep</span>(<span class="number">500</span>);</span><br><span class="line">  &#125;).<span class="title function_">then</span>(go);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">go</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="title function_">green</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">1000</span>);</span><br><span class="line">    <span class="title function_">yellow</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">300</span>);</span><br><span class="line">    <span class="title function_">red</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>手动控制(路口道路拥挤，交警需要手动调控)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">happen</span>(<span class="params">element, eventName</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    element.<span class="title function_">addEventListener</span>(eventName, resolve, &#123;<span class="attr">once</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">go</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="title function_">green</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">happen</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;next&#x27;</span>), <span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">    <span class="title function_">yellow</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">happen</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;next&#x27;</span>), <span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">    <span class="title function_">red</span>();</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">happen</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;next&#x27;</span>), <span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="generator模拟async-await"><a href="#generator模拟async-await" class="headerlink" title="generator模拟async/await"></a>generator模拟async/await</h4><p>早起人们的智慧</p>
<h2 id="寻路"><a href="#寻路" class="headerlink" title="寻路"></a>寻路</h2><ul>
<li>广度优先搜索算法（深度优先搜索）</li>
<li>有UI部分</li>
</ul>
<h3 id="地图编辑器"><a href="#地图编辑器" class="headerlink" title="地图编辑器"></a>地图编辑器</h3><h1 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h1><p>前端架构里面最重要的部分<br>组件化决定了一个前端团队的复用率（提高复用率，写代码的时候少很多心智负担）</p>
<h2 id="前端架构热门的两个话题"><a href="#前端架构热门的两个话题" class="headerlink" title="前端架构热门的两个话题"></a>前端架构热门的两个话题</h2><h3 id="组件化-1"><a href="#组件化-1" class="headerlink" title="组件化"></a>组件化</h3><p>从扩展html标签，引申出来的前端架构体系，主要目标复用</p>
<h3 id="架构模式"><a href="#架构模式" class="headerlink" title="架构模式"></a>架构模式</h3><p>MVC MVVM<br>前端跟数据逻辑层之间，如何去交互</p>
<h4 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h4><p>MVVM（Model–view–viewmodel）是一种软件架构模式。<br>View &lt;-&gt; ViewModel &lt;-&gt; Model<br>视图模型：中介<br>模型：数据中心<br>视图：外观（UI）</p>
<h2 id="组件的基本概念和基本组成部分"><a href="#组件的基本概念和基本组成部分" class="headerlink" title="组件的基本概念和基本组成部分"></a>组件的基本概念和基本组成部分</h2><h3 id="Attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h3><p>属性<br>attribute： 强调描述性<br>property:  强调从属关系</p>
<h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><p>react</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>jsx是babel的插件</p>
<h2 id="parser"><a href="#parser" class="headerlink" title="parser"></a>parser</h2><p>vue</p>
<h1 id="工具链"><a href="#工具链" class="headerlink" title="工具链"></a>工具链</h1><p>如何为javascript环境制作一套工具链，覆盖前端开发的各个环节<br>所有工具的开端就是脚手架</p>
<p>generator: 脚手架；（直释：发电机，生产者）</p>
<h2 id="yeoman"><a href="#yeoman" class="headerlink" title="yeoman"></a>yeoman</h2><p>yeoman.io<br>脚手架的生成器<br>通过命令行去跟用户交互</p>
<h3 id="命令行交互"><a href="#命令行交互" class="headerlink" title="命令行交互"></a>命令行交互</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> answers = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">prompt</span>([</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;input&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;name&quot;</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&quot;Your project name&quot;</span>,</span><br><span class="line">    <span class="attr">default</span>: <span class="variable language_">this</span>.<span class="property">appname</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;confirm&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;cool&#x27;</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;Would you like to enable the Cool Feature?&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">]);</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">&#x27;app name&#x27;</span>, answers.<span class="property">name</span>);</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">log</span>(<span class="string">&#x27;cool feature&#x27;</span>, answers.<span class="property">cool</span>);</span><br></pre></td></tr></table></figure>

<h3 id="新建文件"><a href="#新建文件" class="headerlink" title="新建文件"></a>新建文件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">fs</span>.<span class="title function_">copyTpl</span>(</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">templatePath</span>(<span class="string">&#x27;t.html&#x27;</span>),</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">destinationPath</span>(<span class="string">&#x27;public/index.html&#x27;</span>),</span><br><span class="line">  &#123; <span class="attr">title</span>: <span class="string">&#x27;Templating with Yeoman&#x27;</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="initPackage"><a href="#initPackage" class="headerlink" title="initPackage"></a>initPackage</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pkgJson = &#123;</span><br><span class="line">  <span class="attr">devDependencies</span>: &#123;</span><br><span class="line">    <span class="attr">eslint</span>: <span class="string">&#x27;^3.15.0&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">dependencies</span>: &#123;</span><br><span class="line">    <span class="attr">react</span>: <span class="string">&#x27;^16.2.0&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">fs</span>.<span class="title function_">extendJSON</span>(<span class="variable language_">this</span>.<span class="title function_">destinationPath</span>(<span class="string">&#x27;package.json&#x27;</span>), pkgJson);</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">npmInstall</span>();</span><br></pre></td></tr></table></figure>

<h1 id="发布系统"><a href="#发布系统" class="headerlink" title="发布系统"></a>发布系统</h1><p>包含：<br>线上服务系统（用户使用）<br>程序员发布系统<br>发布工具（命令行工具）</p>
<h2 id="线上服务器"><a href="#线上服务器" class="headerlink" title="线上服务器"></a>线上服务器</h2><p>编写代码部署到服务器上<br>把一个Express服务器，部署到线上</p>
<h3 id="初始化一个项目"><a href="#初始化一个项目" class="headerlink" title="初始化一个项目"></a>初始化一个项目</h3><p>npx express-generator</p>
<h2 id="发布服务"><a href="#发布服务" class="headerlink" title="发布服务"></a>发布服务</h2><p>发布服务器和发布工具构成</p>
<h3 id="publish-server"><a href="#publish-server" class="headerlink" title="publish-server"></a>publish-server</h3><p>向真实的server，copy自己的文件<br>向</p>
<h4 id="搭建"><a href="#搭建" class="headerlink" title="搭建"></a>搭建</h4><p>可以使用express和koa框架<br>这里使用http api</p>
<p>request和response都是流式处理</p>
<p>把文件通过HTTP的方式，传给我们的发布的服务器<br>publish-tool ——&gt; publish-server</p>
<h4 id="了解Node里面的流"><a href="#了解Node里面的流" class="headerlink" title="了解Node里面的流"></a>了解Node里面的流</h4><p>第一种方式是可读的流：用nodejs代码可以从流里面获取数据<br><a target="_blank" rel="noopener" href="https://nodejs.org/docs/latest-v13.x/api/stream.html#stream_class_stream_writable">node流</a></p>
<p>秒级的HTTP请求 与 工具型request传输 几分钟</p>
<h3 id="publish-tool"><a href="#publish-tool" class="headerlink" title="publish-tool"></a>publish-tool</h3><p>Content-Type: HTTP RFC标准</p>
<p>以package.json为例，学习流式传输<br><a target="_blank" rel="noopener" href="https://nodejs.org/docs/latest-v13.x/api/stream.html#stream_class_stream_readable">node pipe 流</a></p>
<h3 id="多文件压缩包传输"><a href="#多文件压缩包传输" class="headerlink" title="多文件压缩包传输"></a>多文件压缩包传输</h3><p>npm包<br>archiver<br>unzipper</p>
<h2 id="三个项目"><a href="#三个项目" class="headerlink" title="三个项目"></a>三个项目</h2><p>发布工具<br>发布系统<br>线上服务系统</p>
<h2 id="发布系统部署"><a href="#发布系统部署" class="headerlink" title="发布系统部署"></a>发布系统部署</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/09/package-manage-tool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/09/package-manage-tool/" class="post-title-link" itemprop="url">yarn</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-09 16:41:21" itemprop="dateCreated datePublished" datetime="2020-07-09T16:41:21+08:00">2020-07-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tool/" itemprop="url" rel="index"><span itemprop="name">Tool</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Yarn"><a href="#Yarn" class="headerlink" title="Yarn"></a>Yarn</h1><p>一、安装<br>brew install yarn</p>
<p>升级<br>brew upgrade yarn</p>
<p>查看版本<br>yarn –version</p>
<p>二、使用<br>初始化新项目<br>yarn init</p>
<p>添加依赖包<br>yarn add [package]<br>yarn add [package]@[version]<br>yarn add [package]@[tag]</p>
<p>yarn add [package] –dev</p>
<p>yarn add ssh://<a href="mailto:&#x67;&#105;&#116;&#64;&#99;&#x6f;&#x64;&#x65;&#x2e;&#97;&#x70;&#111;&#x77;&#111;&#46;&#x63;&#x6f;&#109;">&#x67;&#105;&#116;&#64;&#99;&#x6f;&#x64;&#x65;&#x2e;&#97;&#x70;&#111;&#x77;&#111;&#46;&#x63;&#x6f;&#109;</a>:opensource/cordova-hot-code-push-cli.git</p>
<p>升级依赖包<br>yarn upgrade [package]<br>yarn upgrade [package]@[version]<br>yarn upgrade [package]@[tag]</p>
<p>yarn upgrade webpack@^5.37.1 –dev</p>
<p>移除依赖包<br>yarn remove [package]</p>
<p>安装项目依赖<br>yarn</p>
<p>cofig<br>yarn config list</p>
<h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><p>yarn config set proxy <a target="_blank" rel="noopener" href="http://xx/">http://XX</a><br>yarn config set https-proxy <a target="_blank" rel="noopener" href="http://xx/">http://XX</a></p>
<h2 id="源"><a href="#源" class="headerlink" title="源"></a>源</h2><p>查看</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn config get registry https://registry.yarnpkg.com</span><br></pre></td></tr></table></figure>

<p>换源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ yarn config set registry &#x27;https://registry.npm.taobao.org&#x27;</span><br><span class="line">yarn config v1.22.4</span><br><span class="line">success Set &quot;registry&quot; to &quot;https://registry.npm.taobao.org&quot;.</span><br><span class="line">✨  Done in 0.03s.</span><br></pre></td></tr></table></figure>

<h2 id="link"><a href="#link" class="headerlink" title="link"></a>link</h2><h2 id="niekaifa-Mac-mini-in-workspace-apowo-game-core-on-git-dev-x-11-31-10"><a href="#niekaifa-Mac-mini-in-workspace-apowo-game-core-on-git-dev-x-11-31-10" class="headerlink" title="niekaifa @ Mac-mini in ~/workspace/apowo/game-core on git:dev x [11:31:10]"></a>niekaifa @ Mac-mini in ~/workspace/apowo/game-core on git:dev x [11:31:10]</h2><p>$ yarn link</p>
<p>改变依赖路径<br>yarn link game-capsule</p>
<p>link suc：<br>node_modules game-capsule 出现 ↵ 字符</p>
<p>查看link 文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l node_modules | grep ^l</span><br><span class="line">lrwxr-xr-x    1 niekaifa  staff     42  8  3 16:41 game-capsule -&gt; ../../../../.config/yarn/link/game-capsule</span><br></pre></td></tr></table></figure>

<h2 id="module-to-local"><a href="#module-to-local" class="headerlink" title="module to local"></a>module to local</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">link</span><br></pre></td></tr></table></figure>

<h2 id="取消link"><a href="#取消link" class="headerlink" title="取消link"></a>取消link</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn unlink game-core</span><br></pre></td></tr></table></figure>

<h2 id="查看link"><a href="#查看link" class="headerlink" title="查看link"></a>查看link</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l node_modules | grep ^l</span><br></pre></td></tr></table></figure>

<h2 id="解除link后"><a href="#解除link后" class="headerlink" title="解除link后"></a>解除link后</h2><p>yarn install –force</p>
<h2 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h2><p>版本好自动 + 1<br>yarn version –major<br>yarn version –minor<br>yarn version –patch</p>
<p><a target="_blank" rel="noopener" href="https://classic.yarnpkg.com/en/docs/cli/version/">https://classic.yarnpkg.com/en/docs/cli/version/</a></p>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ yarn cache dir</span><br><span class="line">/Users/niekaifa/Library/Caches/Yarn/v6</span><br><span class="line"></span><br><span class="line"># error</span><br><span class="line">## Couldn&#x27;t find match for in &quot;refs/heads/Talkie,refs/heads/audit</span><br><span class="line">Couldn&#x27;t find match for &quot;2811863d46248ffea1013be2ba97884a0da46fd0&quot; in &quot;refs/heads/Talkie,refs/heads/audit,</span><br><span class="line"></span><br><span class="line">解决办法:</span><br><span class="line">yarn cache clean</span><br></pre></td></tr></table></figure>

<h1 id="Pnpm"><a href="#Pnpm" class="headerlink" title="Pnpm"></a>Pnpm</h1><p>解决的问题：yarn复制包到node_modules里面</p>
<h2 id="cli"><a href="#cli" class="headerlink" title="cli"></a>cli</h2><h3 id="项目内全局安装"><a href="#项目内全局安装" class="headerlink" title="项目内全局安装"></a>项目内全局安装</h3><p>pnpm i eslint -w</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/08/nginx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/08/nginx/" class="post-title-link" itemprop="url">nginx</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-08 10:18:01" itemprop="dateCreated datePublished" datetime="2020-07-08T10:18:01+08:00">2020-07-08</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="base"><a href="#base" class="headerlink" title="base"></a>base</h1><p>ng conf</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>  <span class="number">8071</span>;</span><br><span class="line">    <span class="attribute">server_name</span>   localhost;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span>    /home/remote/pkt-ng/dist;</span><br><span class="line">        <span class="attribute">index</span> index.html;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /m/index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="查看服务器是否安装nginx"><a href="#查看服务器是否安装nginx" class="headerlink" title="查看服务器是否安装nginx"></a>查看服务器是否安装nginx</h1><p>which nginx<br>没有安装会返回空<br>安装了会返回路径</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:~<span class="comment"># which nginx</span></span><br><span class="line">/usr/sbin/nginx</span><br><span class="line"></span><br><span class="line">root@quick-hat-1:~<span class="comment"># nginx -v</span></span><br><span class="line">nginx version: nginx/1.10.3 (Ubuntu)</span><br><span class="line"></span><br><span class="line">root@quick-hat-1:~<span class="comment"># whereis nginx</span></span><br><span class="line">nginx: /usr/sbin/nginx /etc/nginx /usr/share/nginx</span><br></pre></td></tr></table></figure>

<h2 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h2><p><a target="_blank" rel="noopener" href="http://nginx.org/en/download.html">版本</a><br>Mainline version：正在开发阶段的版本，可能会有漏洞。<br>Stable version：稳定版<br>Legacy versions： 历史版本</p>
<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><p>彻底删除nginx自动生成的配置项和相关联的软件</p>
<p>停止nginx   ，nginx -s stop<br>卸载</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove nginx </span><br><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure>

<p>查询和nginx相关的自动安装的软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg --get- selections|grep nginx</span><br></pre></td></tr></table></figure>

<p>查询的结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx-common deinstall </span><br></pre></td></tr></table></figure>

<p>卸载该软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove nginx-common </span><br></pre></td></tr></table></figure>

<h2 id="linux安装最新版"><a href="#linux安装最新版" class="headerlink" title="linux安装最新版"></a>linux安装最新版</h2><p>安装或升级<br>需要添加源才能下载Nginx的稳定版本<br>首先输入以下两条命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo wget http://nginx.org/keys/nginx_signing.key</span><br><span class="line">sudo apt-key add nginx_signing.key</span><br></pre></td></tr></table></figure>

<p>在 /etc/apt/sources.list 文件中加入下面两行：<br>deb <a target="_blank" rel="noopener" href="http://nginx.org/packages/ubuntu/">http://nginx.org/packages/ubuntu/</a> codename nginx<br>deb-src <a target="_blank" rel="noopener" href="http://nginx.org/packages/ubuntu/">http://nginx.org/packages/ubuntu/</a> codename nginx<br>注意 codename 要根据系统来选择<a target="_blank" rel="noopener" href="http://nginx.org/en/linux_packages.html#stable">系统</a><br>sudo vim /etc/apt/sources.list</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://nginx.org/packages/ubuntu/ kinetic nginx</span><br><span class="line">deb-src http://nginx.org/packages/ubuntu/ kinetic nginx</span><br></pre></td></tr></table></figure>

<p>安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install nginx</span><br></pre></td></tr></table></figure>

<p>查看</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@VM-0-4-ubuntu:/home# nginx -v</span><br><span class="line">nginx version: nginx/1.22.1</span><br></pre></td></tr></table></figure>

<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><p>启动<br>systemctl start nginx<br>nginx -s start;</p>
<p>启动成功后浏览器输入ip，显示相应信息</p>
<img src="/2020/07/08/nginx/nginx1.png" class="">

<p>重启<br>systemctl restart nginx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:/etc/nginx/sites-enabled<span class="comment"># nginx -s reload</span></span><br></pre></td></tr></table></figure>


<p>停止<br>systemctl stop nginx<br>nginx -s stop;</p>
<p>开机自启（保证可持续提供服务）<br>systemctl enable nginx</p>
<p>卸载<br>apt-get –purge remove nginx</p>
<p>检测语法<br>修改配置后，可以通过下面的命令测试是否有语法错误<br>nginx -t;</p>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>/ect是linux下专门用来放配置文件的一个目录</p>
<h2 id="nginx-默认页面"><a href="#nginx-默认页面" class="headerlink" title="nginx 默认页面"></a>nginx 默认页面</h2><p>/etc/nginx/sites-enabled/default</p>
<p>root /var/www/html;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:/var/www/html<span class="comment"># ls</span></span><br><span class="line">index.nginx-debian.html</span><br></pre></td></tr></table></figure>

<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><p>opt，optional，可选择目录<br>etc，et cetera，存放配bai置文件</p>
<h2 id="m-子目录"><a href="#m-子目录" class="headerlink" title="/m/ 子目录"></a>/m/ 子目录</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen       8075;</span><br><span class="line">  server_name  localhost;</span><br><span class="line"></span><br><span class="line">  #charset koi8-r;</span><br><span class="line">  #access_log  /var/log/nginx/host.access.log  main;</span><br><span class="line"></span><br><span class="line">  location /m/&#123;</span><br><span class="line">    alias /data/;</span><br><span class="line">    add_header Access-Control-Allow-Origin *;</span><br><span class="line">    add_header Access-Control-Allow-Methods &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class="line">    add_header Access-Control-Allow-Headers &#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&#x27;;</span><br><span class="line">    index  index.html index.htm;</span><br><span class="line">    try_files $uri $uri/ /m/index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><h2 id="本地文件复制到服务器"><a href="#本地文件复制到服务器" class="headerlink" title="本地文件复制到服务器"></a>本地文件复制到服务器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ scp -r -P 29847 dist root@96.45.180.121:/opt </span><br><span class="line">root@96.45.180.121<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string">index.html              100%  234     1.1KB/s   00:00    </span></span><br><span class="line"><span class="string">bundle.min.js           100%   99KB  16.7KB/s   00:05 </span></span><br></pre></td></tr></table></figure>

<p>Linux scp 命令用于 Linux 之间复制文件和目录。<br>scp 是 secure copy 的缩写, scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。<br>scp 是加密的，rcp 是不加密的，scp 是 rcp 的加强版。</p>
<h2 id="修改服务器nginx配置文件"><a href="#修改服务器nginx配置文件" class="headerlink" title="修改服务器nginx配置文件"></a>修改服务器nginx配置文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@quick-hat-1:/etc/nginx/sites-enabled<span class="comment"># vim default</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#root /var/www/html;</span></span><br><span class="line">root /opt/dist;</span><br></pre></td></tr></table></figure>

<p>浏览器输入地址：<a target="_blank" rel="noopener" href="http://96.45.180.121/">http://96.45.180.121/</a></p>
<img src="/2020/07/08/nginx/nginx2.png" class="">

<h1 id="检查"><a href="#检查" class="headerlink" title="检查"></a>检查</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@web:/etc/nginx/sites-enabled$ sudo nginx -t -c /etc/nginx/nginx.conf</span><br><span class="line">nginx: [emerg] invalid number of arguments in &quot;root&quot; directive in /etc/nginx/conf.d/tooqing-cms.conf:8</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf test failed</span><br></pre></td></tr></table></figure>

<h1 id="转发"><a href="#转发" class="headerlink" title="转发"></a>转发</h1><p>server {<br>    listen  8081;<br>    server_name   localhost;</p>
<pre><code>location / &#123;
    root    /home/kil/dist;
&#125;

location /cdn/ &#123;
    proxy_pass https://a.tooqing.com/game/resource/;
&#125;
</code></pre>
<p>}</p>
<h1 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h1><p>/var/log/nginx# cat access.log</p>
<h1 id="ssl"><a href="#ssl" class="headerlink" title="ssl"></a>ssl</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    include       /etc/nginx/mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    log_format  main  &#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span><br><span class="line">                      &#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span><br><span class="line">                      &#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;;</span><br><span class="line"></span><br><span class="line">    access_log  /var/log/nginx/access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line"></span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen  80;</span><br><span class="line">        server_name     localhost;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">                root    /home/remote;</span><br><span class="line">                index   index.html;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen  80;</span><br><span class="line">        server_name     kaifa.in www.kaifa.in;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">                proxy_pass http://127.0.0.1:3000;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    listen 443 ssl; # managed by Certbot</span><br><span class="line">    ssl_certificate /etc/letsencrypt/live/kaifa.in/fullchain.pem; # managed by Certbot</span><br><span class="line">    ssl_certificate_key /etc/letsencrypt/live/kaifa.in/privkey.pem; # managed by Certbot</span><br><span class="line">    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span><br><span class="line">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h2><p>准备：example.com 的A记录指向服务器公网IP</p>
<h3 id="第一步-安装Certbot"><a href="#第一步-安装Certbot" class="headerlink" title="第一步 安装Certbot"></a>第一步 安装Certbot</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install certbot python3-certbot-nginx</span><br></pre></td></tr></table></figure>
<p>选择 Y 后开始安装，安装完毕我们就可以使用 Certbot 了。<br>接下来我们要验证一下 Certbot 是否能为Nginx 自动配置 SSL。</p>
<h3 id="第二步-确认-Nginx-的配置"><a href="#第二步-确认-Nginx-的配置" class="headerlink" title="第二步 确认 Nginx 的配置"></a>第二步 确认 Nginx 的配置</h3><p>Certbot 需要能够在 Nginx 配置中找到正确的 block 才能自动配置 SSL。 具体来说，Certbot 是通过对比 server_name 与我们请求证书的域相匹配的来实现的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/nginx/</span><br></pre></td></tr></table></figure>

<p>找到server_name这一行，大概是如下的样子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">server_name example.com www.example.com;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>让我们来验证一下，配置文件是否正确。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -t</span><br><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure>

<p>接下来，让我们更新防火墙配置，让它允许HTTPS对外通信。</p>
<h3 id="第三步-让我们的防火墙允许HTTPS"><a href="#第三步-让我们的防火墙允许HTTPS" class="headerlink" title="第三步 让我们的防火墙允许HTTPS"></a>第三步 让我们的防火墙允许HTTPS</h3><p>如果你的服务器启动了防火墙，那么我们需要告诉防火墙要允许HTTPS通过。首先我们来查看一下当前状态。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br><span class="line">Status: active</span><br><span class="line"></span><br><span class="line">To                         Action      From</span><br><span class="line">--                         ------      ----</span><br><span class="line">OpenSSH                    ALLOW       Anywhere                  </span><br><span class="line">Nginx HTTP                 ALLOW       Anywhere                  </span><br><span class="line">OpenSSH (v6)               ALLOW       Anywhere (v6)             </span><br><span class="line">Nginx HTTP (v6)            ALLOW       Anywhere (v6)</span><br></pre></td></tr></table></figure>

<p>说明防火墙允许HTTPS通信。但如果你的服务器不允许，那么请执行以下命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow &#x27;Nginx Full&#x27;</span><br><span class="line">sudo ufw delete allow &#x27;Nginx HTTP&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="第4步：获取-SSL-证书"><a href="#第4步：获取-SSL-证书" class="headerlink" title="第4步：获取 SSL 证书"></a>第4步：获取 SSL 证书</h3><p>Certbot 提供了获得 SSL 的方法。Nginx Plugins（插件） 帮助我们在必要的时候重新加载配置文件。让我们来开启这个插件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot --nginx -d kaifa.in -d www.kaifa.in</span><br></pre></td></tr></table></figure>
<p>certbot与–nginx 插件一起运行，-d用于指定我们希望获得证书的域名。</p>
<p>如果我们是第一次运行，那么 Certbot 将提示我们输入邮箱并阅读服务条款。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Invalid email address: .</span><br><span class="line">Enter email address (used for urgent renewal and security notices)</span><br><span class="line"></span><br><span class="line">If you really want to skip this, you can run the client with</span><br><span class="line">--register-unsafely-without-email but make sure you then backup your account key</span><br><span class="line">from /etc/letsencrypt/accounts</span><br><span class="line"></span><br><span class="line"> (Enter &#x27;c&#x27; to cancel): nginx@kalasearch.com</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Please read the Terms of Service at</span><br><span class="line">https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must</span><br><span class="line">agree in order to register with the ACME server at</span><br><span class="line">https://acme-v02.api.letsencrypt.org/directory</span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">(A)gree/(C)ancel:</span><br></pre></td></tr></table></figure>

<p>如果这是您第一次运行certbot，将提示您输入电子邮件地址并同意服务条款。</p>
<p>完成此操作后，certbot开始与 Let’s Encrypt 服务器通信，然后开始验证我们是否是这个域名的真正拥有者。</p>
<p>如果成功，certbot 会继续询问我们如何配置HTTPS。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.</span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">1: No redirect - Make no further changes to the webserver configuration.</span><br><span class="line">2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for</span><br><span class="line">new sites, or if you&#x27;re confident your site works on HTTPS. You can undo this</span><br><span class="line">change by editing your web server&#x27;s configuration.</span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Select the appropriate number [1-2] then [enter] (press &#x27;c&#x27; to cancel): 2</span><br></pre></td></tr></table></figure>

<p>根据我们的需求来进行选择，然后回车。配置文件就会更新，Nginx 也会重新加载。Certbot 会显示一条消息，告诉我们整个过程已经完成，证书存储在服务器的什么位置上：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">IMPORTANT NOTES:</span><br><span class="line"> - Congratulations! Your certificate and chain have been saved at:</span><br><span class="line">   /etc/letsencrypt/live/example.com/fullchain.pem</span><br><span class="line">   Your key file has been saved at:</span><br><span class="line">   /etc/letsencrypt/live/example.com/privkey.pem</span><br><span class="line">   Your cert will expire on 2020-11-01. To obtain a new or tweaked</span><br><span class="line">   version of this certificate in the future, simply run certbot again</span><br><span class="line">   with the &quot;certonly&quot; option. To non-interactively renew *all* of</span><br><span class="line">   your certificates, run &quot;certbot renew&quot;</span><br><span class="line"> - If you like Certbot, please consider supporting our work by:</span><br><span class="line"></span><br><span class="line">   Donating to ISRG / Let&#x27;s Encrypt:   https://letsencrypt.org/donate</span><br><span class="line">   Donating to EFF:                    https://eff.org/donate-le</span><br></pre></td></tr></table></figure>

<h3 id="第5步：验证-Certbot-自动续订"><a href="#第5步：验证-Certbot-自动续订" class="headerlink" title="第5步：验证 Certbot 自动续订"></a>第5步：验证 Certbot 自动续订</h3><p>我们获得的加密证书只有 90 天有效期，但不用担心，Certbot会帮我们解决续订问题，它会每天运行两次systemd监测程序来检查域名证书是否快到期。如果域名证书在近 30 天到期，它会自动续订这些域名的证书。</p>
<p>我们可以输入以下命令来检查systemctl的状态：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status certbot.timer</span><br><span class="line">kalasearch@chuan-server:~$ sudo systemctl status certbot.timer</span><br><span class="line"></span><br><span class="line">● certbot.timer - Run certbot twice daily</span><br><span class="line">     Loaded: loaded (/lib/systemd/system/certbot.timer; enabled; vendor preset: enabled)</span><br><span class="line">     Active: active (waiting) since Sat 2020-08-01 03:37:47 UTC; 46min ago</span><br><span class="line">    Trigger: Sat 2020-08-01 12:54:45 UTC; 8h left</span><br><span class="line">   Triggers: ● certbot.service</span><br><span class="line"></span><br><span class="line">Aug 01 03:37:47 chuan-server systemd[1]: Started Run certbot twice daily.</span><br></pre></td></tr></table></figure>

<p>要测试域名证书的续订过程，我们可以输入以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo certbot renew --dry-run</span><br></pre></td></tr></table></figure>

<h2 id="api-kaifaweb-com"><a href="#api-kaifaweb-com" class="headerlink" title="api.kaifaweb.com"></a>api.kaifaweb.com</h2><p>api.conf<br>server {<br>    listen       443 ssl;<br>    server_name  api.kaifaweb.com;</p>
<pre><code>#charset koi8-r;
#access_log  /var/log/nginx/host.access.log  main;

location / &#123;
    proxy_pass http://127.0.0.1:3000;
&#125;

ssl_certificate  /etc/ssl/private/api.kaifaweb.com_bundle.crt;
ssl_certificate_key  /etc/ssl/private/api.kaifaweb.com.key;
ssl_session_timeout 5m;
 #请按照以下协议配置
ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
#请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。
ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;
ssl_prefer_server_ciphers on;
</code></pre>
<p>}</p>
<h2 id="resume-kaifaweb-com"><a href="#resume-kaifaweb-com" class="headerlink" title="resume.kaifaweb.com"></a>resume.kaifaweb.com</h2><p>server {<br>    listen       80;<br>    listen       443 ssl;<br>    server_name  resume.kaifaweb.com;</p>
<pre><code>location / &#123;
    root /home/remote/resume-template;
    index Q-kil.html;
    try_files $uri $uri/ /Q-kil.html;
&#125;

ssl_certificate  /etc/ssl/private/resume.kaifaweb.com_bundle.crt;
ssl_certificate_key  /etc/ssl/private/resume.kaifaweb.com.key;
ssl_session_timeout 5m;
 #请按照以下协议配置
ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
#请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。
ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;
ssl_prefer_server_ciphers on;
</code></pre>
<p>}</p>
<h1 id="Issues"><a href="#Issues" class="headerlink" title="Issues"></a>Issues</h1><h2 id="error-open-“-usr-local-var-run-nginx-pid”-failed-2-No-such-file-or-directory"><a href="#error-open-“-usr-local-var-run-nginx-pid”-failed-2-No-such-file-or-directory" class="headerlink" title="[error] open() “/usr/local/var/run/nginx.pid” failed (2: No such file or directory)"></a>[error] open() “/usr/local/var/run/nginx.pid” failed (2: No such file or directory)</h2><p>ssl<br>找到nginx.conf的文件夹目录，然后运行<br>nginx -c /usr/local/etc/nginx/nginx.conf命令<br>再运行nginx -s reload</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/07/fitness/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/07/fitness/" class="post-title-link" itemprop="url">fitness</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-07 19:37:53" itemprop="dateCreated datePublished" datetime="2020-07-07T19:37:53+08:00">2020-07-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/fitness/" itemprop="url" rel="index"><span itemprop="name">fitness</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="瘦肚子"><a href="#瘦肚子" class="headerlink" title="瘦肚子"></a>瘦肚子</h1><ul>
<li>力量训练<br>高强度间歇训练 High Intensity Interval Training，简称HIIT<br>标准：一组下来，一直在喘气，而不是还能说出来一两个字</li>
</ul>
<h1 id="六种健康餐"><a href="#六种健康餐" class="headerlink" title="六种健康餐"></a>六种健康餐</h1><h2 id="鸡胸肉西兰花加米饭"><a href="#鸡胸肉西兰花加米饭" class="headerlink" title="鸡胸肉西兰花加米饭"></a>鸡胸肉西兰花加米饭</h2><img src="/2020/07/07/fitness/food1.png" class="">
<p>经典健康餐组合<br>鸡胸肉：优质蛋白，蛋白质含量非常高，脂肪很少<br>西兰花：营养丰富，卡路里低<br>米饭：营养丰富，准备简单</p>
<p>做法：<br>鸡胸肉切片，放盐和胡椒。加热炒锅，喷一层零脂肪的喷油（目的不粘锅）。<br>喷油品牌：PAM<br>食用油的话，脂肪超标<br>鸡胸肉翻四次，变成金黄色</p>
<p>外加：<br>零卡辣椒酱</p>
<p>时长：8min<br>价格：15RMB</p>
<p>营养成分:<br>蛋白质：68G，碳水：66G，脂肪：8G</p>
<h2 id="罗非鱼加芦笋加红薯"><a href="#罗非鱼加芦笋加红薯" class="headerlink" title="罗非鱼加芦笋加红薯"></a>罗非鱼加芦笋加红薯</h2><img src="/2020/07/07/fitness/food2.png" class="">
<p>相比第一个更容易消化，红薯饱腹，续航时间更长</p>
<p>做法：<br>红薯：<br>厨房用纸包上，微波炉热几分钟</p>
<p>时长：8min<br>价格：20RMB</p>
<p>营养成分:<br>蛋白质：60G，碳水：40G，脂肪：6G</p>
<h2 id="肌肉沙拉三明治"><a href="#肌肉沙拉三明治" class="headerlink" title="肌肉沙拉三明治"></a>肌肉沙拉三明治</h2><img src="/2020/07/07/fitness/food3.png" class="">
<p>食材：<br>全麦面包（人工添加剂，糖分比较少的，避免胰岛素波动过大）<br>牛油果（增肌期的法宝）<br>火鸡肉片（或网购即食鸡胸肉）<br>蔬菜</p>
<p>时长：3min<br>价格：10RMB</p>
<p>营养成分:<br>蛋白质：36G，碳水：38G，脂肪：15G</p>
<h2 id="蘑菇菠菜鸡蛋卷"><a href="#蘑菇菠菜鸡蛋卷" class="headerlink" title="蘑菇菠菜鸡蛋卷"></a>蘑菇菠菜鸡蛋卷</h2><img src="/2020/07/07/fitness/food4.png" class="">
<p>减脂期早餐</p>
<p>蘑菇菠菜：微量元素很多，卡路里很低</p>
<p>做法：<br>锅热，喷油，放蘑菇，放盐和胡椒。<br>快熟了把菠菜放进去，把鸡蛋打进去。<br>放点辣酱，完成。</p>
<p>时长：5min<br>价格：5RMB</p>
<p>营养成分:<br>蛋白质：18G，碳水：7G，脂肪：15G</p>
<h2 id="吞拿鱼罐头沙拉"><a href="#吞拿鱼罐头沙拉" class="headerlink" title="吞拿鱼罐头沙拉"></a>吞拿鱼罐头沙拉</h2><img src="/2020/07/07/fitness/food5.png" class="">
<p>食材：<br>鱼罐头：沙丁鱼 和 吞拿鱼<br>罐头选择：水浸而不是油浸，避免额外脂肪</p>
<p>做法：<br>混合在一起</p>
<p>时长：2min<br>价格：8-15RMB</p>
<p>营养成分:<br>蛋白质：17G，碳水：4G，脂肪：2G</p>
<h2 id="蓝莓蛋白麦片"><a href="#蓝莓蛋白麦片" class="headerlink" title="蓝莓蛋白麦片"></a>蓝莓蛋白麦片</h2><img src="/2020/07/07/fitness/food6.png" class="">
<p>练前一个小时吃，充足的碳水，保证好的运动表现<br>蛋白棒</p>
<p>时长：2min<br>价格：10RMB</p>
<p>营养成分:<br>蛋白质：20G，碳水：71G，脂肪：7G</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/07/deploy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/07/deploy/" class="post-title-link" itemprop="url">deploy</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-07 16:50:54" itemprop="dateCreated datePublished" datetime="2020-07-07T16:50:54+08:00">2020-07-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/deploy/" itemprop="url" rel="index"><span itemprop="name">deploy</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="自动化部署"><a href="#自动化部署" class="headerlink" title="自动化部署"></a>自动化部署</h1><h1 id="Rancher"><a href="#Rancher" class="headerlink" title="Rancher"></a>Rancher</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/03/test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/03/test/" class="post-title-link" itemprop="url">test</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-03 17:23:10" itemprop="dateCreated datePublished" datetime="2020-07-03T17:23:10+08:00">2020-07-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/test/" itemprop="url" rel="index"><span itemprop="name">test</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>yarn add jest jest-webpack</p>
<h1 id="大公司"><a href="#大公司" class="headerlink" title="大公司"></a>大公司</h1><p>git 提交前，跑一遍jest，出错打回</p>
<h1 id="e2e"><a href="#e2e" class="headerlink" title="e2e"></a>e2e</h1><p>端到端测试，集成测试控件</p>
<p>end-to-end<br>站在用户角度的测试<br>e2e测试是把我们的程序堪称是一个黑盒子，我不懂你内部是怎么实现的，我只负责打开浏览器，把测试内容在页面上输入一遍，看是不是我想要得到的结果。</p>
<p>两者的存在都是很有意义的。<br>unit测试是程序员写好自己的逻辑后可以很容易的测试自己的逻辑返回的是不是都正确。<br>e2e代码是测试所有的需求是不是都可以正确的完成，而且最终要的是在代码重构，js改动很多之后，需要对需求进行测试的时候测试代码是不需要改变的，你也不用担心在重构后不能达到客户的需求。</p>
<h1 id="unit"><a href="#unit" class="headerlink" title="unit"></a>unit</h1><p>单元测试<br>站在程序员的角度测试<br>unit测试是把代码看成是一个个的组件。从而实现每一个组件的单独测试，测试内容主要是组件内每一个函数的返回结果是不是和期望值一样。<br>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">compare</span> = (<span class="params">a,b</span>) =&gt; a&gt;b?<span class="attr">a</span>:b</span><br><span class="line">对这个函数进行测试</span><br><span class="line"><span class="title function_">expect</span>(<span class="title function_">compare</span>(<span class="number">1</span>,<span class="number">2</span>)).<span class="property">to</span>.<span class="title function_">equal</span>(<span class="number">2</span>) <span class="comment">//ok</span></span><br><span class="line"><span class="title function_">expect</span>(<span class="title function_">compare</span>(<span class="number">2</span>,<span class="number">1</span>)).<span class="property">to</span>.<span class="title function_">equal</span>(<span class="number">1</span>) <span class="comment">//ok</span></span><br><span class="line">测试完成</span><br></pre></td></tr></table></figure>

<h1 id="CI-CD"><a href="#CI-CD" class="headerlink" title="CI/CD"></a>CI/CD</h1><h2 id="早期手动部署代码"><a href="#早期手动部署代码" class="headerlink" title="早期手动部署代码"></a>早期手动部署代码</h2><ul>
<li>纯手动scp上传代码</li>
<li>纯手动登陆，Git pull 或者 SVN update</li>
<li>纯手动xftp上传代码</li>
<li>开发发送压缩包，rz上传，解压部署代码</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>全程运维参与，占用大量时间</li>
<li>如果节点多，上线速度慢</li>
<li>人为失误多，目录管理混乱</li>
<li>回滚不及时，或者难以回退</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/02/ES7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/02/ES7/" class="post-title-link" itemprop="url">ES7</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-02 14:43:13" itemprop="dateCreated datePublished" datetime="2020-07-02T14:43:13+08:00">2020-07-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ECMAScript/" itemprop="url" rel="index"><span itemprop="name">ECMAScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h1><h2 id="幂操作"><a href="#幂操作" class="headerlink" title="幂操作"></a>幂操作</h2><p>Math.pow(3, 5); =&gt; 3**5</p>
<h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><p>arr.indexOf(8) =&gt; arr.includes(8)<br>indexOf 操作的是下表</p>
<h1 id="ES8"><a href="#ES8" class="headerlink" title="ES8"></a>ES8</h1><p>async/await</p>
<h1 id="ES9"><a href="#ES9" class="headerlink" title="ES9"></a>ES9</h1><p>rest/spread 类似 async/await</p>
<p>异步迭代</p>
<p>Promise.all/race/finally</p>
<p>正则表达式</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/01/interview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/01/interview/" class="post-title-link" itemprop="url">interview</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-01 14:03:10" itemprop="dateCreated datePublished" datetime="2020-07-01T14:03:10+08:00">2020-07-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>offer全称是offer letter “录用信”或“录取通知”</p>
<h1 id="大厂"><a href="#大厂" class="headerlink" title="大厂"></a>大厂</h1><p>张秋怡：如果你想进大厂的话，只要在面试的阶段尽可能表现出自己靠谱，就OK了（怕招到不靠谱的人来创造负价值）<br>靠谱的表现：</p>
<h3 id="要有比较好的计算机基础"><a href="#要有比较好的计算机基础" class="headerlink" title="要有比较好的计算机基础"></a>要有比较好的计算机基础</h3><p>数据结构与算法，操作系统，编译原理，计算机网络等等<br>拓展到其他领域（WebGL —— 计算机图形学，Node.js 底层 —— 操作系统，JS 引擎和各种预编译工具—— 编译原理, etc.）的时候会更快上手。</p>
<h3 id="要懂得现代前端的一些新技术"><a href="#要懂得现代前端的一些新技术" class="headerlink" title="要懂得现代前端的一些新技术"></a>要懂得现代前端的一些新技术</h3><ul>
<li>前端自动化工具（Gulp/Grunt等）</li>
<li>模块化（CommonJS，AMD/CMD模块加载器，各种Bundler，ES2015 Modules等）</li>
<li>前端 MV* 框架（Backbone，Angular等）</li>
<li>编译到 CSS 和 JS 的一些语言（Less/Sass/CoffeeScript等）</li>
<li>前端自动化测试工具（Karma，Mocha，Web Driver等）<br>我个人是觉得这些工具不一定要都了解（毕竟它们很多也未必能火多久），但对这些东西要有大致的概念，并且每个领域的用过一两种（最好是在项目里），清楚它们的优缺点和必要程度。这是区分在前端上投入过一定精力的人和跨行来兼职前端的人的标志。<br>如果你对这些新技术比较了解的话，起码能够证明你是比较专注前端而且花过一定时间在上面的。<br>前端现在确实是一个每天都有很多轮子冒出来的领域，也需要你有足够强的自学能力和（英文）文档阅读能力去跟上社区的这些新动态。接触过比较多的轮子，才会有自己的判断，不会老是人云亦云火一个学一个。<br>这些工具里，确实也有很多在合适的场景下可以提高前端的生产力或者代码质量，对这些东西有一定关注，也表明你对自己的生产力和代码质量是有一定关注的，这其实是一个更广义的靠谱程序员的特性。</li>
</ul>
<h3 id="懂得什么是-Web-标准和浏览器开发维护的流程，并且会跟进新发布的标准和主流浏览器新实现的特性"><a href="#懂得什么是-Web-标准和浏览器开发维护的流程，并且会跟进新发布的标准和主流浏览器新实现的特性" class="headerlink" title="懂得什么是 Web 标准和浏览器开发维护的流程，并且会跟进新发布的标准和主流浏览器新实现的特性"></a>懂得什么是 Web 标准和浏览器开发维护的流程，并且会跟进新发布的标准和主流浏览器新实现的特性</h3><p>一般不会直接问你这方面的问题</p>
<ul>
<li>HTML、CSS、DOM，ECMAScript 和一些泛 HTML5 的标准是怎么制定的</li>
<li>W3C 和 WHATWG 的区别</li>
<li>各种标准的不同版本和提交状态是怎么回事</li>
<li>知道标准和实现的差距（有些人喜欢把 W3C 标准奉为圭臬，但现实中浏览器们并不是这样的）</li>
<li>知道 ECMAScript 和 JavaScript 的区别</li>
<li>知道浏览器的一些常见做法（比如给 CSS 特性加前缀）的缘由<br>你自己对前端比较基础的那部分的知识体系更会有条理得多。个人觉得这也是区分比较有经验的前端和临时跨行的前端的关键之一，这些东西是需要你经过一段时间的耳濡目染才能理清楚，而且会在一定程度上影响你的工作的。</li>
</ul>
<h3 id="多看书，多关注技术资讯"><a href="#多看书，多关注技术资讯" class="headerlink" title="多看书，多关注技术资讯"></a>多看书，多关注技术资讯</h3><p>技术资讯的来源包括RSS、邮件订阅、比较重要的邮件列表、或者follow Twitter和微博上一些比较有影响力的开发者。个人经验是，一般在二面或者三面的时候，面试官都会问类似“你从哪里接触前端的新技术/你看过哪些书”的问题，因为前端现在技术更新很快，比较专注于前端这方面的人一般都会有自己接触新技术的渠道，他们自然也会比较关心候选人是不是有在跟进社区的一些动向。其实这也能够排除那些不太靠谱的临门跨行的人，因为他们平时一般不会特意去关注前端技术的新动态的。</p>
<h3 id="不仅懂得一些东西怎么写，更要懂得一些东西不要怎么写"><a href="#不仅懂得一些东西怎么写，更要懂得一些东西不要怎么写" class="headerlink" title="不仅懂得一些东西怎么写，更要懂得一些东西不要怎么写"></a>不仅懂得一些东西怎么写，更要懂得一些东西不要怎么写</h3><p>Web 标准大多不是严格向后兼容的，很多几年前常用的写法，现在已经被社区的大多数人强烈建议避开了，有很多特性也随着时间的流逝被打上了 deprecated 的标签</p>
<ul>
<li>JavaScript 里那数量令人叹为观止的坑</li>
<li>一些在经验比较丰富的前端看来属于常识的东西（比如：为什么 CSS 大多放在 head，JavaScript 多放在 body 底端？）</li>
<li>划分各种模块、文件，添加模板的正确方式（比如错误方式是一堆脚本/样式写在一个超大文件里，或者在有替代方式的情况下在 JavaScript 里拼字符串）</li>
<li>解决一些老问题的新的best/better practice（比如不要到了 2015 年还深陷在回调地狱，去看看 promise 和 generator）<br>这些知识都需要你有一定的前端方面的经验，看过比较多相关的博客和书，才能慢慢积累起来，所以也能区分靠谱的前端和不靠谱的前端。</li>
</ul>
<h3 id="不依赖某一个特定的框架或者库"><a href="#不依赖某一个特定的框架或者库" class="headerlink" title="不依赖某一个特定的框架或者库"></a>不依赖某一个特定的框架或者库</h3><p>比如很常见的“离开了jQuery就不会写前端”星人……也不是说要做原生 JavaScript/CSS 和 DOM 的原教旨主义者，但高度依赖某个框架或者某个库的话，通常意味着换了一个框架/库你的学习成本会比不依赖特定轮子的人高，因为这通常是处于还不知道前端领域“什么是什么”的阶段的表现。事实上前端领域的这些轮子有一些都是其他领域早就有，或者根本不需要的东西，其中很多的实现原理也不是那么复杂，只不过是脏活累活。个人觉得对这些东西应该报以“不能知其然而不知其所以然”的态度，起码大概清楚它们的实现是怎样的套路，知道它们的优缺点，多接触几种，这样在换一个替代品的时候很快就能上手。因为前端的特殊性，在开发比较大的项目的时候使用库和框架是必须的（比如遇到各种鼠标事件的前端兼容问题时，总不能全都就地写 if-else 吧，总得封装一下。遇到非常 data-driven 的项目，还用手动操作 DOM 的写法很难维护吧，用个 MV* 框架真的不纯是偷懒了），但是这些东西都是会迅速改朝换代的，死守着某个特定的库或者框架，确实不太靠谱。很多公司喜欢问候选人“原生 API 写个 Ajax 请求怎么写”这类问题，感觉很大程度上也是在排除这类人……</p>
<h3 id="懂一点点设计"><a href="#懂一点点设计" class="headerlink" title="懂一点点设计"></a>懂一点点设计</h3><p>这里说的不是切图啊PS啊AI啊什么的，而是大概懂基础的视觉传达/色彩构成/平面构成的知识。毕竟前端是和设计师联系最密切的程序员，虽然前端要做的事不仅仅包括 UI/UX，但是 UI/UX 却都主要依赖前端来实现。很多时候，设计师（特别是不会前端技术的设计师）给出的设计可能很难（在照顾兼容性的前提下）实现，这个时候不应该跟他硬拼让他改设计，或者自己默默纠结怎么用很 hack 很难维护的方法去实现，而是理解设计的意图，并且跟设计师沟通，尽可能在工程上容易实现容易维护的前提下实现设计的意图，哪怕要修改一些具体的表现形态。最恐怖的就是丢一张图过来，让你做到 pixel perfect，你也不问三七二十一直接开工，代码写得别扭也不去沟通，遇到不兼容就打个哈哈蒙混过关了……设计的目标是让大众都能更容易地使用，这样做是与设计师存在的意义背道而驰的，我也遇到过一些设计师会主动来问前端怎样的设计在浏览器里容易实现，怎样的设计比较别扭，这样他才能结合多方面的信息去做设计上的决定。如果你对设计不关心，不与他交流的话，实际上相当于剥夺了一些关心工程实现的设计师的知情权（一般正常的设计师看到自己的设计实现出来效果不好，也会小郁闷的……）。个人觉得与设计师沟通的技巧，也是一个靠谱的前端应该具备的素养。</p>
<h3 id="懂一点点后端"><a href="#懂一点点后端" class="headerlink" title="懂一点点后端"></a>懂一点点后端</h3><p>（这个是我看了一下别人的答案补加的）。其实这个和第一点的目的类似，最重要的是别要做一个非得等队友来才能开工的人。大厂（主要是阿里系）有不少在用 Node 做前后端分离一类的事，另外做前端的经常要在后端还没写完的时候自己去 mock 一下数据接口，如果你懂怎么搭建简单的服务器和 serve 数据给前端，那么就可以提高开发的效率。即使你只想专注前端，但前端有很多东西（比如 JS 跨域，WebSocket，SSE，WebGL 的素材获取）都需要你懂得架设简单的后端才能去实践，这时候不懂后端通常就意味着你要放弃学习这些知识，或者只能纸上谈兵。一个正常的前端肯定是要对计算机网络和 HTTP 等协议有一定了解的，有了这些知识去学简单的后端其实是很水到渠成的事情。</p>
<h3 id="在前端投入足够的时间"><a href="#在前端投入足够的时间" class="headerlink" title="在前端投入足够的时间"></a>在前端投入足够的时间</h3><p>意识到以上几点还需要投入足够多的时间才能看到成果，不然很容易出现“道理我都懂，可是OOO”的情况，那最后也还是靠谱不了的……<br>前端这块水不是很深，但水非常非常宽，在考虑将来作为一个前端如何发展如何应对天花板之前，先要脚踏实地把这些属于前端的“本分”的东西搞好。事实上前面提到的这些东西我也没有全都做到。作为前端，个人觉得最重要的是要保持一颗开放、谦卑的心，不要抵触新东西，永远记得外面的世界还有很多东西自己不懂，要继续学习。</p>
<p>作者：张秋怡<br>链接：<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/29448457/answer/45411615">https://www.zhihu.com/question/29448457/answer/45411615</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<h1 id="开课吧"><a href="#开课吧" class="headerlink" title="开课吧"></a>开课吧</h1><p>圈子比较小，做事情要让人挑不出毛病</p>
<h2 id="个人"><a href="#个人" class="headerlink" title="个人"></a>个人</h2><p>多思考多自省</p>
<h2 id="大厂面试流程"><a href="#大厂面试流程" class="headerlink" title="大厂面试流程"></a>大厂面试流程</h2><h3 id="一面：自我介绍，基础知识"><a href="#一面：自我介绍，基础知识" class="headerlink" title="一面：自我介绍，基础知识"></a>一面：自我介绍，基础知识</h3><p>lv平级同事<br>1.自我介绍：<br>（1）简单介绍自己工作时间及职业经历<br>（2）简单介绍现在负责的产品项目及所用技术栈（现在做的东西是什么，背景是什么，拿出来给面试官看的网址，产品里面是什么角色）<br>（3）未来的发展规划（近期5年内技术方向）<br>（4）说明目前看机会的原因（二面三面会问，一面不用说）</p>
<p>2.基础知识<br>注：基础概念，底层原理，算法等，会要求<code>手写代码</code>(promise实现，双向绑定)，不会说思路；没有技巧可言，全部靠自己的基础功力<br>对着脑图，写在纸上，多写几遍，加深印象；踏踏实实的<br>基础重要；基础知识扎实，一面都写出来了，offer就50%了</p>
<h3 id="二面：项目，实战问题"><a href="#二面：项目，实战问题" class="headerlink" title="二面：项目，实战问题"></a>二面：项目，实战问题</h3><p>lv级别比你高<br>1.项目中的问题：<br>（1）项目的应用场景，整体架构，数据交互方式，包括后端（radis）和数据库，及前端技术栈（最好有线上产品可访问）<br>（2）项目中实现复杂交互用到的技术难点，深入学习并覆盖到周边知识点<br>（3）项目中遇到的困难及解决方案（两方面：技术方面，排期沟通等其他方面）<br>注：如果是重构项目要说出设计思路及重构后的优势<br>简历上的技术，一定要会，实事求是，要不然面试官反感。觉得你不实在<br>lv级别高的人：没脾气，沟通问题一针见血</p>
<p>2.扩展实战问题：<br>（1）实现某一功能的思路（可能会手写代码）<br>（2）日常开发经常遇到的一些坑<br>（3）开放性问题，考逻辑思维，例如设计一个xxx组件（可能手写代码，伪代码，逻辑思维）（全站换皮肤，切换中英文，从头设计组件）<br>学历：本科；内推无所谓<br>年龄：30以上不要</p>
<p>通过80%</p>
<h3 id="三面：综合素质：（Boss）"><a href="#三面：综合素质：（Boss）" class="headerlink" title="三面：综合素质：（Boss）"></a>三面：综合素质：（Boss）</h3><p>1.逻辑思维能力：可能会问一些智力题或算法题（力扣刷题公司：滴滴，头条，快手，微信）<br>2.性格<br>（1）沟通能力：积极表达<br>（2）优缺点：缺点不能是真的缺点<br>（3）是否接受加班：实事求是</p>
<h3 id="四面：薪资沟通（HR）"><a href="#四面：薪资沟通（HR）" class="headerlink" title="四面：薪资沟通（HR）"></a>四面：薪资沟通（HR）</h3><p>坚持底线，争取预期（以前不加班，现在要加两个小时，手里有其他offer，拿出资本争取）<br>大公司背调上两家公司<br>好的前端不是在阿里，就是在阿里的路上</p>
<h2 id="面试准备"><a href="#面试准备" class="headerlink" title="面试准备"></a>面试准备</h2><h3 id="简历"><a href="#简历" class="headerlink" title="简历"></a>简历</h3><p>简单清晰，最多两页</p>
<ul>
<li><p>个人信息<br>基本信息，联系方式，毕业时间院校（北大清华可写，本科）等</p>
</li>
<li><p>专业技能<br>不要写’精通’（：底层实现，难的技术点都懂；不谦虚）</p>
</li>
<li><p>工作经历<br>实事求是</p>
</li>
<li><p>项目经验<br>切记流水线式介绍，突出难点及技术架构（流水线：几月到几月做了什么；全是时间点，项目名称，没有实际意义）</p>
</li>
<li><p>自我评价（幽默点）<br>资深猫奴，一儿一女，一人两猫</p>
</li>
</ul>
<p>简历是最重要的，第一步<br>不要盲目的去投，找适合自己的job，他职位写的要求跟自己是否匹配<br>招人：来了直接干活<br>了解什么什么，熟练掌握什么什么，熟悉什么什么</p>
<h3 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h3><p>怎么学？<br>基础：看书，理解，反复巩固（40%）<br>实现功能：刷题，动手写，总结（30%）<br>性能优化：刷题，动手写，总结（10%）<br>算法：刷题，理解，总结（10%）<br>设计思想：开源框架设计模式深入理解（10%）（mvvm）<br>注：二面项目不在这里面</p>
<p>系统的看书效率比较低，网上找些好的资源好的文章，掘金知乎<br>重点在于理解：有的人是记下来了，能说出来一个大概。仔细的去问一些原理的时候，他不知道，面试官就知道你是背下来的。重在理解，不要死记硬背。<br>简历里面不要写薪资，不要暴露给面试官，留到最后给HR谈</p>
<h3 id="误区"><a href="#误区" class="headerlink" title="误区"></a>误区</h3><ul>
<li>刷题越多越好（二八原则）</li>
<li>盲目的投简历（与自己匹配，能得到面试机会）</li>
<li>死记硬背（没有意义，深入理解）</li>
</ul>
<h2 id="百度项目流程"><a href="#百度项目流程" class="headerlink" title="百度项目流程"></a>百度项目流程</h2><ul>
<li>项目kick-off （pm：立项会，有没有必要做，收益）</li>
<li>需求评审 （对前端很重要，不合理的地方可以砍，是不是符合逻辑，满足用户需求体验；对文字的理解是不一样的，隐藏的坑；避免后期出问题，前期就要多想，帮pm想这件事是什么样的；多想多做是不会吃亏的）</li>
<li>交互视觉评审</li>
<li>开发设计评审 （有多少个接口，多少功能，QA根据排期）</li>
<li>开发联调自测 （QA提出P0自测，开发必须自测成功才可以提测）</li>
<li>效果确认 （pm确认）</li>
<li>提测准入 （冒烟测试）</li>
<li>测试修复bug （测三轮，测试报告发送全组）</li>
<li>测试通过上线</li>
<li>线上回归 （PM QA ）</li>
</ul>
<h1 id="简历-1"><a href="#简历-1" class="headerlink" title="简历"></a>简历</h1><h2 id="自荐简历要署名"><a href="#自荐简历要署名" class="headerlink" title="自荐简历要署名"></a>自荐简历要署名</h2><p>要在邮件标题、简历附件文件名上写清楚，谁、应聘什么岗位、建议层级（初级、资深、专家），好歹hr下载完附件之后不用再重命名了。</p>
<h2 id="word或pdf-简历文件"><a href="#word或pdf-简历文件" class="headerlink" title="word或pdf 简历文件"></a>word或pdf 简历文件</h2><h2 id="简历突出亮点，最好有作品"><a href="#简历突出亮点，最好有作品" class="headerlink" title="简历突出亮点，最好有作品"></a>简历突出亮点，最好有作品</h2><p>前端技术现在也分化的厉害，不严格划分的话，有 NodeJS、H5、Hybrid、架构和业务研发等方向，现在库和规范很多，但每个分支的难度、技术基线都类似（比如达到资深所消耗的时间都差不多），所以全栈通才固然好，每个方向都深入有点太难为人，但至少某一个方向要非常精钻非常深入。所以简历里要重点标出这个长处。实际上九成的简历里的“技能”部分几乎都是一样的，都差不多把前端用到的技术罗列一遍，毫无意义的占据简历中的黄金地段。所以，既然全栈不易，不如把自己最擅长的那个语言或技术高亮加粗出来，面试的时候我就直接绕过其他，专从这个“高亮加粗”部分来做一些技术探底了，以此来引导面试官来问你擅长的部分，更有利于你扬长避短。技术探底一般怎么做？看作品！如果擅长 Node，就看看 NPM 上提交的模块，install 下来演示下，讲讲核心代码。如果是一个组件，就直接看 Demo，讲设计封装思路。如果是一套脚手架工具，直接画架构图，讲原理和适用场景。如果是项目，那就 show 下你作为 PM 发的 Release 邮件！作品不仅仅是这些，也可以是技术专利、设计方案、成功的带人案例、成功的团建案例等，只要内容充实接地气，脉略（可以是代码、也可以是一件事）清晰，show 的过程中两眼放光唾沫星子乱飞，有这个感觉就对了。所以，简历里要适当带有这些储备好的作品，备着面试时狂秀一下。</p>
<h2 id="突出重点，展示能力"><a href="#突出重点，展示能力" class="headerlink" title="突出重点，展示能力"></a>突出重点，展示能力</h2><p>现在招一个能干活的人不难，难的是招一个能解决问题的。特别是像阿里这种业务性的研发，既要从业务方那领需求，又要警惕需求陷阱，准确识别出刚性需求，出方案，推执行，Release 结果。所以，应对这每个环节所需的技能，最好在简历里有所表现。具体说就是描述每个项目时，不仅要有背景、过程，还要有你为这个项目带来的结果。比如这样描述项目：</p>
<blockquote>
<p>我做了 XX 项目重构，用了 XX 技术方案，克服了 XX 的困难，最终让 XX 这类需求变更可以短平快的被消化，极速研发、快速上线、且数据采集也做到了标准化，研发成本大大降低，数据积累增长迅速，比如 XX ，最后在 XX 产品线中开始推广。</p>
</blockquote>
<p>在面试时，这种描述很容易引出有针对性的话题来聊，也正因为简历里有这些铺垫，可以节省大量的面聊时间，更快做出判断。相比之下，这种描述就不好：</p>
<blockquote>
<p>XX 项目前端研发，用了 AngluarJS，整个项目独立完成，包括整个 Boss 系统的受理收费、商品零售、小灵通短信群发、有线电视代收费、营业员/营业点结账等模块。</p>
</blockquote>
<p>这段描述只传达出一个信息，就是你用过 AngularJS。至于当初面临多少种技术选型，如何做取舍选择了 AngluarJS，这些系统模块之间如何基于 AngularJS 进行耦合，有没有涉及前端架构，AngularJS 用的有多深，项目成员分工怎样，如何并行研发？遇到过哪些你认为有价值的问题，并针对此提出应对方案，是代码解决还是组织解决？这个过程要靠面试的时候问答大半天才能搞清楚，问不出来的，基本也就跳过了。要是简历里表达出来，脑子里很嘹喨，面聊也不会很拖沓，能力评价自然会很高。</p>
<p>再补充一个，有好多人有写博客写总结的习惯，这个习惯非常好，如果某个总结能和简历里做的项目结合起来，就更好了。</p>
<h2 id="全绿的-Github-提交记录"><a href="#全绿的-Github-提交记录" class="headerlink" title="全绿的 Github 提交记录"></a>全绿的 Github 提交记录</h2><p>简历里附上 Github，最好提交记录那里泛绿的厉害，如果进到 Github 首页就想点开项目列表，找项目去读，如果看到有那种长时间维护的、Readme 写的清楚的、一本正经的写上“转载注明出处的”，基本上抓起电话就开聊了，结果基本上不会差。</p>
<h2 id="其他关注和不关注"><a href="#其他关注和不关注" class="headerlink" title="其他关注和不关注"></a>其他关注和不关注</h2><p>关注：每次换工作的离职原因，可量化的工作成果，能代表你最高水平的项目要写详细，标红加粗下划线，在简历中强调出来。</p>
<p>不关注：证书、四六级、了解的编程语言（如果不精通就不要写）、你不擅长什么、个人简介。</p>
<h2 id="典型问题"><a href="#典型问题" class="headerlink" title="典型问题"></a>典型问题</h2><p>技术探底的问题肯定会问一些，此外面试每个人多会问：</p>
<ol>
<li>哪个项目让你最满意、代表你的最高水平？如何做的？</li>
<li>让你印象最深刻的一个（技术）难点，害的你搞了很久，最后怎么解的，有什么心得？</li>
<li>你做的时间最久的一个项目（或产品），你看到这个项目有哪些问题，你能做什么？</li>
<li>你能给我们团队或者产品带来什么？</li>
</ol>
<p>这些问题不是硬性的，主要看平时是不是除了技术还琢磨点别的，特别是在阿里好多 BU 产品基本形态成型的基础上，要做试错、创新、提效、求精、找方向，这种情况下，只具备（完成刚性需求的）技术能力已经远不够了，而更需要辩证的执行。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>当然，上面这些都是建议，不管你觉得有没有用，坚持一个原则，那就是“简历不仅仅是履历（你做过什么），它的重要作用是展示能力（你能做好什么）！！！”</p>
<p>以上~</p>
<h1 id="大"><a href="#大" class="headerlink" title="大"></a>大</h1><p>过度装逼和坑爹的公司就不要去了，十有八九要玩儿球（面试的时候叨逼叨一大堆，薪资给一点点）<br>Q：写一个好点的项目，再去找工作<br>A：很多傻子都是这样想的。只要给你钱够，问啥都行。<br>E：先去面，面个一个月。</p>
<p>Q：做一个插件，写在简历里<br>A：下载一个开源的，花2小时把代码读一遍，然后写简历里。（你们这些小朋友还没有深刻理解中国人的猥琐）。<br>A：面试官真的Care你花一个月写的那个破玩意？不存在的。他们知道你写的那个破玩意是个垃圾。重点是你怎么描述你写的那一坨shit</p>
<p>A：在你没有任何外在的title可以获得溢价的情况下，你的口条是最重要的。举个例子：我去面试的时候，如果我发现面试者表达不清晰，或者口吃啥的，那么他说的是什么内容就不再重要了。再一个典型的问题：HR打电话过去，对面的应答冷冰冰，甚至连基本的社交礼仪也没有，后面说什么其实不重要了。有些小朋友自以为吊炸天，连基本的请，谢谢，您，这样的词都不说，这是在作死懂吧？还有女生把自己照片贴简历上的，这是在坑爹呢？我们招的是开发人员，不是招模特，你贴照片搞毛线？当然，男的也别贴照片，你以为你长得像吴彦祖吗？</p>
<p>A：你每多做一个动作，出错的概率就提升一丢丢。你最好只做必要的动作，只提供必须的信息，所有能删掉的请全部删掉</p>
<p>A：都2020年了，还有傻逼在简历写上：爱好游泳、爬山。爬你妹的山，有人care吗？没有人care你爱好什么东西，这你没点儿逼数？除非面试官口头问你，你可以谈</p>
<p>A：还有那种像微商在简历喊口号的，你是要在公司发展自己的客户? 没有人care你想什么，我们只看你的开发技能。比方说：在简历底部写一句，我相信越努力越幸运，CTMD有毛病。<br>别乱搞，这关系到你的钱，不该说的不要说，能不说的就不要说，别手贱。</p>
<p>A：你说的越多，万一别人盯着问怎么办？那不就尴尬了。level高靠人脉。</p>
<h1 id="Winter"><a href="#Winter" class="headerlink" title="Winter"></a>Winter</h1><h2 id="关于面试题"><a href="#关于面试题" class="headerlink" title="关于面试题"></a>关于面试题</h2><p>观点：不要准备面试题<br>合格的面试官：问题只是话题的起点<br>所以精心准备的答案可能在面试官的一次追问后全盘崩溃，一开始支支吾吾的面试者，也可能在面试官逐渐的引导下展示出自己的能力。</p>
<p>面试和考试不同，面试可能因为一个问题答得好而通过，也可能因为一个回答不好而通过。其实面试只有结果，没有分数。设想以下场景：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">“能解释一下http协议中302这个状态码是什么吗？”，“我不记得了。” （0分）</span><br><span class="line"></span><br><span class="line">“能解释一下http协议中302这个状态码是什么吗？”，“哦，记不清了，我只记得404是找不到页面，304是可以从缓存读取，5xx是服务端错误” （加分，了解一定http状态）</span><br><span class="line"></span><br><span class="line">“能解释一下http协议中302这个状态码是什么吗？”，“啊，那个，应该是服务端错误吧？”（倾向于面试不通过，不了解的时候尝试猜测蒙混，这种特质对工作不利）</span><br></pre></td></tr></table></figure>

<p>你看，同样的一个问题，同样是应聘者不知道问题的答案的情况，结果却大相径庭。</p>
<p>所以，面对面试题，过程重于结果，纠结于题目、准备答案是不会有任何意义的。</p>
<p>面试时该如何做呢？以下是我的几点建议：</p>
<p>1、厘清问题，必要时可以跟面试官沟通确认，避免误解，不但理解问题，还要同时思考面试官的意图<br>2、不急于开始回答，可以先分析问题，列举实际案例，争取思考时间<br>2、不限于回答问题，可以以对面试官意图的理解为基础，主动讲解相关知识，展示自己对相关领域的体系化思考<br>4、正面承认自己了解和不了解的东西，不敷衍，不猜测，有记不清的地方，可以正面要求面试官提示</p>
<p>以上四点，都是只有面试场景才能够使用的，这也是为什么我说“面试和考试不同”。</p>
<h2 id="关于争论"><a href="#关于争论" class="headerlink" title="关于争论"></a>关于争论</h2><p>一、不要正面否定对方，尝试认同对方观点合理性，再从侧面反驳。</p>
<p>二、展示推理过程，从双方共同认可的观点出发，层层推理得出你的结论，在过程中，不断跟面试官讨论确认。</p>
<p>三、引述出处，使用专业词汇，使得面试官对你的观点天然产生敬畏，不敢草率否定。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">“说说为什么JavaScript是一门基于对象的语言而不是面向对象的语言？” “JavaScript明明就是面向对象啊？”（惨死，还是冤死）</span><br><span class="line"></span><br><span class="line">“说说为什么JavaScript是一门基于对象的语言而不是面向对象的语言？” “哦，JavaScript的语言规范ECMA262的序章里面提到过JavaScript是面向对象的语言，而ECMA262名词解释里也提到了JavaScript是基于对象的语言。在它这个定义里面，面向对象是指以对象为主要抽象工具，描述逻辑，基于对象是指基础库和运行时设施，以对象为基础来设计。所以JavaScript既是面向对象，又是基于对象。JavaScript是基于对象的语言而不是面向对象这个说法我好像也听过，但是记不太清了，因为觉得语言规范比较权威嘛，呵呵”（说的有凭有据，又留足面子，至少得回去掂量一下……）</span><br></pre></td></tr></table></figure>

<h2 id="关于简历"><a href="#关于简历" class="headerlink" title="关于简历"></a>关于简历</h2><p>简历只是信息的载体，不管它有多好看，不管你制作的多认真，最重要的还是它的内容。<br>所以，简历上最重要的是什么呢？各个岗位有所不同，下面是我对技术岗位的简历上比较看重的内容：</p>
<ul>
<li><p>工作履历，尤其是上一份工作，公司名是否听过，公司档次，如BAT、FLG，岗位</p>
</li>
<li><p>教育经历，是否是top2 是否是国外名校，是否是985、211学校，是否有ACM竞赛获奖经历</p>
</li>
<li><p>技术社区贡献，blog是否有深度内容，是否有稳定更新，github上有没有高质量开源项目</p>
</li>
<li><p>项目经历，项目的规模，复杂程度，其中体现的</p>
</li>
<li><p>个性化内容：技术视野，个人成长经历，个人研究内容，学习方法<br>写简历的时候，首先要明白，HR或者主管查看简历的时候，一般只会花费1分钟，于是有以下几点建议</p>
</li>
<li><p>这其中次要信息越少，重要信息就越突出</p>
</li>
<li><p>任何复杂的排版方式，都会加大阅读困难</p>
</li>
<li><p>变色强调非常有用，可以突出重点，但是到处变色强调是灾难</p>
</li>
<li><p>技能列表，精通和熟悉，这些内容价值不高，偶尔还会惹麻烦<br>应届生常犯的错误是使用网上的各种简历模板，然后拼凑内容。没有项目经历硬造项目经历，找一些亲友开的公司硬挂靠顾问甚至总裁助理职位，这些东西会阻碍面试官看到真正有价值的内容。</p>
</li>
</ul>
<p>正确的写简历方式是用一张白纸，先写好必要的个人信息和联系方式，然后列出所有你觉得自己做过的有价值的事和拿到的荣誉，按照从重要到不重要依次排列，再做简单的分类组织。</p>
<p>然后，问题来了，对很多人来说，这个列表是空的？怎么办？</p>
<p>我的建议是，既然是空的，那就不写，请把经历放在个性化内容上，从技术视野，个人成长经历，个人研究内容，学习方法中，选择一项，深入谈谈你做过的努力，这些也有可能打动面试官，比硬性拼凑的内容强过百倍。</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>2008年我升任WAPCMS项目负责人，带领一个3人小组支持着每天超过2亿的PV（这就是Benefit。你能带给前雇主的价值，也就是你能带给新雇主的价值。）。</p>
<p>同样一个知识点，如果你知道是什么：初级水平；如果能知道怎么用：中级水平；如果知道原理并能自己实现：高级水平；再进一步，如果知道背后牵扯到其他的哪些知识点并能对这个知识点有自己的见解：专家水平。</p>
<p>Q：很多东西都知道，面试的时候就是说不出来，面试完了就反应过来了<br>A：是的，所以要先背好（冯羽）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/01/interview-browser/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kil">
      <meta itemprop="description" content="心如止水，潜心修行">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kil Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/01/interview-browser/" class="post-title-link" itemprop="url">interview-browser</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-01 09:32:23" itemprop="dateCreated datePublished" datetime="2020-07-01T09:32:23+08:00">2020-07-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="输入url后发生了什么"><a href="#输入url后发生了什么" class="headerlink" title="输入url后发生了什么"></a>输入url后发生了什么</h1><p>这个问题的核心是在问从输入URL到页面渲染经历了哪些过程。<br>从耗时过程来看，可以分为DNS解析、TCP连接、HTTP请求与响应、客户端浏览器解析渲染、连接结束。其中浏览器解析渲染包含HTML词法、语法的解析、CSS解析、DOM树生成、渲染树建立、屏幕绘制。<br>下面针对几个较为重要的过程做下介绍。</p>
<h3 id="DNS解析"><a href="#DNS解析" class="headerlink" title="DNS解析"></a>DNS解析</h3><p>当我们在浏览器中输入如<code>www.taobao.com</code>的时候，DNS解析充当了一个翻译的角色，把网址「翻译」成了IP地址。DNS解析的过程就是域名到IP地址的转换的过程。域名解析也叫域名指向、服务器设置、域名配置以及反向IP登记等等。说得简单点就是将好记的域名解析成IP，服务由DNS服务器完成，把域名解析到一个IP地址，然后在此IP地址的主机上将一个子目录与域名绑定。</p>
<img src="/2020/07/01/interview-browser/dns.png" class="">

<h3 id="TCP连接"><a href="#TCP连接" class="headerlink" title="TCP连接"></a>TCP连接</h3><p>TCP连接的重要目的，是为了保证消息的有序和不丢包，为了建立可靠的数据传输，TCP通信双方相互告知初始化序列号，并确定对方已经收到ISN的，整个链接的过程就是我们俗称的<code>三次握手</code>。</p>
<img src="/2020/07/01/interview-browser/tcp.png" class="">

<h3 id="HTTP请求与响应"><a href="#HTTP请求与响应" class="headerlink" title="HTTP请求与响应"></a>HTTP请求与响应</h3><p>HTTP请求它主要发生在客户端，发送HTTP请求的过程就是构建HTTP请求报文并通过TCP协议发送到服务器指定端口的过程。<br>还是用 <code>www.taobao.com</code> 举例子。<br>当在地址栏输入后，浏览器会分析这个url，并设置好请求报文发出。请求报文中包括请求行(包括请求的方法，路径和协议版本)、请求头(包含了请求的一些附加的信息，一般是以键值的形式成对存在)、空行(协议中规定请求头和请求主体间必须用一个空行隔开)、请求主体(对于post请求，所需要的参数都不会放在url中，这时候就需要一个载体了，这个载体就是请求主体)。服务端收到这个请求后，会根据url匹配到的路径做相应的处理，最后返回浏览器需要的页面资源。处理后，浏览器会收到一个响应报文，而所需要的资源就就在报文主体上。与请求报文相同，响应报文也有与之对应的起始行(响应报文的起始行同样包含了协议版本，与请求的起始行不同的是其包含的还有状态码和状态码的原因短语)、响应头(对应请求报文中的请求头，格式一致，但是各自有不同的首部)、空行、报文主体(请求所需要的资源)，不同的地方在于包含的东西不一样。</p>
<h3 id="HTML词法、语法解析"><a href="#HTML词法、语法解析" class="headerlink" title="HTML词法、语法解析"></a>HTML词法、语法解析</h3><p>对我们来说HTML其实是一坨字符串，而实际上我们要面对的是”字符流”。为了把字符流解析成正确的可被浏览器识别的结构，我们需要做的事情分为两步：<br>词法分析：把字符流初步解析成我们可理解的”词”，学名叫token。<br>语法分析：把开始结束标签配对、属性赋值好、父子关系连接好、构成dom树。<br>html结构其实不算太复杂，我们平时见到的大部分都只是标签、属性、注释、CDATA节点。</p>
<h3 id="屏幕绘制"><a href="#屏幕绘制" class="headerlink" title="屏幕绘制"></a>屏幕绘制</h3><img src="/2020/07/01/interview-browser/render.png" class="">
<p>DOM树的生成和渲染树建立比较好理解这个就不做展开。完成了这「两棵树」的构造后，就进入屏幕绘制阶段。<br>在绘制的过程中，会遍历渲染树，调用由浏览器的UI组件的paint()方法在屏幕上显示对应的内容，并根据渲染树布局，计算CSS样式(即每个节点在页面中的大小和位置等几何信息)。<br>HTML默认是从上到下流式布局的，CSS和JS的加入会打破这种布局，改变DOM的外观样式以及大小和位置。这就引出两个非常重要的概念：replaint重绘和reflow重排。<br>replaint重绘，屏幕的一部分重新绘制，不影响整体布局，比如某个CSS的背景色变了，但元素的几何尺寸和位置不变。eflow重排： 意味着元件的几何尺寸变了，我们需要重新验证并计算渲染树。是渲染树的一部分或全部发生了变化。无论是重绘还是重排，对浏览器而言都是一种「消耗」，所以我们应该尽量减少这两种状态的触发。</p>
<p>作者：冴羽<br>链接：<a target="_blank" rel="noopener" href="https://juejin.im/post/5e82aa8df265da47ca6910b5">https://juejin.im/post/5e82aa8df265da47ca6910b5</a><br>来源：掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<h1 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h1><p>301<br>被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一</p>
<p>302<br>请求的资源现在临时从不同的 URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。</p>
<p>304<br>如果客户端发送了一个带条件的 GET 请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个状态码。</p>
<h1 id="GET与POST的区别"><a href="#GET与POST的区别" class="headerlink" title="GET与POST的区别"></a>GET与POST的区别</h1><h2 id="GET-从指定的资源请求数据。"><a href="#GET-从指定的资源请求数据。" class="headerlink" title="GET - 从指定的资源请求数据。"></a>GET - 从指定的资源请求数据。</h2><ul>
<li>GET 请求可被缓存</li>
<li>GET 请求保留在浏览器历史记录中</li>
<li>GET 请求可被收藏为书签</li>
<li>GET 请求不应在处理敏感数据时使用</li>
<li>GET 请求有长度限制</li>
<li>GET 请求只应当用于取回数据</li>
</ul>
<h2 id="POST-向指定的资源提交要被处理的数据"><a href="#POST-向指定的资源提交要被处理的数据" class="headerlink" title="POST - 向指定的资源提交要被处理的数据"></a>POST - 向指定的资源提交要被处理的数据</h2><ul>
<li>POST 请求不会被缓存</li>
<li>POST 请求不会保留在浏览器历史记录中</li>
<li>POST 不能被收藏为书签</li>
<li>POST 请求对数据长度没有要求</li>
</ul>
<img src="/2020/07/01/interview-browser/get&post1.png" class="">

<p>然而这只是表层的区别，当你自信满满回答，面试人徽徽一笑这傻蛋！</p>
<h2 id="若要搞明白get与post区别还得从底层分析："><a href="#若要搞明白get与post区别还得从底层分析：" class="headerlink" title="若要搞明白get与post区别还得从底层分析："></a>若要搞明白get与post区别还得从底层分析：</h2><p>无论是GET || POST 从底层上我们都要遵守HTTP协议，HTTP协议是什么呢？类似于我们的交通法规，无论你是挂着GET牌照还是POST牌照都要遵从HTTP的要求。<br>真正要传输数据还是要看我们TCP传输控制协议（TCP，Transmission Control Protocol）是一种面向连接的、可靠的、基于字节流的传输层通信协议。这是请求和服务端建立连接的暗语。<br>这就是TCP（C：天王盖地虎 S：宝塔镇河妖 C：来者都是客 S：吃饭）</p>
<img src="/2020/07/01/interview-browser/get&post2.gif" class="">

<p>GET和POST本质上就是TCP链接，并无差别。但是由于HTTP的规定和浏览器/服务器的限制，导致他们在应用过程中体现出一些不同。<br>重大差异</p>
<p>对于GET方式的请求，浏览器会把http，header和data一并发送出去，服务器响应200（返回数据）</p>
<p>而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据）。</p>
<p>因此，理论上讲get的性能是不是更胜一筹，但是你要知道服务器的计算能力已经很🐂    了，已经不再是冯诺依曼时代的计算机了，1毫秒与3毫秒的差别在用户体验上是完全感知不到的。处于post对大小不限制，安全等众多优势于一身，因此我更推荐大家使用post。</p>
<h1 id="跨域问题"><a href="#跨域问题" class="headerlink" title="跨域问题"></a>跨域问题</h1><p>不麻烦别人：nginx</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">kil</p>
  <div class="site-description" itemprop="description">心如止水，潜心修行</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">83</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/kilfront" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kilfront" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kaifaweb@163.com" title="E-Mail → mailto:kaifaweb@163.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class=""></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kil</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//code.jquery.com/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
